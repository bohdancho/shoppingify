var Jae=Object.defineProperty;var Hae=(Et,vt,Bt)=>vt in Et?Jae(Et,vt,{enumerable:!0,configurable:!0,writable:!0,value:Bt}):Et[vt]=Bt;var N=(Et,vt,Bt)=>(Hae(Et,typeof vt!="symbol"?vt+"":vt,Bt),Bt),ME=(Et,vt,Bt)=>{if(!vt.has(Et))throw TypeError("Cannot "+Bt)};var h=(Et,vt,Bt)=>(ME(Et,vt,"read from private field"),Bt?Bt.call(Et):vt.get(Et)),U=(Et,vt,Bt)=>{if(vt.has(Et))throw TypeError("Cannot add the same private member more than once");vt instanceof WeakSet?vt.add(Et):vt.set(Et,Bt)},J=(Et,vt,Bt,Za)=>(ME(Et,vt,"write to private field"),Za?Za.call(Et,Bt):vt.set(Et,Bt),Bt);var Dt=(Et,vt,Bt)=>(ME(Et,vt,"access private method"),Bt);let FE,DE,nw,Ja,iw,BE,Sr,bn,sw,km,rn,w6,yi,Ye,Ha,Io,k6,ow,xm,x6,N6,WE,Qa,S6,Zi,bi,aw,Nm,_6,Sm,qE,UE,E6,Qae=(async()=>{var eae,tae,rae,nae,iae,sae,oae,aae,lae,uae,cae,dae,hae,fae,pae,mae,gae,yae,bae,vae,wae,kae,xae,Nae,Sae,_ae,Eae,Oae,Cae,Tae,Iae,Rae,Aae,Lae,Pae,jae,Mae,Fae,Dae,Bae,Wae,qae,Uae,Ld,$i,ru,dt,sm,Vi,Ae,we,Ne,_o,Pd,Fv,jd,nu,iu,Dv,O6,Bv,C6,Wv,T6,su,_m,am,$E,qv,I6,lm,et,um,Md,Fd,au,cm,VE,Ba,Dd,Wa,lu,uu,$,Bd,Wd,Jn,Ud,$d,Vd,zd,Es,Kd,qa,dm,zE,Jd,Hd,Ua,it,cu,Eo,hm,zi,Xr,lr,st,Gt,ot,Hn,Ge,jr,gn,yn,Hv,At,Mr,Qn,Zn,xr,Qd,Cs,Ts,Oo,Ki,Va,Co,Zd,To,ym,Qv,R6,Zv,A6,Gv,L6,Yv,P6,bm,KE,vm,za,Xv,j6,Ka,fu,Fr,Ji,pu,Hi,ew,Xd,mu;function Et(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();function vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bt={exports:{}},Za={},JE={exports:{}},Me={},th=Symbol.for("react.element"),M6=Symbol.for("react.portal"),F6=Symbol.for("react.fragment"),D6=Symbol.for("react.strict_mode"),B6=Symbol.for("react.profiler"),W6=Symbol.for("react.provider"),q6=Symbol.for("react.context"),U6=Symbol.for("react.forward_ref"),$6=Symbol.for("react.suspense"),V6=Symbol.for("react.memo"),z6=Symbol.for("react.lazy"),HE=Symbol.iterator;function K6(e){return e===null||typeof e!="object"?null:(e=HE&&e[HE]||e["@@iterator"],typeof e=="function"?e:null)}var QE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZE=Object.assign,GE={};function gu(e,t,r){this.props=e,this.context=t,this.refs=GE,this.updater=r||QE}gu.prototype.isReactComponent={},gu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},gu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YE(){}YE.prototype=gu.prototype;function lw(e,t,r){this.props=e,this.context=t,this.refs=GE,this.updater=r||QE}var uw=lw.prototype=new YE;uw.constructor=lw,ZE(uw,gu.prototype),uw.isPureReactComponent=!0;var XE=Array.isArray,eO=Object.prototype.hasOwnProperty,cw={current:null},tO={key:!0,ref:!0,__self:!0,__source:!0};function rO(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)eO.call(t,n)&&!tO.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:th,type:e,key:s,ref:o,props:i,_owner:cw.current}}function J6(e,t){return{$$typeof:th,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dw(e){return typeof e=="object"&&e!==null&&e.$$typeof===th}function H6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nO=/\/+/g;function hw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H6(""+e.key):t.toString(36)}function Em(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case th:case M6:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+hw(o,0):n,XE(i)?(r="",e!=null&&(r=e.replace(nO,"$&/")+"/"),Em(i,t,r,"",function(u){return u})):i!=null&&(dw(i)&&(i=J6(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",XE(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+hw(s,a);o+=Em(s,t,r,l,i)}else if(l=K6(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+hw(s,a++),o+=Em(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Om(e,t,r){if(e==null)return e;var n=[],i=0;return Em(e,n,"","",function(s){return t.call(r,s,i++)}),n}function Q6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nn={current:null},Cm={transition:null},Z6={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Cm,ReactCurrentOwner:cw};Me.Children={map:Om,forEach:function(e,t,r){Om(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Om(e,function(){t++}),t},toArray:function(e){return Om(e,function(t){return t})||[]},only:function(e){if(!dw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},Me.Component=gu,Me.Fragment=F6,Me.Profiler=B6,Me.PureComponent=lw,Me.StrictMode=D6,Me.Suspense=$6,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z6,Me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ZE({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=cw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)eO.call(t,l)&&!tO.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:th,type:e.type,key:i,ref:s,props:n,_owner:o}},Me.createContext=function(e){return e={$$typeof:q6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:W6,_context:e},e.Consumer=e},Me.createElement=rO,Me.createFactory=function(e){var t=rO.bind(null,e);return t.type=e,t},Me.createRef=function(){return{current:null}},Me.forwardRef=function(e){return{$$typeof:U6,render:e}},Me.isValidElement=dw,Me.lazy=function(e){return{$$typeof:z6,_payload:{_status:-1,_result:e},_init:Q6}},Me.memo=function(e,t){return{$$typeof:V6,type:e,compare:t===void 0?null:t}},Me.startTransition=function(e){var t=Cm.transition;Cm.transition={};try{e()}finally{Cm.transition=t}},Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Me.useCallback=function(e,t){return nn.current.useCallback(e,t)},Me.useContext=function(e){return nn.current.useContext(e)},Me.useDebugValue=function(){},Me.useDeferredValue=function(e){return nn.current.useDeferredValue(e)},Me.useEffect=function(e,t){return nn.current.useEffect(e,t)},Me.useId=function(){return nn.current.useId()},Me.useImperativeHandle=function(e,t,r){return nn.current.useImperativeHandle(e,t,r)},Me.useInsertionEffect=function(e,t){return nn.current.useInsertionEffect(e,t)},Me.useLayoutEffect=function(e,t){return nn.current.useLayoutEffect(e,t)},Me.useMemo=function(e,t){return nn.current.useMemo(e,t)},Me.useReducer=function(e,t,r){return nn.current.useReducer(e,t,r)},Me.useRef=function(e){return nn.current.useRef(e)},Me.useState=function(e){return nn.current.useState(e)},Me.useSyncExternalStore=function(e,t,r){return nn.current.useSyncExternalStore(e,t,r)},Me.useTransition=function(){return nn.current.useTransition()},Me.version="18.2.0",JE.exports=Me;var Z=JE.exports;const ur=vt(Z),iO=Et({__proto__:null,default:ur},[Z]);var G6=Z,Y6=Symbol.for("react.element"),X6=Symbol.for("react.fragment"),eD=Object.prototype.hasOwnProperty,tD=G6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rD={key:!0,ref:!0,__self:!0,__source:!0};function sO(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)eD.call(t,n)&&!rD.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Y6,type:e,key:s,ref:o,props:i,_owner:tD.current}}Za.Fragment=X6,Za.jsx=sO,Za.jsxs=sO,Bt.exports=Za;var W=Bt.exports,fw={},oO={exports:{}},Cn={},aO={exports:{}},lO={};(function(e){function t(D,j){var Q=D.length;D.push(j);e:for(;0<Q;){var ve=Q-1>>>1,pe=D[ve];if(0<i(pe,j))D[ve]=j,D[Q]=pe,Q=ve;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var j=D[0],Q=D.pop();if(Q!==j){D[0]=Q;e:for(var ve=0,pe=D.length,Lt=pe>>>1;ve<Lt;){var Yt=2*(ve+1)-1,en=D[Yt],je=Yt+1,Je=D[je];if(0>i(en,Q))je<pe&&0>i(Je,en)?(D[ve]=Je,D[je]=Q,ve=je):(D[ve]=en,D[Yt]=Q,ve=Yt);else if(je<pe&&0>i(Je,Q))D[ve]=Je,D[je]=Q,ve=je;else break e}}return j}function i(D,j){var Q=D.sortIndex-j.sortIndex;return Q!==0?Q:D.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,m=!1,g=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var j=r(u);j!==null;){if(j.callback===null)n(u);else if(j.startTime<=D)n(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=r(u)}}function x(D){if(b=!1,w(D),!g)if(r(l)!==null)g=!0,ue(_);else{var j=r(u);j!==null&&G(x,j.startTime-D)}}function _(D,j){g=!1,b&&(b=!1,y(R),R=-1),m=!0;var Q=f;try{for(w(j),c=r(l);c!==null&&(!(c.expirationTime>j)||D&&!M());){var ve=c.callback;if(typeof ve=="function"){c.callback=null,f=c.priorityLevel;var pe=ve(c.expirationTime<=j);j=e.unstable_now(),typeof pe=="function"?c.callback=pe:c===r(l)&&n(l),w(j)}else n(l);c=r(l)}if(c!==null)var Lt=!0;else{var Yt=r(u);Yt!==null&&G(x,Yt.startTime-j),Lt=!1}return Lt}finally{c=null,f=Q,m=!1}}var E=!1,S=null,R=-1,T=5,I=-1;function M(){return!(e.unstable_now()-I<T)}function L(){if(S!==null){var D=e.unstable_now();I=D;var j=!0;try{j=S(!0,D)}finally{j?V():(E=!1,S=null)}}else E=!1}var V;if(typeof p=="function")V=function(){p(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ie=q.port2;q.port1.onmessage=L,V=function(){ie.postMessage(null)}}else V=function(){k(L,0)};function ue(D){S=D,E||(E=!0,V())}function G(D,j){R=k(function(){D(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,ue(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var Q=f;f=j;try{return D()}finally{f=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=f;f=D;try{return j()}finally{f=Q}},e.unstable_scheduleCallback=function(D,j,Q){var ve=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ve+Q:ve):Q=ve,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Q+pe,D={id:d++,callback:j,priorityLevel:D,startTime:Q,expirationTime:pe,sortIndex:-1},Q>ve?(D.sortIndex=Q,t(u,D),r(l)===null&&D===r(u)&&(b?(y(R),R=-1):b=!0,G(x,Q-ve))):(D.sortIndex=pe,t(l,D),g||m||(g=!0,ue(_))),D},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(D){var j=f;return function(){var Q=f;f=j;try{return D.apply(this,arguments)}finally{f=Q}}}})(lO),aO.exports=lO;var nD=aO.exports,uO=Z,Tn=nD;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cO=new Set,rh={};function Ga(e,t){yu(e,t),yu(e+"Capture",t)}function yu(e,t){for(rh[e]=t,e=0;e<t.length;e++)cO.add(t[e])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pw=Object.prototype.hasOwnProperty,iD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dO={},hO={};function sD(e){return pw.call(hO,e)?!0:pw.call(dO,e)?!1:iD.test(e)?hO[e]=!0:(dO[e]=!0,!1)}function oD(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aD(e,t,r,n){if(t===null||typeof t>"u"||oD(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sn(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_r[e]=new sn(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_r[t]=new sn(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_r[e]=new sn(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_r[e]=new sn(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_r[e]=new sn(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_r[e]=new sn(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_r[e]=new sn(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_r[e]=new sn(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_r[e]=new sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var mw=/[\-:]([a-z])/g;function gw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mw,gw);_r[t]=new sn(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mw,gw);_r[t]=new sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mw,gw);_r[t]=new sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_r[e]=new sn(e,1,!1,e.toLowerCase(),null,!1,!1)}),_r.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_r[e]=new sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function yw(e,t,r,n){var i=_r.hasOwnProperty(t)?_r[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aD(t,r,i,n)&&(r=null),n||i===null?sD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var As=uO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tm=Symbol.for("react.element"),bu=Symbol.for("react.portal"),vu=Symbol.for("react.fragment"),bw=Symbol.for("react.strict_mode"),vw=Symbol.for("react.profiler"),fO=Symbol.for("react.provider"),pO=Symbol.for("react.context"),ww=Symbol.for("react.forward_ref"),kw=Symbol.for("react.suspense"),xw=Symbol.for("react.suspense_list"),Nw=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),mO=Symbol.for("react.offscreen"),gO=Symbol.iterator;function nh(e){return e===null||typeof e!="object"?null:(e=gO&&e[gO]||e["@@iterator"],typeof e=="function"?e:null)}var Ot=Object.assign,Sw;function ih(e){if(Sw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sw=t&&t[1]||""}return`
`+Sw+e}var _w=!1;function Ew(e,t){if(!e||_w)return"";_w=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{_w=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ih(e):""}function lD(e){switch(e.tag){case 5:return ih(e.type);case 16:return ih("Lazy");case 13:return ih("Suspense");case 19:return ih("SuspenseList");case 0:case 2:case 15:return e=Ew(e.type,!1),e;case 11:return e=Ew(e.type.render,!1),e;case 1:return e=Ew(e.type,!0),e;default:return""}}function Ow(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vu:return"Fragment";case bu:return"Portal";case vw:return"Profiler";case bw:return"StrictMode";case kw:return"Suspense";case xw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pO:return(e.displayName||"Context")+".Consumer";case fO:return(e._context.displayName||"Context")+".Provider";case ww:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nw:return t=e.displayName||null,t!==null?t:Ow(e.type)||"Memo";case Ro:t=e._payload,e=e._init;try{return Ow(e(t))}catch{}}return null}function uD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ow(t);case 8:return t===bw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cD(e){var t=yO(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Im(e){e._valueTracker||(e._valueTracker=cD(e))}function bO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yO(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Rm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cw(e,t){var r=t.checked;return Ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vO(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ao(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wO(e,t){t=t.checked,t!=null&&yw(e,"checked",t,!1)}function Tw(e,t){wO(e,t);var r=Ao(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iw(e,t.type,r):t.hasOwnProperty("defaultValue")&&Iw(e,t.type,Ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Iw(e,t,r){(t!=="number"||Rm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sh=Array.isArray;function wu(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ao(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(sh(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ao(r)}}function NO(e,t){var r=Ao(t.value),n=Ao(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function SO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _O(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Aw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_O(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Am,EO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Am=Am||document.createElement("div"),Am.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Am.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ah={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dD=["Webkit","ms","Moz","O"];Object.keys(ah).forEach(function(e){dD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ah[t]=ah[e]})});function OO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ah.hasOwnProperty(e)&&ah[e]?(""+t).trim():t+"px"}function CO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=OO(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var hD=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lw(e,t){if(t){if(hD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Pw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jw=null;function Mw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fw=null,ku=null,xu=null;function TO(e){if(e=Th(e)){if(typeof Fw!="function")throw Error(z(280));var t=e.stateNode;t&&(t=tg(t),Fw(e.stateNode,e.type,t))}}function IO(e){ku?xu?xu.push(e):xu=[e]:ku=e}function RO(){if(ku){var e=ku,t=xu;if(xu=ku=null,TO(e),t)for(e=0;e<t.length;e++)TO(t[e])}}function AO(e,t){return e(t)}function LO(){}var Dw=!1;function PO(e,t,r){if(Dw)return e(t,r);Dw=!0;try{return AO(e,t,r)}finally{Dw=!1,(ku!==null||xu!==null)&&(LO(),RO())}}function lh(e,t){var r=e.stateNode;if(r===null)return null;var n=tg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var Bw=!1;if(Rs)try{var uh={};Object.defineProperty(uh,"passive",{get:function(){Bw=!0}}),window.addEventListener("test",uh,uh),window.removeEventListener("test",uh,uh)}catch{Bw=!1}function fD(e,t,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ch=!1,Lm=null,Pm=!1,Ww=null,pD={onError:function(e){ch=!0,Lm=e}};function mD(e,t,r,n,i,s,o,a,l){ch=!1,Lm=null,fD.apply(pD,arguments)}function gD(e,t,r,n,i,s,o,a,l){if(mD.apply(this,arguments),ch){if(ch){var u=Lm;ch=!1,Lm=null}else throw Error(z(198));Pm||(Pm=!0,Ww=u)}}function Ya(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function MO(e){if(Ya(e)!==e)throw Error(z(188))}function yD(e){var t=e.alternate;if(!t){if(t=Ya(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return MO(i),e;if(s===n)return MO(i),t;s=s.sibling}throw Error(z(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function FO(e){return e=yD(e),e!==null?DO(e):null}function DO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=DO(e);if(t!==null)return t;e=e.sibling}return null}var BO=Tn.unstable_scheduleCallback,WO=Tn.unstable_cancelCallback,bD=Tn.unstable_shouldYield,vD=Tn.unstable_requestPaint,Wt=Tn.unstable_now,wD=Tn.unstable_getCurrentPriorityLevel,qw=Tn.unstable_ImmediatePriority,qO=Tn.unstable_UserBlockingPriority,jm=Tn.unstable_NormalPriority,kD=Tn.unstable_LowPriority,UO=Tn.unstable_IdlePriority,Mm=null,Gi=null;function xD(e){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Mm,e,void 0,(e.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:_D,ND=Math.log,SD=Math.LN2;function _D(e){return e>>>=0,e===0?32:31-(ND(e)/SD|0)|0}var Fm=64,Dm=4194304;function dh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=dh(a):(s&=o,s!==0&&(n=dh(s)))}else o=r&~i,o!==0?n=dh(o):s!==0&&(n=dh(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-vi(t),i=1<<r,n|=e[r],t&=~i;return n}function ED(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-vi(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=ED(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Uw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $O(){var e=Fm;return Fm<<=1,!(Fm&4194240)&&(Fm=64),e}function $w(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vi(t),e[t]=r}function CD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-vi(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Vw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-vi(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Xe=0;function VO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zO,zw,KO,JO,HO,Kw=!1,Wm=[],Lo=null,Po=null,jo=null,fh=new Map,ph=new Map,Mo=[],TD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QO(e,t){switch(e){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(t.pointerId)}}function mh(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Th(t),t!==null&&zw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ID(e,t,r,n,i){switch(t){case"focusin":return Lo=mh(Lo,e,t,r,n,i),!0;case"dragenter":return Po=mh(Po,e,t,r,n,i),!0;case"mouseover":return jo=mh(jo,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return fh.set(s,mh(fh.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ph.set(s,mh(ph.get(s)||null,e,t,r,n,i)),!0}return!1}function ZO(e){var t=Xa(e.target);if(t!==null){var r=Ya(t);if(r!==null){if(t=r.tag,t===13){if(t=jO(r),t!==null){e.blockedOn=t,HO(e.priority,function(){KO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jw=n,r.target.dispatchEvent(n),jw=null}else return t=Th(r),t!==null&&zw(t),e.blockedOn=r,!1;t.shift()}return!0}function GO(e,t,r){qm(e)&&r.delete(t)}function RD(){Kw=!1,Lo!==null&&qm(Lo)&&(Lo=null),Po!==null&&qm(Po)&&(Po=null),jo!==null&&qm(jo)&&(jo=null),fh.forEach(GO),ph.forEach(GO)}function gh(e,t){e.blockedOn===t&&(e.blockedOn=null,Kw||(Kw=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,RD)))}function yh(e){function t(i){return gh(i,e)}if(0<Wm.length){gh(Wm[0],e);for(var r=1;r<Wm.length;r++){var n=Wm[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Lo!==null&&gh(Lo,e),Po!==null&&gh(Po,e),jo!==null&&gh(jo,e),fh.forEach(t),ph.forEach(t),r=0;r<Mo.length;r++)n=Mo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mo.length&&(r=Mo[0],r.blockedOn===null);)ZO(r),r.blockedOn===null&&Mo.shift()}var Nu=As.ReactCurrentBatchConfig,Um=!0;function AD(e,t,r,n){var i=Xe,s=Nu.transition;Nu.transition=null;try{Xe=1,Jw(e,t,r,n)}finally{Xe=i,Nu.transition=s}}function LD(e,t,r,n){var i=Xe,s=Nu.transition;Nu.transition=null;try{Xe=4,Jw(e,t,r,n)}finally{Xe=i,Nu.transition=s}}function Jw(e,t,r,n){if(Um){var i=Hw(e,t,r,n);if(i===null)d1(e,t,n,$m,r),QO(e,n);else if(ID(i,e,t,r,n))n.stopPropagation();else if(QO(e,n),t&4&&-1<TD.indexOf(e)){for(;i!==null;){var s=Th(i);if(s!==null&&zO(s),s=Hw(e,t,r,n),s===null&&d1(e,t,n,$m,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else d1(e,t,n,null,r)}}var $m=null;function Hw(e,t,r,n){if($m=null,e=Mw(n),e=Xa(e),e!==null)if(t=Ya(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $m=e,null}function YO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wD()){case qw:return 1;case qO:return 4;case jm:case kD:return 16;case UO:return 536870912;default:return 16}default:return 16}}var Fo=null,Qw=null,Vm=null;function XO(){if(Vm)return Vm;var e,t=Qw,r=t.length,n,i="value"in Fo?Fo.value:Fo.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Vm=i.slice(e,1<n?1-n:void 0)}function zm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Km(){return!0}function eC(){return!1}function In(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Km:eC,this.isPropagationStopped=eC,this}return Ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Km)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Km)},persist:function(){},isPersistent:Km}),t}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zw=In(Su),bh=Ot({},Su,{view:0,detail:0}),PD=In(bh),Gw,Yw,vh,Jm=Ot({},bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vh&&(vh&&e.type==="mousemove"?(Gw=e.screenX-vh.screenX,Yw=e.screenY-vh.screenY):Yw=Gw=0,vh=e),Gw)},movementY:function(e){return"movementY"in e?e.movementY:Yw}}),tC=In(Jm),jD=Ot({},Jm,{dataTransfer:0}),MD=In(jD),FD=Ot({},bh,{relatedTarget:0}),Xw=In(FD),DD=Ot({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),BD=In(DD),WD=Ot({},Su,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qD=In(WD),UD=Ot({},Su,{data:0}),rC=In(UD),$D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zD[e])?!!t[e]:!1}function e1(){return KD}var JD=Ot({},bh,{key:function(e){if(e.key){var t=$D[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e1,charCode:function(e){return e.type==="keypress"?zm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HD=In(JD),QD=Ot({},Jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nC=In(QD),ZD=Ot({},bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e1}),GD=In(ZD),YD=Ot({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),XD=In(YD),e8=Ot({},Jm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t8=In(e8),r8=[9,13,27,32],t1=Rs&&"CompositionEvent"in window,wh=null;Rs&&"documentMode"in document&&(wh=document.documentMode);var n8=Rs&&"TextEvent"in window&&!wh,iC=Rs&&(!t1||wh&&8<wh&&11>=wh),sC=String.fromCharCode(32),oC=!1;function aC(e,t){switch(e){case"keyup":return r8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _u=!1;function i8(e,t){switch(e){case"compositionend":return lC(t);case"keypress":return t.which!==32?null:(oC=!0,sC);case"textInput":return e=t.data,e===sC&&oC?null:e;default:return null}}function s8(e,t){if(_u)return e==="compositionend"||!t1&&aC(e,t)?(e=XO(),Vm=Qw=Fo=null,_u=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iC&&t.locale!=="ko"?null:t.data;default:return null}}var o8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o8[e.type]:t==="textarea"}function cC(e,t,r,n){IO(n),t=Ym(t,"onChange"),0<t.length&&(r=new Zw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kh=null,xh=null;function a8(e){CC(e,0)}function Hm(e){var t=Iu(e);if(bO(t))return e}function l8(e,t){if(e==="change")return t}var dC=!1;if(Rs){var r1;if(Rs){var n1="oninput"in document;if(!n1){var hC=document.createElement("div");hC.setAttribute("oninput","return;"),n1=typeof hC.oninput=="function"}r1=n1}else r1=!1;dC=r1&&(!document.documentMode||9<document.documentMode)}function fC(){kh&&(kh.detachEvent("onpropertychange",pC),xh=kh=null)}function pC(e){if(e.propertyName==="value"&&Hm(xh)){var t=[];cC(t,xh,e,Mw(e)),PO(a8,t)}}function u8(e,t,r){e==="focusin"?(fC(),kh=t,xh=r,kh.attachEvent("onpropertychange",pC)):e==="focusout"&&fC()}function c8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hm(xh)}function d8(e,t){if(e==="click")return Hm(t)}function h8(e,t){if(e==="input"||e==="change")return Hm(t)}function f8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wi=typeof Object.is=="function"?Object.is:f8;function Nh(e,t){if(wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!pw.call(t,i)||!wi(e[i],t[i]))return!1}return!0}function mC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gC(e,t){var r=mC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mC(r)}}function yC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bC(){for(var e=window,t=Rm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rm(e.document)}return t}function i1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function p8(e){var t=bC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yC(r.ownerDocument.documentElement,r)){if(n!==null&&i1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=gC(r,s);var o=gC(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m8=Rs&&"documentMode"in document&&11>=document.documentMode,Eu=null,s1=null,Sh=null,o1=!1;function vC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;o1||Eu==null||Eu!==Rm(n)||(n=Eu,"selectionStart"in n&&i1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sh&&Nh(Sh,n)||(Sh=n,n=Ym(s1,"onSelect"),0<n.length&&(t=new Zw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Eu)))}function Qm(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ou={animationend:Qm("Animation","AnimationEnd"),animationiteration:Qm("Animation","AnimationIteration"),animationstart:Qm("Animation","AnimationStart"),transitionend:Qm("Transition","TransitionEnd")},a1={},wC={};Rs&&(wC=document.createElement("div").style,"AnimationEvent"in window||(delete Ou.animationend.animation,delete Ou.animationiteration.animation,delete Ou.animationstart.animation),"TransitionEvent"in window||delete Ou.transitionend.transition);function Zm(e){if(a1[e])return a1[e];if(!Ou[e])return e;var t=Ou[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wC)return a1[e]=t[r];return e}var kC=Zm("animationend"),xC=Zm("animationiteration"),NC=Zm("animationstart"),SC=Zm("transitionend"),_C=new Map,EC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(e,t){_C.set(e,t),Ga(t,[e])}for(var l1=0;l1<EC.length;l1++){var u1=EC[l1],g8=u1.toLowerCase(),y8=u1[0].toUpperCase()+u1.slice(1);Do(g8,"on"+y8)}Do(kC,"onAnimationEnd"),Do(xC,"onAnimationIteration"),Do(NC,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(SC,"onTransitionEnd"),yu("onMouseEnter",["mouseout","mouseover"]),yu("onMouseLeave",["mouseout","mouseover"]),yu("onPointerEnter",["pointerout","pointerover"]),yu("onPointerLeave",["pointerout","pointerover"]),Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b8=new Set("cancel close invalid load scroll toggle".split(" ").concat(_h));function OC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gD(n,t,void 0,e),e.currentTarget=null}function CC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;OC(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;OC(i,a,u),s=l}}}if(Pm)throw e=Ww,Pm=!1,Ww=null,e}function ft(e,t){var r=t[y1];r===void 0&&(r=t[y1]=new Set);var n=e+"__bubble";r.has(n)||(TC(t,e,2,!1),r.add(n))}function c1(e,t,r){var n=0;t&&(n|=4),TC(r,e,n,t)}var Gm="_reactListening"+Math.random().toString(36).slice(2);function Eh(e){if(!e[Gm]){e[Gm]=!0,cO.forEach(function(r){r!=="selectionchange"&&(b8.has(r)||c1(r,!1,e),c1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gm]||(t[Gm]=!0,c1("selectionchange",!1,t))}}function TC(e,t,r,n){switch(YO(t)){case 1:var i=AD;break;case 4:i=LD;break;default:i=Jw}r=i.bind(null,t,r,e),i=void 0,!Bw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function d1(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Xa(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}PO(function(){var u=s,d=Mw(r),c=[];e:{var f=_C.get(e);if(f!==void 0){var m=Zw,g=e;switch(e){case"keypress":if(zm(r)===0)break e;case"keydown":case"keyup":m=HD;break;case"focusin":g="focus",m=Xw;break;case"focusout":g="blur",m=Xw;break;case"beforeblur":case"afterblur":m=Xw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=tC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=MD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=GD;break;case kC:case xC:case NC:m=BD;break;case SC:m=XD;break;case"scroll":m=PD;break;case"wheel":m=t8;break;case"copy":case"cut":case"paste":m=qD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nC}var b=(t&4)!==0,k=!b&&e==="scroll",y=b?f!==null?f+"Capture":null:f;b=[];for(var p=u,w;p!==null;){w=p;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,y!==null&&(x=lh(p,y),x!=null&&b.push(Oh(p,x,w)))),k)break;p=p.return}0<b.length&&(f=new m(f,g,null,r,d),c.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==jw&&(g=r.relatedTarget||r.fromElement)&&(Xa(g)||g[Ls]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Xa(g):null,g!==null&&(k=Ya(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(b=tC,x="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=nC,x="onPointerLeave",y="onPointerEnter",p="pointer"),k=m==null?f:Iu(m),w=g==null?f:Iu(g),f=new b(x,p+"leave",m,r,d),f.target=k,f.relatedTarget=w,x=null,Xa(d)===u&&(b=new b(y,p+"enter",g,r,d),b.target=w,b.relatedTarget=k,x=b),k=x,m&&g)t:{for(b=m,y=g,p=0,w=b;w;w=Cu(w))p++;for(w=0,x=y;x;x=Cu(x))w++;for(;0<p-w;)b=Cu(b),p--;for(;0<w-p;)y=Cu(y),w--;for(;p--;){if(b===y||y!==null&&b===y.alternate)break t;b=Cu(b),y=Cu(y)}b=null}else b=null;m!==null&&IC(c,f,m,b,!1),g!==null&&k!==null&&IC(c,k,g,b,!0)}}e:{if(f=u?Iu(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=l8;else if(uC(f))if(dC)_=h8;else{_=c8;var E=u8}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=d8);if(_&&(_=_(e,u))){cC(c,_,r,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Iw(f,"number",f.value)}switch(E=u?Iu(u):window,e){case"focusin":(uC(E)||E.contentEditable==="true")&&(Eu=E,s1=u,Sh=null);break;case"focusout":Sh=s1=Eu=null;break;case"mousedown":o1=!0;break;case"contextmenu":case"mouseup":case"dragend":o1=!1,vC(c,r,d);break;case"selectionchange":if(m8)break;case"keydown":case"keyup":vC(c,r,d)}var S;if(t1)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else _u?aC(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(iC&&r.locale!=="ko"&&(_u||R!=="onCompositionStart"?R==="onCompositionEnd"&&_u&&(S=XO()):(Fo=d,Qw="value"in Fo?Fo.value:Fo.textContent,_u=!0)),E=Ym(u,R),0<E.length&&(R=new rC(R,e,null,r,d),c.push({event:R,listeners:E}),S?R.data=S:(S=lC(r),S!==null&&(R.data=S)))),(S=n8?i8(e,r):s8(e,r))&&(u=Ym(u,"onBeforeInput"),0<u.length&&(d=new rC("onBeforeInput","beforeinput",null,r,d),c.push({event:d,listeners:u}),d.data=S))}CC(c,t)})}function Oh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ym(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lh(e,r),s!=null&&n.unshift(Oh(e,s,i)),s=lh(e,t),s!=null&&n.push(Oh(e,s,i))),e=e.return}return n}function Cu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function IC(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=lh(r,s),l!=null&&o.unshift(Oh(r,l,a))):i||(l=lh(r,s),l!=null&&o.push(Oh(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var v8=/\r\n?/g,w8=/\u0000|\uFFFD/g;function RC(e){return(typeof e=="string"?e:""+e).replace(v8,`
`).replace(w8,"")}function Xm(e,t,r){if(t=RC(t),RC(e)!==t&&r)throw Error(z(425))}function eg(){}var h1=null,f1=null;function p1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var m1=typeof setTimeout=="function"?setTimeout:void 0,k8=typeof clearTimeout=="function"?clearTimeout:void 0,AC=typeof Promise=="function"?Promise:void 0,x8=typeof queueMicrotask=="function"?queueMicrotask:typeof AC<"u"?function(e){return AC.resolve(null).then(e).catch(N8)}:m1;function N8(e){setTimeout(function(){throw e})}function g1(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),yh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);yh(t)}function Bo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Tu,Ch="__reactProps$"+Tu,Ls="__reactContainer$"+Tu,y1="__reactEvents$"+Tu,S8="__reactListeners$"+Tu,_8="__reactHandles$"+Tu;function Xa(e){var t=e[Yi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ls]||r[Yi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=LC(e);e!==null;){if(r=e[Yi])return r;e=LC(e)}return t}e=r,r=e.parentNode}return null}function Th(e){return e=e[Yi]||e[Ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Iu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function tg(e){return e[Ch]||null}var b1=[],Ru=-1;function Wo(e){return{current:e}}function pt(e){0>Ru||(e.current=b1[Ru],b1[Ru]=null,Ru--)}function at(e,t){Ru++,b1[Ru]=e.current,e.current=t}var qo={},Dr=Wo(qo),vn=Wo(!1),el=qo;function Au(e,t){var r=e.type.contextTypes;if(!r)return qo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wn(e){return e=e.childContextTypes,e!=null}function rg(){pt(vn),pt(Dr)}function PC(e,t,r){if(Dr.current!==qo)throw Error(z(168));at(Dr,t),at(vn,r)}function jC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(z(108,uD(e)||"Unknown",i));return Ot({},r,n)}function ng(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qo,el=Dr.current,at(Dr,e),at(vn,vn.current),!0}function MC(e,t,r){var n=e.stateNode;if(!n)throw Error(z(169));r?(e=jC(e,t,el),n.__reactInternalMemoizedMergedChildContext=e,pt(vn),pt(Dr),at(Dr,e)):pt(vn),at(vn,r)}var Ps=null,ig=!1,v1=!1;function FC(e){Ps===null?Ps=[e]:Ps.push(e)}function E8(e){ig=!0,FC(e)}function Uo(){if(!v1&&Ps!==null){v1=!0;var e=0,t=Xe;try{var r=Ps;for(Xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ps=null,ig=!1}catch(i){throw Ps!==null&&(Ps=Ps.slice(e+1)),BO(qw,Uo),i}finally{Xe=t,v1=!1}}return null}var Lu=[],Pu=0,sg=null,og=0,Gn=[],Yn=0,tl=null,js=1,Ms="";function rl(e,t){Lu[Pu++]=og,Lu[Pu++]=sg,sg=e,og=t}function DC(e,t,r){Gn[Yn++]=js,Gn[Yn++]=Ms,Gn[Yn++]=tl,tl=e;var n=js;e=Ms;var i=32-vi(n)-1;n&=~(1<<i),r+=1;var s=32-vi(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,js=1<<32-vi(t)+i|r<<i|n,Ms=s+e}else js=1<<s|r<<i|n,Ms=e}function w1(e){e.return!==null&&(rl(e,1),DC(e,1,0))}function k1(e){for(;e===sg;)sg=Lu[--Pu],Lu[Pu]=null,og=Lu[--Pu],Lu[Pu]=null;for(;e===tl;)tl=Gn[--Yn],Gn[Yn]=null,Ms=Gn[--Yn],Gn[Yn]=null,js=Gn[--Yn],Gn[Yn]=null}var Rn=null,An=null,wt=!1,ki=null;function BC(e,t){var r=ri(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function WC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rn=e,An=Bo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rn=e,An=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tl!==null?{id:js,overflow:Ms}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ri(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Rn=e,An=null,!0):!1;default:return!1}}function x1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function N1(e){if(wt){var t=An;if(t){var r=t;if(!WC(e,t)){if(x1(e))throw Error(z(418));t=Bo(r.nextSibling);var n=Rn;t&&WC(e,t)?BC(n,r):(e.flags=e.flags&-4097|2,wt=!1,Rn=e)}}else{if(x1(e))throw Error(z(418));e.flags=e.flags&-4097|2,wt=!1,Rn=e}}}function qC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rn=e}function ag(e){if(e!==Rn)return!1;if(!wt)return qC(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!p1(e.type,e.memoizedProps)),t&&(t=An)){if(x1(e))throw UC(),Error(z(418));for(;t;)BC(e,t),t=Bo(t.nextSibling)}if(qC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){An=Bo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}An=null}}else An=Rn?Bo(e.stateNode.nextSibling):null;return!0}function UC(){for(var e=An;e;)e=Bo(e.nextSibling)}function ju(){An=Rn=null,wt=!1}function S1(e){ki===null?ki=[e]:ki.push(e)}var O8=As.ReactCurrentBatchConfig;function xi(e,t){if(e&&e.defaultProps){t=Ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var lg=Wo(null),ug=null,Mu=null,_1=null;function E1(){_1=Mu=ug=null}function O1(e){var t=lg.current;pt(lg),e._currentValue=t}function C1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fu(e,t){ug=e,_1=Mu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kn=!0),e.firstContext=null)}function Xn(e){var t=e._currentValue;if(_1!==e)if(e={context:e,memoizedValue:t,next:null},Mu===null){if(ug===null)throw Error(z(308));Mu=e,ug.dependencies={lanes:0,firstContext:e}}else Mu=Mu.next=e;return t}var nl=null;function T1(e){nl===null?nl=[e]:nl.push(e)}function $C(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,T1(t)):(r.next=i.next,i.next=r),t.interleaved=r,Fs(e,n)}function Fs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $o=!1;function I1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Fs(e,r)}return i=n.interleaved,i===null?(t.next=t,T1(n)):(t.next=i.next,i.next=t),n.interleaved=t,Fs(e,r)}function cg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vw(e,r)}}function zC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function dg(e,t,r,n){var i=e.updateQueue;$o=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var c=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,b=a;switch(f=t,m=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){c=g.call(m,c,f);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,f=typeof g=="function"?g.call(m,c,f):g,f==null)break e;c=Ot({},c,f);break e;case 2:$o=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=c):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ol|=o,e.lanes=o,e.memoizedState=c}}function KC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(z(191,i));i.call(n)}}}var JC=new uO.Component().refs;function R1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hg={isMounted:function(e){return(e=e._reactInternals)?Ya(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=an(),i=Ho(e),s=Ds(n,i);s.payload=t,r!=null&&(s.callback=r),t=Vo(e,s,i),t!==null&&(_i(t,e,i,n),cg(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=an(),i=Ho(e),s=Ds(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Vo(e,s,i),t!==null&&(_i(t,e,i,n),cg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=an(),n=Ho(e),i=Ds(r,n);i.tag=2,t!=null&&(i.callback=t),t=Vo(e,i,n),t!==null&&(_i(t,e,n,r),cg(t,e,n))}};function HC(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Nh(r,n)||!Nh(i,s):!0}function QC(e,t,r){var n=!1,i=qo,s=t.contextType;return typeof s=="object"&&s!==null?s=Xn(s):(i=wn(t)?el:Dr.current,n=t.contextTypes,s=(n=n!=null)?Au(e,i):qo),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ZC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hg.enqueueReplaceState(t,t.state,null)}function A1(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=JC,I1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Xn(s):(s=wn(t)?el:Dr.current,i.context=Au(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(R1(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&hg.enqueueReplaceState(i,i.state,null),dg(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ih(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===JC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function fg(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function GC(e){var t=e._init;return t(e._payload)}function YC(e){function t(y,p){if(e){var w=y.deletions;w===null?(y.deletions=[p],y.flags|=16):w.push(p)}}function r(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Zo(y,p),y.index=0,y.sibling=null,y}function s(y,p,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<p?(y.flags|=2,p):w):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,p,w,x){return p===null||p.tag!==6?(p=pk(w,y.mode,x),p.return=y,p):(p=i(p,w),p.return=y,p)}function l(y,p,w,x){var _=w.type;return _===vu?d(y,p,w.props.children,x,w.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ro&&GC(_)===p.type)?(x=i(p,w.props),x.ref=Ih(y,p,w),x.return=y,x):(x=Ag(w.type,w.key,w.props,null,y.mode,x),x.ref=Ih(y,p,w),x.return=y,x)}function u(y,p,w,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=mk(w,y.mode,x),p.return=y,p):(p=i(p,w.children||[]),p.return=y,p)}function d(y,p,w,x,_){return p===null||p.tag!==7?(p=cl(w,y.mode,x,_),p.return=y,p):(p=i(p,w),p.return=y,p)}function c(y,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=pk(""+p,y.mode,w),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Tm:return w=Ag(p.type,p.key,p.props,null,y.mode,w),w.ref=Ih(y,null,p),w.return=y,w;case bu:return p=mk(p,y.mode,w),p.return=y,p;case Ro:var x=p._init;return c(y,x(p._payload),w)}if(sh(p)||nh(p))return p=cl(p,y.mode,w,null),p.return=y,p;fg(y,p)}return null}function f(y,p,w,x){var _=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(y,p,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tm:return w.key===_?l(y,p,w,x):null;case bu:return w.key===_?u(y,p,w,x):null;case Ro:return _=w._init,f(y,p,_(w._payload),x)}if(sh(w)||nh(w))return _!==null?null:d(y,p,w,x,null);fg(y,w)}return null}function m(y,p,w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(w)||null,a(p,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tm:return y=y.get(x.key===null?w:x.key)||null,l(p,y,x,_);case bu:return y=y.get(x.key===null?w:x.key)||null,u(p,y,x,_);case Ro:var E=x._init;return m(y,p,w,E(x._payload),_)}if(sh(x)||nh(x))return y=y.get(w)||null,d(p,y,x,_,null);fg(p,x)}return null}function g(y,p,w,x){for(var _=null,E=null,S=p,R=p=0,T=null;S!==null&&R<w.length;R++){S.index>R?(T=S,S=null):T=S.sibling;var I=f(y,S,w[R],x);if(I===null){S===null&&(S=T);break}e&&S&&I.alternate===null&&t(y,S),p=s(I,p,R),E===null?_=I:E.sibling=I,E=I,S=T}if(R===w.length)return r(y,S),wt&&rl(y,R),_;if(S===null){for(;R<w.length;R++)S=c(y,w[R],x),S!==null&&(p=s(S,p,R),E===null?_=S:E.sibling=S,E=S);return wt&&rl(y,R),_}for(S=n(y,S);R<w.length;R++)T=m(S,y,R,w[R],x),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?R:T.key),p=s(T,p,R),E===null?_=T:E.sibling=T,E=T);return e&&S.forEach(function(M){return t(y,M)}),wt&&rl(y,R),_}function b(y,p,w,x){var _=nh(w);if(typeof _!="function")throw Error(z(150));if(w=_.call(w),w==null)throw Error(z(151));for(var E=_=null,S=p,R=p=0,T=null,I=w.next();S!==null&&!I.done;R++,I=w.next()){S.index>R?(T=S,S=null):T=S.sibling;var M=f(y,S,I.value,x);if(M===null){S===null&&(S=T);break}e&&S&&M.alternate===null&&t(y,S),p=s(M,p,R),E===null?_=M:E.sibling=M,E=M,S=T}if(I.done)return r(y,S),wt&&rl(y,R),_;if(S===null){for(;!I.done;R++,I=w.next())I=c(y,I.value,x),I!==null&&(p=s(I,p,R),E===null?_=I:E.sibling=I,E=I);return wt&&rl(y,R),_}for(S=n(y,S);!I.done;R++,I=w.next())I=m(S,y,R,I.value,x),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?R:I.key),p=s(I,p,R),E===null?_=I:E.sibling=I,E=I);return e&&S.forEach(function(L){return t(y,L)}),wt&&rl(y,R),_}function k(y,p,w,x){if(typeof w=="object"&&w!==null&&w.type===vu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Tm:e:{for(var _=w.key,E=p;E!==null;){if(E.key===_){if(_=w.type,_===vu){if(E.tag===7){r(y,E.sibling),p=i(E,w.props.children),p.return=y,y=p;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ro&&GC(_)===E.type){r(y,E.sibling),p=i(E,w.props),p.ref=Ih(y,E,w),p.return=y,y=p;break e}r(y,E);break}else t(y,E);E=E.sibling}w.type===vu?(p=cl(w.props.children,y.mode,x,w.key),p.return=y,y=p):(x=Ag(w.type,w.key,w.props,null,y.mode,x),x.ref=Ih(y,p,w),x.return=y,y=x)}return o(y);case bu:e:{for(E=w.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){r(y,p.sibling),p=i(p,w.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else t(y,p);p=p.sibling}p=mk(w,y.mode,x),p.return=y,y=p}return o(y);case Ro:return E=w._init,k(y,p,E(w._payload),x)}if(sh(w))return g(y,p,w,x);if(nh(w))return b(y,p,w,x);fg(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(r(y,p.sibling),p=i(p,w),p.return=y,y=p):(r(y,p),p=pk(w,y.mode,x),p.return=y,y=p),o(y)):r(y,p)}return k}var Du=YC(!0),XC=YC(!1),Rh={},Xi=Wo(Rh),Ah=Wo(Rh),Lh=Wo(Rh);function il(e){if(e===Rh)throw Error(z(174));return e}function L1(e,t){switch(at(Lh,t),at(Ah,e),at(Xi,Rh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Aw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Aw(t,e)}pt(Xi),at(Xi,t)}function Bu(){pt(Xi),pt(Ah),pt(Lh)}function eT(e){il(Lh.current);var t=il(Xi.current),r=Aw(t,e.type);t!==r&&(at(Ah,e),at(Xi,r))}function P1(e){Ah.current===e&&(pt(Xi),pt(Ah))}var Ct=Wo(0);function pg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var j1=[];function M1(){for(var e=0;e<j1.length;e++)j1[e]._workInProgressVersionPrimary=null;j1.length=0}var mg=As.ReactCurrentDispatcher,F1=As.ReactCurrentBatchConfig,sl=0,Tt=null,cr=null,yr=null,gg=!1,Ph=!1,jh=0,C8=0;function Br(){throw Error(z(321))}function D1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wi(e[r],t[r]))return!1;return!0}function B1(e,t,r,n,i,s){if(sl=s,Tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mg.current=e===null||e.memoizedState===null?A8:L8,e=r(n,i),Ph){s=0;do{if(Ph=!1,jh=0,25<=s)throw Error(z(301));s+=1,yr=cr=null,t.updateQueue=null,mg.current=P8,e=r(n,i)}while(Ph)}if(mg.current=vg,t=cr!==null&&cr.next!==null,sl=0,yr=cr=Tt=null,gg=!1,t)throw Error(z(300));return e}function W1(){var e=jh!==0;return jh=0,e}function es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Tt.memoizedState=yr=e:yr=yr.next=e,yr}function ei(){if(cr===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=cr.next;var t=yr===null?Tt.memoizedState:yr.next;if(t!==null)yr=t,cr=e;else{if(e===null)throw Error(z(310));cr=e,e={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},yr===null?Tt.memoizedState=yr=e:yr=yr.next=e}return yr}function Mh(e,t){return typeof t=="function"?t(e):t}function q1(e){var t=ei(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=cr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((sl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=n):l=l.next=c,Tt.lanes|=d,ol|=d}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,wi(n,t.memoizedState)||(kn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Tt.lanes|=s,ol|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function U1(e){var t=ei(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);wi(s,t.memoizedState)||(kn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function tT(){}function rT(e,t){var r=Tt,n=ei(),i=t(),s=!wi(n.memoizedState,i);if(s&&(n.memoizedState=i,kn=!0),n=n.queue,$1(sT.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||yr!==null&&yr.memoizedState.tag&1){if(r.flags|=2048,Fh(9,iT.bind(null,r,n,i,t),void 0,null),br===null)throw Error(z(349));sl&30||nT(r,t,i)}return i}function nT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function iT(e,t,r,n){t.value=r,t.getSnapshot=n,oT(t)&&aT(e)}function sT(e,t,r){return r(function(){oT(t)&&aT(e)})}function oT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wi(e,r)}catch{return!0}}function aT(e){var t=Fs(e,1);t!==null&&_i(t,e,1,-1)}function lT(e){var t=es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:e},t.queue=e,e=e.dispatch=R8.bind(null,Tt,e),[t.memoizedState,e]}function Fh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uT(){return ei().memoizedState}function yg(e,t,r,n){var i=es();Tt.flags|=e,i.memoizedState=Fh(1|t,r,void 0,n===void 0?null:n)}function bg(e,t,r,n){var i=ei();n=n===void 0?null:n;var s=void 0;if(cr!==null){var o=cr.memoizedState;if(s=o.destroy,n!==null&&D1(n,o.deps)){i.memoizedState=Fh(t,r,s,n);return}}Tt.flags|=e,i.memoizedState=Fh(1|t,r,s,n)}function cT(e,t){return yg(8390656,8,e,t)}function $1(e,t){return bg(2048,8,e,t)}function dT(e,t){return bg(4,2,e,t)}function hT(e,t){return bg(4,4,e,t)}function fT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pT(e,t,r){return r=r!=null?r.concat([e]):null,bg(4,4,fT.bind(null,t,e),r)}function V1(){}function mT(e,t){var r=ei();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gT(e,t){var r=ei();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yT(e,t,r){return sl&21?(wi(r,t)||(r=$O(),Tt.lanes|=r,ol|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kn=!0),e.memoizedState=r)}function T8(e,t){var r=Xe;Xe=r!==0&&4>r?r:4,e(!0);var n=F1.transition;F1.transition={};try{e(!1),t()}finally{Xe=r,F1.transition=n}}function bT(){return ei().memoizedState}function I8(e,t,r){var n=Ho(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},vT(e))wT(t,r);else if(r=$C(e,t,r,n),r!==null){var i=an();_i(r,e,n,i),kT(r,t,n)}}function R8(e,t,r){var n=Ho(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(vT(e))wT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,wi(a,o)){var l=t.interleaved;l===null?(i.next=i,T1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=$C(e,t,i,n),r!==null&&(i=an(),_i(r,e,n,i),kT(r,t,n))}}function vT(e){var t=e.alternate;return e===Tt||t!==null&&t===Tt}function wT(e,t){Ph=gg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vw(e,r)}}var vg={readContext:Xn,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},A8={readContext:Xn,useCallback:function(e,t){return es().memoizedState=[e,t===void 0?null:t],e},useContext:Xn,useEffect:cT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yg(4194308,4,fT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yg(4194308,4,e,t)},useInsertionEffect:function(e,t){return yg(4,2,e,t)},useMemo:function(e,t){var r=es();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=es();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=I8.bind(null,Tt,e),[n.memoizedState,e]},useRef:function(e){var t=es();return e={current:e},t.memoizedState=e},useState:lT,useDebugValue:V1,useDeferredValue:function(e){return es().memoizedState=e},useTransition:function(){var e=lT(!1),t=e[0];return e=T8.bind(null,e[1]),es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Tt,i=es();if(wt){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),br===null)throw Error(z(349));sl&30||nT(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,cT(sT.bind(null,n,s,e),[e]),n.flags|=2048,Fh(9,iT.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=es(),t=br.identifierPrefix;if(wt){var r=Ms,n=js;r=(n&~(1<<32-vi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=C8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},L8={readContext:Xn,useCallback:mT,useContext:Xn,useEffect:$1,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:hT,useMemo:gT,useReducer:q1,useRef:uT,useState:function(){return q1(Mh)},useDebugValue:V1,useDeferredValue:function(e){var t=ei();return yT(t,cr.memoizedState,e)},useTransition:function(){var e=q1(Mh)[0],t=ei().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:rT,useId:bT,unstable_isNewReconciler:!1},P8={readContext:Xn,useCallback:mT,useContext:Xn,useEffect:$1,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:hT,useMemo:gT,useReducer:U1,useRef:uT,useState:function(){return U1(Mh)},useDebugValue:V1,useDeferredValue:function(e){var t=ei();return cr===null?t.memoizedState=e:yT(t,cr.memoizedState,e)},useTransition:function(){var e=U1(Mh)[0],t=ei().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:rT,useId:bT,unstable_isNewReconciler:!1};function Wu(e,t){try{var r="",n=t;do r+=lD(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function z1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function K1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var j8=typeof WeakMap=="function"?WeakMap:Map;function xT(e,t,r){r=Ds(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Eg||(Eg=!0,ok=n),K1(e,t)},r}function NT(e,t,r){r=Ds(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){K1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){K1(e,t),typeof n!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ST(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new j8;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Q8.bind(null,e,t,r),t.then(e,e))}function _T(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ET(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ds(-1,1),t.tag=2,Vo(r,t,1))),r.lanes|=1),e)}var M8=As.ReactCurrentOwner,kn=!1;function on(e,t,r,n){t.child=e===null?XC(t,null,r,n):Du(t,e.child,r,n)}function OT(e,t,r,n,i){r=r.render;var s=t.ref;return Fu(t,i),n=B1(e,t,r,n,s,i),r=W1(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i)):(wt&&r&&w1(t),t.flags|=1,on(e,t,n,i),t.child)}function CT(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!fk(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,TT(e,t,s,n,i)):(e=Ag(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Nh,r(o,n)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,e=Zo(s,n),e.ref=t.ref,e.return=t,t.child=e}function TT(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Nh(s,n)&&e.ref===t.ref)if(kn=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(kn=!0);else return t.lanes=e.lanes,Bs(e,t,i)}return J1(e,t,r,n,i)}function IT(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Uu,Ln),Ln|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,at(Uu,Ln),Ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,at(Uu,Ln),Ln|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,at(Uu,Ln),Ln|=n;return on(e,t,i,r),t.child}function RT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function J1(e,t,r,n,i){var s=wn(r)?el:Dr.current;return s=Au(t,s),Fu(t,i),r=B1(e,t,r,n,s,i),n=W1(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i)):(wt&&n&&w1(t),t.flags|=1,on(e,t,r,i),t.child)}function AT(e,t,r,n,i){if(wn(r)){var s=!0;ng(t)}else s=!1;if(Fu(t,i),t.stateNode===null)kg(e,t),QC(t,r,n),A1(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=wn(r)?el:Dr.current,u=Au(t,u));var d=r.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&ZC(t,o,n,u),$o=!1;var f=t.memoizedState;o.state=f,dg(t,n,o,i),l=t.memoizedState,a!==n||f!==l||vn.current||$o?(typeof d=="function"&&(R1(t,r,d,n),l=t.memoizedState),(a=$o||HC(t,r,a,n,f,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,VC(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xi(t.type,a),o.props=u,c=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=wn(r)?el:Dr.current,l=Au(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||f!==l)&&ZC(t,o,n,l),$o=!1,f=t.memoizedState,o.state=f,dg(t,n,o,i);var g=t.memoizedState;a!==c||f!==g||vn.current||$o?(typeof m=="function"&&(R1(t,r,m,n),g=t.memoizedState),(u=$o||HC(t,r,u,n,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return H1(e,t,r,n,s,i)}function H1(e,t,r,n,i,s){RT(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&MC(t,r,!1),Bs(e,t,s);n=t.stateNode,M8.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Du(t,e.child,null,s),t.child=Du(t,null,a,s)):on(e,t,a,s),t.memoizedState=n.state,i&&MC(t,r,!0),t.child}function LT(e){var t=e.stateNode;t.pendingContext?PC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&PC(e,t.context,!1),L1(e,t.containerInfo)}function PT(e,t,r,n,i){return ju(),S1(i),t.flags|=256,on(e,t,r,n),t.child}var Q1={dehydrated:null,treeContext:null,retryLane:0};function Z1(e){return{baseLanes:e,cachePool:null,transitions:null}}function jT(e,t,r){var n=t.pendingProps,i=Ct.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),at(Ct,i&1),e===null)return N1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lg(o,n,0,null),e=cl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Z1(r),t.memoizedState=Q1,e):G1(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return F8(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Zo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zo(a,s):(s=cl(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Z1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Q1,n}return s=e.child,e=s.sibling,n=Zo(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function G1(e,t){return t=Lg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wg(e,t,r,n){return n!==null&&S1(n),Du(t,e.child,null,r),e=G1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F8(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=z1(Error(z(422))),wg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Lg({mode:"visible",children:n.children},i,0,null),s=cl(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Du(t,e.child,null,o),t.child.memoizedState=Z1(o),t.memoizedState=Q1,s);if(!(t.mode&1))return wg(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(z(419)),n=z1(s,n,void 0),wg(e,t,o,n)}if(a=(o&e.childLanes)!==0,kn||a){if(n=br,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fs(e,i),_i(n,e,i,-1))}return hk(),n=z1(Error(z(421))),wg(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Z8.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,An=Bo(i.nextSibling),Rn=t,wt=!0,ki=null,e!==null&&(Gn[Yn++]=js,Gn[Yn++]=Ms,Gn[Yn++]=tl,js=e.id,Ms=e.overflow,tl=t),t=G1(t,n.children),t.flags|=4096,t)}function MT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),C1(e.return,t,r)}function Y1(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function FT(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(on(e,t,n.children,r),n=Ct.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&MT(e,r,t);else if(e.tag===19)MT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(at(Ct,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&pg(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Y1(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pg(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Y1(t,!0,r,null,s);break;case"together":Y1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ol|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=Zo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Zo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function D8(e,t,r){switch(t.tag){case 3:LT(t),ju();break;case 5:eT(t);break;case 1:wn(t.type)&&ng(t);break;case 4:L1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;at(lg,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(at(Ct,Ct.current&1),t.flags|=128,null):r&t.child.childLanes?jT(e,t,r):(at(Ct,Ct.current&1),e=Bs(e,t,r),e!==null?e.sibling:null);at(Ct,Ct.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return FT(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(Ct,Ct.current),n)break;return null;case 22:case 23:return t.lanes=0,IT(e,t,r)}return Bs(e,t,r)}var DT,X1,BT,WT;DT=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},X1=function(){},BT=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,il(Xi.current);var s=null;switch(r){case"input":i=Cw(e,i),n=Cw(e,n),s=[];break;case"select":i=Ot({},i,{value:void 0}),n=Ot({},n,{value:void 0}),s=[];break;case"textarea":i=Rw(e,i),n=Rw(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=eg)}Lw(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i==null?void 0:i[u],n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ft("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},WT=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dh(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function B8(e,t,r){var n=t.pendingProps;switch(k1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(t),null;case 1:return wn(t.type)&&rg(),Wr(t),null;case 3:return n=t.stateNode,Bu(),pt(vn),pt(Dr),M1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ag(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ki!==null&&(uk(ki),ki=null))),X1(e,t),Wr(t),null;case 5:P1(t);var i=il(Lh.current);if(r=t.type,e!==null&&t.stateNode!=null)BT(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return Wr(t),null}if(e=il(Xi.current),ag(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Yi]=t,n[Ch]=s,e=(t.mode&1)!==0,r){case"dialog":ft("cancel",n),ft("close",n);break;case"iframe":case"object":case"embed":ft("load",n);break;case"video":case"audio":for(i=0;i<_h.length;i++)ft(_h[i],n);break;case"source":ft("error",n);break;case"img":case"image":case"link":ft("error",n),ft("load",n);break;case"details":ft("toggle",n);break;case"input":vO(n,s),ft("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ft("invalid",n);break;case"textarea":xO(n,s),ft("invalid",n)}Lw(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xm(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xm(n.textContent,a,e),i=["children",""+a]):rh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",n)}switch(r){case"input":Im(n),kO(n,s,!0);break;case"textarea":Im(n),SO(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=eg)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_O(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Yi]=t,e[Ch]=n,DT(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pw(r,n),r){case"dialog":ft("cancel",e),ft("close",e),i=n;break;case"iframe":case"object":case"embed":ft("load",e),i=n;break;case"video":case"audio":for(i=0;i<_h.length;i++)ft(_h[i],e);i=n;break;case"source":ft("error",e),i=n;break;case"img":case"image":case"link":ft("error",e),ft("load",e),i=n;break;case"details":ft("toggle",e),i=n;break;case"input":vO(e,n),i=Cw(e,n),ft("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ot({},n,{value:void 0}),ft("invalid",e);break;case"textarea":xO(e,n),i=Rw(e,n),ft("invalid",e);break;default:i=n}Lw(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?CO(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EO(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&oh(e,l):typeof l=="number"&&oh(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ft("scroll",e):l!=null&&yw(e,s,l,o))}switch(r){case"input":Im(e),kO(e,n,!1);break;case"textarea":Im(e),SO(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ao(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?wu(e,!!n.multiple,s,!1):n.defaultValue!=null&&wu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=eg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wr(t),null;case 6:if(e&&t.stateNode!=null)WT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(r=il(Lh.current),il(Xi.current),ag(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yi]=t,(s=n.nodeValue!==r)&&(e=Rn,e!==null))switch(e.tag){case 3:Xm(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xm(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yi]=t,t.stateNode=n}return Wr(t),null;case 13:if(pt(Ct),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&An!==null&&t.mode&1&&!(t.flags&128))UC(),ju(),t.flags|=98560,s=!1;else if(s=ag(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Yi]=t}else ju(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wr(t),s=!1}else ki!==null&&(uk(ki),ki=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ct.current&1?dr===0&&(dr=3):hk())),t.updateQueue!==null&&(t.flags|=4),Wr(t),null);case 4:return Bu(),X1(e,t),e===null&&Eh(t.stateNode.containerInfo),Wr(t),null;case 10:return O1(t.type._context),Wr(t),null;case 17:return wn(t.type)&&rg(),Wr(t),null;case 19:if(pt(Ct),s=t.memoizedState,s===null)return Wr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Dh(s,!1);else{if(dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pg(e),o!==null){for(t.flags|=128,Dh(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return at(Ct,Ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&Wt()>$u&&(t.flags|=128,n=!0,Dh(s,!1),t.lanes=4194304)}else{if(!n)if(e=pg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wt)return Wr(t),null}else 2*Wt()-s.renderingStartTime>$u&&r!==1073741824&&(t.flags|=128,n=!0,Dh(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Wt(),t.sibling=null,r=Ct.current,at(Ct,n?r&1|2:r&1),t):(Wr(t),null);case 22:case 23:return dk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ln&1073741824&&(Wr(t),t.subtreeFlags&6&&(t.flags|=8192)):Wr(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function W8(e,t){switch(k1(t),t.tag){case 1:return wn(t.type)&&rg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bu(),pt(vn),pt(Dr),M1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return P1(t),null;case 13:if(pt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));ju()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(Ct),null;case 4:return Bu(),null;case 10:return O1(t.type._context),null;case 22:case 23:return dk(),null;case 24:return null;default:return null}}var xg=!1,qr=!1,q8=typeof WeakSet=="function"?WeakSet:Set,re=null;function qu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pt(e,t,n)}else r.current=null}function qT(e,t,r){try{r()}catch(n){Pt(e,t,n)}}var UT=!1;function U8(e,t){if(h1=Um,e=bC(),i1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,c=e,f=null;t:for(;;){for(var m;c!==r||i!==0&&c.nodeType!==3||(a=o+i),c!==s||n!==0&&c.nodeType!==3||(l=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(m=c.firstChild)!==null;)f=c,c=m;for(;;){if(c===e)break t;if(f===r&&++u===i&&(a=o),f===s&&++d===n&&(l=o),(m=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(f1={focusedElem:e,selectionRange:r},Um=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,k=g.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:xi(t.type,b),k);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){Pt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return g=UT,UT=!1,g}function Bh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&qT(t,r,s)}i=i.next}while(i!==n)}}function Ng(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ek(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $T(e){var t=e.alternate;t!==null&&(e.alternate=null,$T(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yi],delete t[Ch],delete t[y1],delete t[S8],delete t[_8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VT(e){return e.tag===5||e.tag===3||e.tag===4}function zT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=eg));else if(n!==4&&(e=e.child,e!==null))for(tk(e,t,r),e=e.sibling;e!==null;)tk(e,t,r),e=e.sibling}function rk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(rk(e,t,r),e=e.sibling;e!==null;)rk(e,t,r),e=e.sibling}var Er=null,Ni=!1;function zo(e,t,r){for(r=r.child;r!==null;)KT(e,t,r),r=r.sibling}function KT(e,t,r){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Mm,r)}catch{}switch(r.tag){case 5:qr||qu(r,t);case 6:var n=Er,i=Ni;Er=null,zo(e,t,r),Er=n,Ni=i,Er!==null&&(Ni?(e=Er,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Er.removeChild(r.stateNode));break;case 18:Er!==null&&(Ni?(e=Er,r=r.stateNode,e.nodeType===8?g1(e.parentNode,r):e.nodeType===1&&g1(e,r),yh(e)):g1(Er,r.stateNode));break;case 4:n=Er,i=Ni,Er=r.stateNode.containerInfo,Ni=!0,zo(e,t,r),Er=n,Ni=i;break;case 0:case 11:case 14:case 15:if(!qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qT(r,t,o),i=i.next}while(i!==n)}zo(e,t,r);break;case 1:if(!qr&&(qu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Pt(r,t,a)}zo(e,t,r);break;case 21:zo(e,t,r);break;case 22:r.mode&1?(qr=(n=qr)||r.memoizedState!==null,zo(e,t,r),qr=n):zo(e,t,r);break;default:zo(e,t,r)}}function JT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new q8),t.forEach(function(n){var i=G8.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Si(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Er=a.stateNode,Ni=!1;break e;case 3:Er=a.stateNode.containerInfo,Ni=!0;break e;case 4:Er=a.stateNode.containerInfo,Ni=!0;break e}a=a.return}if(Er===null)throw Error(z(160));KT(s,o,i),Er=null,Ni=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HT(t,e),t=t.sibling}function HT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Si(t,e),ts(e),n&4){try{Bh(3,e,e.return),Ng(3,e)}catch(b){Pt(e,e.return,b)}try{Bh(5,e,e.return)}catch(b){Pt(e,e.return,b)}}break;case 1:Si(t,e),ts(e),n&512&&r!==null&&qu(r,r.return);break;case 5:if(Si(t,e),ts(e),n&512&&r!==null&&qu(r,r.return),e.flags&32){var i=e.stateNode;try{oh(i,"")}catch(b){Pt(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&wO(i,s),Pw(a,o);var u=Pw(a,s);for(o=0;o<l.length;o+=2){var d=l[o],c=l[o+1];d==="style"?CO(i,c):d==="dangerouslySetInnerHTML"?EO(i,c):d==="children"?oh(i,c):yw(i,d,c,u)}switch(a){case"input":Tw(i,s);break;case"textarea":NO(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?wu(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?wu(i,!!s.multiple,s.defaultValue,!0):wu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ch]=s}catch(b){Pt(e,e.return,b)}}break;case 6:if(Si(t,e),ts(e),n&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){Pt(e,e.return,b)}}break;case 3:if(Si(t,e),ts(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yh(t.containerInfo)}catch(b){Pt(e,e.return,b)}break;case 4:Si(t,e),ts(e);break;case 13:Si(t,e),ts(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sk=Wt())),n&4&&JT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(qr=(u=qr)||d,Si(t,e),qr=u):Si(t,e),ts(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(c=re=d;re!==null;){switch(f=re,m=f.child,f.tag){case 0:case 11:case 14:case 15:Bh(4,f,f.return);break;case 1:qu(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){Pt(n,r,b)}}break;case 5:qu(f,f.return);break;case 22:if(f.memoizedState!==null){GT(c);continue}}m!==null?(m.return=f,re=m):GT(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OO("display",o))}catch(b){Pt(e,e.return,b)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(b){Pt(e,e.return,b)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Si(t,e),ts(e),n&4&&JT(e);break;case 21:break;default:Si(t,e),ts(e)}}function ts(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(VT(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(oh(i,""),n.flags&=-33);var s=zT(e);rk(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=zT(e);tk(e,a,o);break;default:throw Error(z(161))}}catch(l){Pt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $8(e,t,r){re=e,QT(e)}function QT(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||xg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qr;a=xg;var u=qr;if(xg=o,(qr=l)&&!u)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?YT(i):l!==null?(l.return=o,re=l):YT(i);for(;s!==null;)re=s,QT(s),s=s.sibling;re=i,xg=a,qr=u}ZT(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):ZT(e)}}function ZT(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qr||Ng(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!qr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:xi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&KC(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}KC(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&yh(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}qr||t.flags&512&&ek(t)}catch(f){Pt(t,t.return,f)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function GT(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function YT(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ng(4,t)}catch(l){Pt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Pt(t,i,l)}}var s=t.return;try{ek(t)}catch(l){Pt(t,s,l)}break;case 5:var o=t.return;try{ek(t)}catch(l){Pt(t,o,l)}}}catch(l){Pt(t,t.return,l)}if(t===e){re=null;break}var a=t.sibling;if(a!==null){a.return=t.return,re=a;break}re=t.return}}var V8=Math.ceil,Sg=As.ReactCurrentDispatcher,nk=As.ReactCurrentOwner,ti=As.ReactCurrentBatchConfig,qe=0,br=null,Xt=null,Or=0,Ln=0,Uu=Wo(0),dr=0,Wh=null,ol=0,_g=0,ik=0,qh=null,xn=null,sk=0,$u=1/0,Ws=null,Eg=!1,ok=null,Ko=null,Og=!1,Jo=null,Cg=0,Uh=0,ak=null,Tg=-1,Ig=0;function an(){return qe&6?Wt():Tg!==-1?Tg:Tg=Wt()}function Ho(e){return e.mode&1?qe&2&&Or!==0?Or&-Or:O8.transition!==null?(Ig===0&&(Ig=$O()),Ig):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:YO(e.type)),e):1}function _i(e,t,r,n){if(50<Uh)throw Uh=0,ak=null,Error(z(185));hh(e,r,n),(!(qe&2)||e!==br)&&(e===br&&(!(qe&2)&&(_g|=r),dr===4&&Qo(e,Or)),Nn(e,n),r===1&&qe===0&&!(t.mode&1)&&($u=Wt()+500,ig&&Uo()))}function Nn(e,t){var r=e.callbackNode;OD(e,t);var n=Bm(e,e===br?Or:0);if(n===0)r!==null&&WO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&WO(r),t===1)e.tag===0?E8(eI.bind(null,e)):FC(eI.bind(null,e)),x8(function(){!(qe&6)&&Uo()}),r=null;else{switch(VO(n)){case 1:r=qw;break;case 4:r=qO;break;case 16:r=jm;break;case 536870912:r=UO;break;default:r=jm}r=lI(r,XT.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function XT(e,t){if(Tg=-1,Ig=0,qe&6)throw Error(z(327));var r=e.callbackNode;if(Vu()&&e.callbackNode!==r)return null;var n=Bm(e,e===br?Or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rg(e,n);else{t=n;var i=qe;qe|=2;var s=rI();(br!==e||Or!==t)&&(Ws=null,$u=Wt()+500,ll(e,t));do try{J8();break}catch(a){tI(e,a)}while(1);E1(),Sg.current=s,qe=i,Xt!==null?t=0:(br=null,Or=0,t=dr)}if(t!==0){if(t===2&&(i=Uw(e),i!==0&&(n=i,t=lk(e,i))),t===1)throw r=Wh,ll(e,0),Qo(e,n),Nn(e,Wt()),r;if(t===6)Qo(e,n);else{if(i=e.current.alternate,!(n&30)&&!z8(i)&&(t=Rg(e,n),t===2&&(s=Uw(e),s!==0&&(n=s,t=lk(e,s))),t===1))throw r=Wh,ll(e,0),Qo(e,n),Nn(e,Wt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:ul(e,xn,Ws);break;case 3:if(Qo(e,n),(n&130023424)===n&&(t=sk+500-Wt(),10<t)){if(Bm(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){an(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=m1(ul.bind(null,e,xn,Ws),t);break}ul(e,xn,Ws);break;case 4:if(Qo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-vi(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V8(n/1960))-n,10<n){e.timeoutHandle=m1(ul.bind(null,e,xn,Ws),n);break}ul(e,xn,Ws);break;case 5:ul(e,xn,Ws);break;default:throw Error(z(329))}}}return Nn(e,Wt()),e.callbackNode===r?XT.bind(null,e):null}function lk(e,t){var r=qh;return e.current.memoizedState.isDehydrated&&(ll(e,t).flags|=256),e=Rg(e,t),e!==2&&(t=xn,xn=r,t!==null&&uk(t)),e}function uk(e){xn===null?xn=e:xn.push.apply(xn,e)}function z8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!wi(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qo(e,t){for(t&=~ik,t&=~_g,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-vi(t),n=1<<r;e[r]=-1,t&=~n}}function eI(e){if(qe&6)throw Error(z(327));Vu();var t=Bm(e,0);if(!(t&1))return Nn(e,Wt()),null;var r=Rg(e,t);if(e.tag!==0&&r===2){var n=Uw(e);n!==0&&(t=n,r=lk(e,n))}if(r===1)throw r=Wh,ll(e,0),Qo(e,t),Nn(e,Wt()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ul(e,xn,Ws),Nn(e,Wt()),null}function ck(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&($u=Wt()+500,ig&&Uo())}}function al(e){Jo!==null&&Jo.tag===0&&!(qe&6)&&Vu();var t=qe;qe|=1;var r=ti.transition,n=Xe;try{if(ti.transition=null,Xe=1,e)return e()}finally{Xe=n,ti.transition=r,qe=t,!(qe&6)&&Uo()}}function dk(){Ln=Uu.current,pt(Uu)}function ll(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,k8(r)),Xt!==null)for(r=Xt.return;r!==null;){var n=r;switch(k1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rg();break;case 3:Bu(),pt(vn),pt(Dr),M1();break;case 5:P1(n);break;case 4:Bu();break;case 13:pt(Ct);break;case 19:pt(Ct);break;case 10:O1(n.type._context);break;case 22:case 23:dk()}r=r.return}if(br=e,Xt=e=Zo(e.current,null),Or=Ln=t,dr=0,Wh=null,ik=_g=ol=0,xn=qh=null,nl!==null){for(t=0;t<nl.length;t++)if(r=nl[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}nl=null}return e}function tI(e,t){do{var r=Xt;try{if(E1(),mg.current=vg,gg){for(var n=Tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gg=!1}if(sl=0,yr=cr=Tt=null,Ph=!1,jh=0,nk.current=null,r===null||r.return===null){dr=1,Wh=t,Xt=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=Or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_T(o);if(m!==null){m.flags&=-257,ET(m,o,a,s,t),m.mode&1&&ST(s,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var b=new Set;b.add(l),t.updateQueue=b}else g.add(l);break e}else{if(!(t&1)){ST(s,u,t),hk();break e}l=Error(z(426))}}else if(wt&&a.mode&1){var k=_T(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ET(k,o,a,s,t),S1(Wu(l,a));break e}}s=l=Wu(l,a),dr!==4&&(dr=2),qh===null?qh=[s]:qh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=xT(s,l,t);zC(s,y);break e;case 1:a=l;var p=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ko===null||!Ko.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=NT(s,a,t);zC(s,x);break e}}s=s.return}while(s!==null)}iI(r)}catch(_){t=_,Xt===r&&r!==null&&(Xt=r=r.return);continue}break}while(1)}function rI(){var e=Sg.current;return Sg.current=vg,e===null?vg:e}function hk(){(dr===0||dr===3||dr===2)&&(dr=4),br===null||!(ol&268435455)&&!(_g&268435455)||Qo(br,Or)}function Rg(e,t){var r=qe;qe|=2;var n=rI();(br!==e||Or!==t)&&(Ws=null,ll(e,t));do try{K8();break}catch(i){tI(e,i)}while(1);if(E1(),qe=r,Sg.current=n,Xt!==null)throw Error(z(261));return br=null,Or=0,dr}function K8(){for(;Xt!==null;)nI(Xt)}function J8(){for(;Xt!==null&&!bD();)nI(Xt)}function nI(e){var t=aI(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,t===null?iI(e):Xt=t,nk.current=null}function iI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=W8(r,t),r!==null){r.flags&=32767,Xt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dr=6,Xt=null;return}}else if(r=B8(r,t,Ln),r!==null){Xt=r;return}if(t=t.sibling,t!==null){Xt=t;return}Xt=t=e}while(t!==null);dr===0&&(dr=5)}function ul(e,t,r){var n=Xe,i=ti.transition;try{ti.transition=null,Xe=1,H8(e,t,r,n)}finally{ti.transition=i,Xe=n}return null}function H8(e,t,r,n){do Vu();while(Jo!==null);if(qe&6)throw Error(z(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(CD(e,s),e===br&&(Xt=br=null,Or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Og||(Og=!0,lI(jm,function(){return Vu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ti.transition,ti.transition=null;var o=Xe;Xe=1;var a=qe;qe|=4,nk.current=null,U8(e,r),HT(r,e),p8(f1),Um=!!h1,f1=h1=null,e.current=r,$8(r),vD(),qe=a,Xe=o,ti.transition=s}else e.current=r;if(Og&&(Og=!1,Jo=e,Cg=i),s=e.pendingLanes,s===0&&(Ko=null),xD(r.stateNode),Nn(e,Wt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Eg)throw Eg=!1,e=ok,ok=null,e;return Cg&1&&e.tag!==0&&Vu(),s=e.pendingLanes,s&1?e===ak?Uh++:(Uh=0,ak=e):Uh=0,Uo(),null}function Vu(){if(Jo!==null){var e=VO(Cg),t=ti.transition,r=Xe;try{if(ti.transition=null,Xe=16>e?16:e,Jo===null)var n=!1;else{if(e=Jo,Jo=null,Cg=0,qe&6)throw Error(z(331));var i=qe;for(qe|=4,re=e.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Bh(8,d,s)}var c=d.child;if(c!==null)c.return=d,re=c;else for(;re!==null;){d=re;var f=d.sibling,m=d.return;if($T(d),d===u){re=null;break}if(f!==null){f.return=m,re=f;break}re=m}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bh(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,re=y;break e}re=s.return}}var p=e.current;for(re=p;re!==null;){o=re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,re=w;else e:for(o=p;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ng(9,a)}}catch(_){Pt(a,a.return,_)}if(a===o){re=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,re=x;break e}re=a.return}}if(qe=i,Uo(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Mm,e)}catch{}n=!0}return n}finally{Xe=r,ti.transition=t}}return!1}function sI(e,t,r){t=Wu(r,t),t=xT(e,t,1),e=Vo(e,t,1),t=an(),e!==null&&(hh(e,1,t),Nn(e,t))}function Pt(e,t,r){if(e.tag===3)sI(e,e,r);else for(;t!==null;){if(t.tag===3){sI(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ko===null||!Ko.has(n))){e=Wu(r,e),e=NT(t,e,1),t=Vo(t,e,1),e=an(),t!==null&&(hh(t,1,e),Nn(t,e));break}}t=t.return}}function Q8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&r,br===e&&(Or&r)===r&&(dr===4||dr===3&&(Or&130023424)===Or&&500>Wt()-sk?ll(e,0):ik|=r),Nn(e,t)}function oI(e,t){t===0&&(e.mode&1?(t=Dm,Dm<<=1,!(Dm&130023424)&&(Dm=4194304)):t=1);var r=an();e=Fs(e,t),e!==null&&(hh(e,t,r),Nn(e,r))}function Z8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),oI(e,r)}function G8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),oI(e,r)}var aI;aI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)kn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kn=!1,D8(e,t,r);kn=!!(e.flags&131072)}else kn=!1,wt&&t.flags&1048576&&DC(t,og,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kg(e,t),e=t.pendingProps;var i=Au(t,Dr.current);Fu(t,r),i=B1(null,t,n,e,i,r);var s=W1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(n)?(s=!0,ng(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,I1(t),i.updater=hg,t.stateNode=i,i._reactInternals=t,A1(t,n,e,r),t=H1(null,t,n,!0,s,r)):(t.tag=0,wt&&s&&w1(t),on(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(kg(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=X8(n),e=xi(n,e),i){case 0:t=J1(null,t,n,e,r);break e;case 1:t=AT(null,t,n,e,r);break e;case 11:t=OT(null,t,n,e,r);break e;case 14:t=CT(null,t,n,xi(n.type,e),r);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xi(n,i),J1(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xi(n,i),AT(e,t,n,i,r);case 3:e:{if(LT(t),e===null)throw Error(z(387));n=t.pendingProps,s=t.memoizedState,i=s.element,VC(e,t),dg(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Wu(Error(z(423)),t),t=PT(e,t,n,r,i);break e}else if(n!==i){i=Wu(Error(z(424)),t),t=PT(e,t,n,r,i);break e}else for(An=Bo(t.stateNode.containerInfo.firstChild),Rn=t,wt=!0,ki=null,r=XC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ju(),n===i){t=Bs(e,t,r);break e}on(e,t,n,r)}t=t.child}return t;case 5:return eT(t),e===null&&N1(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,p1(n,i)?o=null:s!==null&&p1(n,s)&&(t.flags|=32),RT(e,t),on(e,t,o,r),t.child;case 6:return e===null&&N1(t),null;case 13:return jT(e,t,r);case 4:return L1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Du(t,null,n,r):on(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xi(n,i),OT(e,t,n,i,r);case 7:return on(e,t,t.pendingProps,r),t.child;case 8:return on(e,t,t.pendingProps.children,r),t.child;case 12:return on(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,at(lg,n._currentValue),n._currentValue=o,s!==null)if(wi(s.value,o)){if(s.children===i.children&&!vn.current){t=Bs(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ds(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),C1(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),C1(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}on(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Fu(t,r),i=Xn(i),n=n(i),t.flags|=1,on(e,t,n,r),t.child;case 14:return n=t.type,i=xi(n,t.pendingProps),i=xi(n.type,i),CT(e,t,n,i,r);case 15:return TT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xi(n,i),kg(e,t),t.tag=1,wn(n)?(e=!0,ng(t)):e=!1,Fu(t,r),QC(t,n,i),A1(t,n,i,r),H1(null,t,n,!0,e,r);case 19:return FT(e,t,r);case 22:return IT(e,t,r)}throw Error(z(156,t.tag))};function lI(e,t){return BO(e,t)}function Y8(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(e,t,r,n){return new Y8(e,t,r,n)}function fk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X8(e){if(typeof e=="function")return fk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ww)return 11;if(e===Nw)return 14}return 2}function Zo(e,t){var r=e.alternate;return r===null?(r=ri(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ag(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")fk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vu:return cl(r.children,i,s,t);case bw:o=8,i|=8;break;case vw:return e=ri(12,r,t,i|2),e.elementType=vw,e.lanes=s,e;case kw:return e=ri(13,r,t,i),e.elementType=kw,e.lanes=s,e;case xw:return e=ri(19,r,t,i),e.elementType=xw,e.lanes=s,e;case mO:return Lg(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fO:o=10;break e;case pO:o=9;break e;case ww:o=11;break e;case Nw:o=14;break e;case Ro:o=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=ri(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function cl(e,t,r,n){return e=ri(7,e,n,t),e.lanes=r,e}function Lg(e,t,r,n){return e=ri(22,e,n,t),e.elementType=mO,e.lanes=r,e.stateNode={isHidden:!1},e}function pk(e,t,r){return e=ri(6,e,null,t),e.lanes=r,e}function mk(e,t,r){return t=ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eB(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$w(0),this.expirationTimes=$w(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$w(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gk(e,t,r,n,i,s,o,a,l){return e=new eB(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ri(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},I1(s),e}function tB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uI(e){if(!e)return qo;e=e._reactInternals;e:{if(Ya(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(wn(r))return jC(e,r,t)}return t}function cI(e,t,r,n,i,s,o,a,l){return e=gk(r,n,!0,e,i,s,o,a,l),e.context=uI(null),r=e.current,n=an(),i=Ho(r),s=Ds(n,i),s.callback=t??null,Vo(r,s,i),e.current.lanes=i,hh(e,i,n),Nn(e,n),e}function Pg(e,t,r,n){var i=t.current,s=an(),o=Ho(i);return r=uI(r),t.context===null?t.context=r:t.pendingContext=r,t=Ds(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vo(i,t,o),e!==null&&(_i(e,i,o,s),cg(e,i,o)),o}function jg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yk(e,t){dI(e,t),(e=e.alternate)&&dI(e,t)}function rB(){return null}var hI=typeof reportError=="function"?reportError:function(e){console.error(e)};function bk(e){this._internalRoot=e}Mg.prototype.render=bk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Pg(e,t,null,null)},Mg.prototype.unmount=bk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;al(function(){Pg(null,e,null,null)}),t[Ls]=null}};function Mg(e){this._internalRoot=e}Mg.prototype.unstable_scheduleHydration=function(e){if(e){var t=JO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mo.length&&t!==0&&t<Mo[r].priority;r++);Mo.splice(r,0,e),r===0&&ZO(e)}};function vk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fI(){}function nB(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=jg(o);s.call(u)}}var o=cI(t,n,e,0,null,!1,!1,"",fI);return e._reactRootContainer=o,e[Ls]=o.current,Eh(e.nodeType===8?e.parentNode:e),al(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=jg(l);a.call(u)}}var l=gk(e,0,!1,null,null,!1,!1,"",fI);return e._reactRootContainer=l,e[Ls]=l.current,Eh(e.nodeType===8?e.parentNode:e),al(function(){Pg(t,l,r,n)}),l}function Dg(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=jg(o);a.call(l)}}Pg(t,o,e,i)}else o=nB(r,t,e,i,n);return jg(o)}zO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dh(t.pendingLanes);r!==0&&(Vw(t,r|1),Nn(t,Wt()),!(qe&6)&&($u=Wt()+500,Uo()))}break;case 13:al(function(){var n=Fs(e,1);if(n!==null){var i=an();_i(n,e,1,i)}}),yk(e,1)}},zw=function(e){if(e.tag===13){var t=Fs(e,134217728);if(t!==null){var r=an();_i(t,e,134217728,r)}yk(e,134217728)}},KO=function(e){if(e.tag===13){var t=Ho(e),r=Fs(e,t);if(r!==null){var n=an();_i(r,e,t,n)}yk(e,t)}},JO=function(){return Xe},HO=function(e,t){var r=Xe;try{return Xe=e,t()}finally{Xe=r}},Fw=function(e,t,r){switch(t){case"input":if(Tw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=tg(n);if(!i)throw Error(z(90));bO(n),Tw(n,i)}}}break;case"textarea":NO(e,r);break;case"select":t=r.value,t!=null&&wu(e,!!r.multiple,t,!1)}},AO=ck,LO=al;var iB={usingClientEntryPoint:!1,Events:[Th,Iu,tg,IO,RO,ck]},$h={findFiberByHostInstance:Xa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sB={bundleType:$h.bundleType,version:$h.version,rendererPackageName:$h.rendererPackageName,rendererConfig:$h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:As.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=FO(e),e===null?null:e.stateNode},findFiberByHostInstance:$h.findFiberByHostInstance||rB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bg.isDisabled&&Bg.supportsFiber)try{Mm=Bg.inject(sB),Gi=Bg}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iB,Cn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vk(t))throw Error(z(200));return tB(e,t,null,r)},Cn.createRoot=function(e,t){if(!vk(e))throw Error(z(299));var r=!1,n="",i=hI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gk(e,1,!1,null,null,r,!1,n,i),e[Ls]=t.current,Eh(e.nodeType===8?e.parentNode:e),new bk(t)},Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=FO(t),e=e===null?null:e.stateNode,e},Cn.flushSync=function(e){return al(e)},Cn.hydrate=function(e,t,r){if(!Fg(t))throw Error(z(200));return Dg(null,e,t,!0,r)},Cn.hydrateRoot=function(e,t,r){if(!vk(e))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=hI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=cI(t,null,e,1,r??null,i,!1,s,o),e[Ls]=t.current,Eh(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Mg(t)},Cn.render=function(e,t,r){if(!Fg(t))throw Error(z(200));return Dg(null,e,t,!1,r)},Cn.unmountComponentAtNode=function(e){if(!Fg(e))throw Error(z(40));return e._reactRootContainer?(al(function(){Dg(null,null,e,!1,function(){e._reactRootContainer=null,e[Ls]=null})}),!0):!1},Cn.unstable_batchedUpdates=ck,Cn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fg(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Dg(e,t,r,!1,n)},Cn.version="18.2.0-next-9e3b772b8-20220608";function pI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pI)}catch(e){console.error(e)}}pI(),oO.exports=Cn;var mI=oO.exports,gI=mI;fw.createRoot=gI.createRoot,fw.hydrateRoot=gI.hydrateRoot;const yI="pushstate",bI="popstate",vI="beforeunload",wI=e=>(e.preventDefault(),e.returnValue=""),oB=()=>{removeEventListener(vI,wI,{capture:!0})};function kI(e){let t=e.getLocation(),r=new Set,n=[];const i=()=>{t=e.getLocation(),r.forEach(o=>o())},s=async o=>{var a;if(typeof document<"u"&&n.length){for(let l of n)if(!await l()){(a=e.onBlocked)==null||a.call(e,i);return}}o()};return{get location(){return t},subscribe:o=>(r.add(o),()=>{r.delete(o)}),push:(o,a)=>{a=xI(a),s(()=>{e.pushState(o,a,i)})},replace:(o,a)=>{a=xI(a),s(()=>{e.replaceState(o,a,i)})},go:o=>{s(()=>{e.go(o)})},back:()=>{s(()=>{e.back()})},forward:()=>{s(()=>{e.forward()})},createHref:o=>e.createHref(o),block:o=>(n.push(o),n.length===1&&addEventListener(vI,wI,{capture:!0}),()=>{n=n.filter(a=>a!==o),n.length||oB()}),flush:()=>{var o;return(o=e.flush)==null?void 0:o.call(e)},destroy:()=>{var o;return(o=e.destroy)==null?void 0:o.call(e)},notify:i}}function xI(e){return e||(e={}),{...e,key:NI()}}function aB(e){const t=(e==null?void 0:e.window)??(typeof document<"u"?window:void 0),r=(e==null?void 0:e.createHref)??(y=>y),n=(e==null?void 0:e.parseLocation)??(()=>wk(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));let i=n(),s;const o=()=>i;let a,l=!0,u;const d=y=>{l=!1,y(),l=!0},c=()=>{d(()=>{a&&(t.history[a.isPush?"pushState":"replaceState"](a.state,"",a.href),a=void 0,u=void 0,s=void 0)})},f=(y,p,w,x)=>{const _=r(p);u||(s=i),i=wk(p,w),a={href:_,state:w,isPush:(a==null?void 0:a.isPush)||y==="push"},x(),u||(u=Promise.resolve().then(()=>c()))},m=()=>{i=n(),k.notify()};var g=t.history.pushState,b=t.history.replaceState;const k=kI({getLocation:o,pushState:(y,p,w)=>f("push",y,p,w),replaceState:(y,p,w)=>f("replace",y,p,w),back:()=>t.history.back(),forward:()=>t.history.forward(),go:y=>t.history.go(y),createHref:y=>r(y),flush:c,destroy:()=>{t.history.pushState=g,t.history.replaceState=b,t.removeEventListener(yI,m),t.removeEventListener(bI,m)},onBlocked:y=>{s&&i!==s&&(i=s,y())}});return t.addEventListener(yI,m),t.addEventListener(bI,m),t.history.pushState=function(){let y=g.apply(t.history,arguments);return l&&k.notify(),y},t.history.replaceState=function(){let y=b.apply(t.history,arguments);return l&&k.notify(),y},k}function lB(e={initialEntries:["/"]}){const t=e.initialEntries;let r=e.initialIndex??t.length-1,n={key:NI()};return kI({getLocation:()=>wk(t[r],n),pushState:(i,s)=>{n=s,t.push(i),r++},replaceState:(i,s)=>{n=s,t[r]=i},back:()=>{r--},forward:()=>{r=Math.min(r+1,t.length-1)},go:i=>{r=Math.min(Math.max(r+i,0),t.length-1)},createHref:i=>i})}function wk(e,t){let r=e.indexOf("#"),n=e.indexOf("?");return{href:e,pathname:e.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:e.length),hash:r>-1?e.substring(r):"",search:n>-1?e.slice(n,r===-1?void 0:r):"",state:t||{}}}function NI(){return(Math.random()+1).toString(36).substring(7)}var uB=!0,kk="Invariant failed";function rs(e,t){if(!e){if(uB)throw new Error(kk);var r=typeof t=="function"?t():t,n=r?"".concat(kk,": ").concat(r):kk;throw new Error(n)}}var cB=!0;function xk(e,t){if(!cB){if(e)return;var r="Warning: "+t;typeof console<"u"&&console.warn(r);try{throw Error(r)}catch{}}}var SI={exports:{}},_I={},EI={exports:{}},OI={},zu=Z;function dB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hB=typeof Object.is=="function"?Object.is:dB,fB=zu.useState,pB=zu.useEffect,mB=zu.useLayoutEffect,gB=zu.useDebugValue;function yB(e,t){var r=t(),n=fB({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return mB(function(){i.value=r,i.getSnapshot=t,Nk(i)&&s({inst:i})},[e,r,t]),pB(function(){return Nk(i)&&s({inst:i}),e(function(){Nk(i)&&s({inst:i})})},[e]),gB(r),r}function Nk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hB(e,r)}catch{return!0}}function bB(e,t){return t()}var vB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bB:yB;OI.useSyncExternalStore=zu.useSyncExternalStore!==void 0?zu.useSyncExternalStore:vB,EI.exports=OI;var wB=EI.exports,Wg=Z,kB=wB;function xB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NB=typeof Object.is=="function"?Object.is:xB,SB=kB.useSyncExternalStore,_B=Wg.useRef,EB=Wg.useEffect,OB=Wg.useMemo,CB=Wg.useDebugValue;_I.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=_B(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=OB(function(){function l(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return c=g}return c=m}if(g=c,NB(d,m))return g;var b=n(m);return i!==void 0&&i(g,b)?g:(d=m,c=b)}var u=!1,d,c,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,i]);var a=SB(e,s[0],s[1]);return EB(function(){o.hasValue=!0,o.value=a},[a]),CB(a),a},SI.exports=_I;var TB=SI.exports,IB=class{constructor(e,t){this.listeners=new Set,this._batching=!1,this._flushing=0,this._nextPriority=null,this.subscribe=r=>{var i,s;this.listeners.add(r);const n=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),n==null||n()}},this.setState=(r,n)=>{var o,a,l,u,d;const i=this.state;this.state=(o=this.options)!=null&&o.updateFn?this.options.updateFn(i)(r):r(i);const s=(n==null?void 0:n.priority)??((a=this.options)==null?void 0:a.defaultPriority)??"high";this._nextPriority===null?this._nextPriority=s:this._nextPriority==="high"?this._nextPriority=s:this._nextPriority=((l=this.options)==null?void 0:l.defaultPriority)??"high",(d=(u=this.options)==null?void 0:u.onUpdate)==null||d.call(u,{priority:this._nextPriority}),this._flush()},this._flush=()=>{if(this._batching)return;const r=++this._flushing;this.listeners.forEach(n=>{this._flushing===r&&n({priority:this._nextPriority??"high"})})},this.batch=r=>{if(this._batching)return r();this._batching=!0,r(),this._batching=!1,this._flush()},this.state=e,this.options=t}};function RB(e,t=r=>r){return TB.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,AB)}function AB(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!Object.is(e[r[n]],t[r[n]]))return!1;return!0}function CI(e){const t=e.errorComponent??Sk;return Z.createElement(LB,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:r})=>r?Z.createElement(t,{error:r}):e.children})}class LB extends Z.Component{constructor(){super(...arguments);N(this,"state",{error:null})}static getDerivedStateFromProps(r){return{resetKey:r.getResetKey()}}static getDerivedStateFromError(r){return{error:r}}componentDidUpdate(r,n){n.error&&n.resetKey!==this.state.resetKey&&this.setState({error:null})}componentDidCatch(r){var n,i;console.error(r),(i=(n=this.props).onCatch)==null||i.call(n,r)}render(){return this.props.children(this.state)}}function Sk({error:e}){const[t,r]=Z.useState(!1);return Z.createElement("div",{style:{padding:".5rem",maxWidth:"100%"}},Z.createElement("div",{style:{display:"flex",alignItems:"center",gap:".5rem"}},Z.createElement("strong",{style:{fontSize:"1rem"}},"Something went wrong!"),Z.createElement("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n)},t?"Hide Error":"Show Error")),Z.createElement("div",{style:{height:".25rem"}}),t?Z.createElement("div",null,Z.createElement("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"}},e.message?Z.createElement("code",null,e.message):null)):null)}function _k(e){return e[e.length-1]}function PB(e){return typeof e=="function"}function dl(e,t){return PB(e)?e(t):e}function qg(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function Go(e,t){if(e===t)return e;const r=t,n=Array.isArray(e)&&Array.isArray(r);if(n||Ug(e)&&Ug(r)){const i=n?e.length:Object.keys(e).length,s=n?r:Object.keys(r),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];a[d]=Go(e[d],r[d]),a[d]===e[d]&&l++}return i===o&&l===i?e:a}return r}function Ug(e){if(!TI(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!TI(r)||!r.hasOwnProperty("isPrototypeOf"))}function TI(e){return Object.prototype.toString.call(e)==="[object Object]"}function $g(e,t,r=!1){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Ug(e)&&Ug(t)){const n=Object.keys(e),i=Object.keys(t);return!r&&n.length!==i.length?!1:!i.some(s=>!(s in e)||!$g(e[s],t[s],r))}return Array.isArray(e)&&Array.isArray(t)?!e.some((n,i)=>!$g(n,t[i],r)):!1}const Ek=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function jB(e){return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"')}const Vg=Z.createContext(void 0);function II(){const e=hl(),t=qs({select:r=>{var n;return(n=Yo(r)[0])==null?void 0:n.id}});return Z.createElement(Vg.Provider,{value:t},Z.createElement(CI,{getResetKey:()=>{var r;return(r=e.state.resolvedLocation.state)==null?void 0:r.key},errorComponent:Sk,onCatch:()=>{xk(!1,"Error in router! Consider setting an 'errorComponent' in your RootRoute! \u{1F44D}")}},t?Z.createElement(AI,{matchId:t}):null))}function RI(e){return Z.createElement(Z.Fragment,null,e.children)}function AI({matchId:e}){var u,d,c;const t=hl(),r=qs({select:f=>{var m;return(m=Yo(f).find(g=>g.id===e))==null?void 0:m.routeId}});rs(r,`Could not find routeId for matchId "${e}". Please file an issue!`);const n=t.routesById[r],i=n.options.pendingComponent??t.options.defaultPendingComponent,s=i?Z.createElement(i,null):null,o=n.options.errorComponent??t.options.defaultErrorComponent??Sk,a=n.options.wrapInSuspense??i??((u=n.options.component)==null?void 0:u.preload)??((d=n.options.pendingComponent)==null?void 0:d.preload)??((c=n.options.errorComponent)==null?void 0:c.preload)?Z.Suspense:RI,l=o?CI:RI;return Z.createElement(Vg.Provider,{value:e},Z.createElement(a,{fallback:s},Z.createElement(l,{getResetKey:()=>{var f;return(f=t.state.resolvedLocation.state)==null?void 0:f.key},errorComponent:o,onCatch:()=>{xk(!1,`Error in route match: ${e}`)}},Z.createElement(MB,{matchId:e,pendingElement:s}))))}function MB({matchId:e,pendingElement:t}){const r=hl(),n=qs({select:o=>{var a;return(a=Yo(o).find(l=>l.id===e))==null?void 0:a.routeId}}),i=r.routesById[n],s=qs({select:o=>qg(Yo(o).find(a=>a.id===e),["status","error","showPending","loadPromise"])});if(s.status==="error")throw s.error;if(s.status==="pending"){if(s.showPending)return t;throw s.loadPromise}if(s.status==="success"){let o=i.options.component??r.options.defaultComponent;return o?Z.createElement(o,null):Z.createElement(LI,null)}rs(!1,"Idle routeMatch status encountered during rendering! You should never see this. File an issue!")}const LI=Z.memo(function(){const e=Z.useContext(Vg),t=qs({select:r=>{var s;const n=Yo(r),i=n.findIndex(o=>o.id===e);return(s=n[i+1])==null?void 0:s.id}});return t?Z.createElement(AI,{matchId:t}):null});function Yo(e){var t;return(t=e.pendingMatches)!=null&&t.some(r=>r.showPending)?e.pendingMatches:e.matches}function Ku(e){var s;const t=hl(),r=Z.useContext(Vg),n=(s=Yo(t.state).find(o=>o.id===r))==null?void 0:s.routeId,i=(()=>{const o=Yo(t.state);return(e!=null&&e.from?o.find(a=>a.routeId===(e==null?void 0:e.from)):o.find(a=>a.id===r)).routeId})();return((e==null?void 0:e.strict)??!0)&&rs(n==i,`useMatch("${i}") is being called in a component that is meant to render the '${n}' route. Did you mean to 'useMatch("${i}", { strict: false })' or 'useRoute("${i}")' instead?`),qs({select:o=>{const a=Yo(o).find(l=>l.id===r);return rs(a,`Could not find ${e!=null&&e.from?`an active match from "${e.from}"`:"a nearest match!"}`),e!=null&&e.select?e.select(a):a}})}function FB(e){return Ku({...e,select:t=>typeof e.select=="function"?e.select(t==null?void 0:t.loaderDeps):t==null?void 0:t.loaderDeps})}function DB(e){return Ku({...e,select:t=>typeof e.select=="function"?e.select(t==null?void 0:t.loaderData):t==null?void 0:t.loaderData})}let zg=Z.createContext(null);typeof document<"u"&&(window.__TSR_ROUTER_CONTEXT__?zg=window.__TSR_ROUTER_CONTEXT__:window.__TSR_ROUTER_CONTEXT__=zg);function BB({router:e,...t}){e.update({...e.options,...t,context:{...e.options.context,...t==null?void 0:t.context}});const r=e.options.InnerWrap?Z.createElement(e.options.InnerWrap,null,Z.createElement(II,null)):Z.createElement(II,null),n=Z.createElement(zg.Provider,{value:e},r,Z.createElement(WB,null));return e.options.Wrap?Z.createElement(e.options.Wrap,null,n):n}function WB(){const e=hl(),t=qs({select:s=>qg(s,["isLoading","location","resolvedLocation","isTransitioning"])}),[r,n]=Z.useTransition();e.startReactTransition=n,Z.useEffect(()=>{r&&e.__store.setState(s=>({...s,isTransitioning:r}))},[r]);const i=()=>{(s=>{t.isTransitioning?s():n(()=>s())})(()=>{try{e.load()}catch(s){console.error(s)}})};return Ek(()=>{const s=e.history.subscribe(()=>{e.latestLocation=e.parseLocation(e.latestLocation),t.location!==e.latestLocation&&i()}),o=e.buildLocation({search:!0,params:!0,hash:!0,state:!0});return t.location.href!==o.href&&e.commitLocation({...o,replace:!0}),()=>{s()}},[e.history]),Ek(()=>{var s;if(t.isTransitioning&&!r&&!t.isLoading&&t.resolvedLocation!==t.location){if(e.emit({type:"onResolved",fromLocation:t.resolvedLocation,toLocation:t.location,pathChanged:t.location.href!==((s=t.resolvedLocation)==null?void 0:s.href)}),document.querySelector&&t.location.hash!==""){const o=document.getElementById(t.location.hash);o&&o.scrollIntoView()}e.__store.setState(o=>({...o,isTransitioning:!1,resolvedLocation:o.location}))}},[t.isTransitioning,r,t.isLoading,t.resolvedLocation,t.location]),Ek(()=>{window.__TSR_DEHYDRATED__||i()},[]),null}function Ok(e,t){return[...e.cachedMatches,...e.pendingMatches??[],...e.matches].find(r=>r.id===t)}function qs(e){const t=hl();return RB(t.__store,e==null?void 0:e.select)}function hl(){const e=typeof document<"u"&&window.__TSR_ROUTER_CONTEXT__||zg,t=Z.useContext(e);return xk(t,"useRouter must be used inside a <RouterProvider> component!"),t}function Xo(e){return Kg(e.filter(Boolean).join("/"))}function Kg(e){return e.replace(/\/{2,}/g,"/")}function PI(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Jg(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function jI(e){return Jg(PI(e))}function qB(e,t,r){t=t.replace(new RegExp(`^${e}`),"/"),r=r.replace(new RegExp(`^${e}`),"/");let n=Ju(t);const i=Ju(r);i.forEach((o,a)=>{var l;if(o.value==="/")a?a===i.length-1&&n.push(o):n=[o];else if(o.value==="..")n.length>1&&((l=_k(n))==null?void 0:l.value)==="/"&&n.pop(),n.pop();else{if(o.value===".")return;n.push(o)}});const s=Xo([e,...n.map(o=>o.value)]);return Kg(s)}function Ju(e){if(!e)return[];e=Kg(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const r=e.split("/").filter(Boolean);return t.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:n})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function Hg(e,t,r=!1){const n=Ju(e);return Xo(n.map(i=>{if(i.type==="wildcard"){const s=t[i.value];return r?`${i.value}${s??""}`:s}return i.type==="param"?t[i.value.substring(1)]??"undefined":i.value}))}function Ck(e,t,r){const n=$B(e,t,r);if(!(r.to&&!n))return n??{}}function UB(e,t){return e!="/"?t.substring(e.length):t}function $B(e,t,r){t=UB(e,t);const n=`${r.to??"$"}`,i=Ju(t),s=Ju(n);t.startsWith("/")||i.unshift({type:"pathname",value:"/"}),n.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let a=0;a<Math.max(i.length,s.length);a++){const l=i[a],u=s[a],d=a>=i.length-1,c=a>=s.length-1;if(u){if(u.type==="wildcard")return l!=null&&l.value?(o["*"]=Xo(i.slice(a).map(f=>f.value)),!0):!1;if(u.type==="pathname"){if(u.value==="/"&&!(l!=null&&l.value))return!0;if(l){if(r.caseSensitive){if(u.value!==l.value)return!1}else if(u.value.toLowerCase()!==l.value.toLowerCase())return!1}}if(!l)return!1;if(u.type==="param"){if((l==null?void 0:l.value)==="/")return!1;l.value.charAt(0)!=="$"&&(o[u.value.substring(1)]=l.value)}}if(!d&&c)return o["**"]=Xo(i.slice(a+1).map(f=>f.value)),!!r.fuzzy&&(u==null?void 0:u.value)!=="/"}return!0})()?o:void 0}function VB(e){return qs({select:t=>{var n;const r=(n=_k(t.matches))==null?void 0:n.params;return e!=null&&e.select?e.select(r):r}})}function zB(e){return Ku({...e,select:t=>e!=null&&e.select?e.select(t.search):t.search})}const fl="__root__";class Qg{constructor(t){N(this,"init",t=>{var l,u;this.originalIndex=t.originalIndex;const r=this.options,n=!(r!=null&&r.path)&&!(r!=null&&r.id);this.parentRoute=(u=(l=this.options)==null?void 0:l.getParentRoute)==null?void 0:u.call(l),n?this.path=fl:rs(this.parentRoute,"Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let i=n?fl:r.path;i&&i!=="/"&&(i=jI(i));const s=(r==null?void 0:r.id)||i;let o=n?fl:Xo([this.parentRoute.id===fl?"":this.parentRoute.id,s]);i===fl&&(i="/"),o!==fl&&(o=Xo(["/",o]));const a=o===fl?"/":Xo([this.parentRoute.fullPath,i]);this.path=i,this.id=o,this.fullPath=a,this.to=a});N(this,"addChildren",t=>(this.children=t,this));N(this,"update",t=>(Object.assign(this.options,t),this));N(this,"useMatch",t=>Ku({...t,from:this.id}));N(this,"useRouteContext",t=>Ku({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}));N(this,"useSearch",t=>zB({...t,from:this.id}));N(this,"useParams",t=>VB({...t,from:this.id}));N(this,"useLoaderDeps",t=>FB({...t,from:this.id}));N(this,"useLoaderData",t=>DB({...t,from:this.id}));this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),rs(!(t!=null&&t.id&&(t!=null&&t.path)),"Route cannot have both an 'id' and a 'path' option."),this.$$typeof=Symbol.for("react.memo")}}class KB extends Qg{constructor(t){super(t)}}function Tk(){return Tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tk.apply(this,arguments)}const Ik="Error preloading route! \u261D\uFE0F";function JB(e){const t=hl(),r=Ku({strict:!1,select:je=>je.pathname}),{children:n,target:i,activeProps:s=()=>({className:"active"}),inactiveProps:o=()=>({}),activeOptions:a,disabled:l,hash:u,search:d,params:c,to:f,state:m,mask:g,preload:b,preloadDelay:k,replace:y,startTransition:p,resetScroll:w,style:x,className:_,onClick:E,onFocus:S,onMouseEnter:R,onMouseLeave:T,onTouchStart:I,...M}=e,L={from:e.to?r:void 0,...e};let V="internal";try{new URL(`${f}`),V="external"}catch{}if(V==="external")return{href:f};const q=t.buildLocation(L),ie=b??t.options.defaultPreload,ue=k??t.options.defaultPreloadDelay??0,G=qs({select:je=>{const Je=je.location.pathname.split("/"),tn=q.pathname.split("/").every((LE,rw)=>LE===Je[rw]),Qi=a!=null&&a.exact?je.location.pathname===q.pathname:tn,wm=a!=null&&a.includeHash?je.location.hash===q.hash:!0,tw=(a==null?void 0:a.includeSearch)??!0?$g(je.location.search,q.search,!(a!=null&&a.exact)):!0;return Qi&&wm&&tw}}),D=je=>{!l&&!HB(je)&&!je.defaultPrevented&&(!i||i==="_self")&&je.button===0&&(je.preventDefault(),t.commitLocation({...q,replace:y,resetScroll:w,startTransition:p}))},j=je=>{ie&&t.preloadRoute(L).catch(Je=>{console.warn(Je),console.warn(Ik)})},Q=je=>{ie&&t.preloadRoute(L).catch(Je=>{console.warn(Je),console.warn(Ik)})},ve=je=>{const Je=je.target||{};if(ie){if(Je.preloadTimeout)return;Je.preloadTimeout=setTimeout(()=>{Je.preloadTimeout=null,t.preloadRoute(L).catch(tn=>{console.warn(tn),console.warn(Ik)})},ue)}},pe=je=>{const Je=je.target||{};Je.preloadTimeout&&(clearTimeout(Je.preloadTimeout),Je.preloadTimeout=null)},Lt=je=>Je=>{Je.persist&&Je.persist(),je.filter(Boolean).forEach(tn=>{Je.defaultPrevented||tn(Je)})},Yt=G?dl(s,{})??{}:{},en=G?{}:dl(o,{})??{};return{...Yt,...en,...M,href:l?void 0:q.maskedLocation?q.maskedLocation.href:q.href,onClick:Lt([E,D]),onFocus:Lt([S,j]),onMouseEnter:Lt([R,ve]),onMouseLeave:Lt([T,pe]),onTouchStart:Lt([I,Q]),target:i,style:{...x,...Yt.style,...en.style},className:[_,Yt.className,en.className].filter(Boolean).join(" ")||void 0,...l?{role:"link","aria-disabled":!0}:void 0,"data-status":G?"active":void 0}}const Rk=Z.forwardRef((e,t)=>{const r=JB(e);return Z.createElement("a",Tk({ref:t},r,{children:typeof e.children=="function"?e.children({isActive:r["data-status"]==="active"}):e.children}))});function HB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function QB(e,t){var r,n,i,s="";for(r in e)if((i=e[r])!==void 0)if(Array.isArray(i))for(n=0;n<i.length;n++)s&&(s+="&"),s+=encodeURIComponent(r)+"="+encodeURIComponent(i[n]);else s&&(s+="&"),s+=encodeURIComponent(r)+"="+encodeURIComponent(i);return(t||"")+s}function MI(e){if(!e)return"";var t=decodeURIComponent(e);return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function ZB(e){for(var t,r,n={},i=e.split("&");t=i.shift();)t=t.split("="),r=t.shift(),n[r]!==void 0?n[r]=[].concat(n[r],MI(t.shift())):n[r]=MI(t.shift());return n}function Hu(e){return!!(e!=null&&e.isRedirect)}const GB=XB(JSON.parse),YB=eW(JSON.stringify,JSON.parse);function XB(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));let r=ZB(t);for(let n in r){const i=r[n];if(typeof i=="string")try{r[n]=e(i)}catch{}}return r}}function eW(e,t){function r(n){if(typeof n=="object"&&n!==null)try{return e(n)}catch{}else if(typeof n=="string"&&typeof t=="function")try{return t(n),e(n)}catch{}return n}return n=>{n={...n},n&&Object.keys(n).forEach(s=>{const o=n[s];typeof o>"u"||o===void 0?delete n[s]:n[s]=r(o)});const i=QB(n).toString();return i?`?${i}`:""}}const FI=["component","errorComponent","pendingComponent"];class tW{constructor(t){N(this,"tempLocationKey",`${Math.round(Math.random()*1e7)}`);N(this,"resetNextScroll",!0);N(this,"navigateTimeout",null);N(this,"latestLoadPromise",Promise.resolve());N(this,"subscribers",new Set);N(this,"injectedHtml",[]);N(this,"startReactTransition",t=>t());N(this,"update",t=>{this.options={...this.options,...t},this.basepath=`/${jI(t.basepath??"")??""}`,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(typeof document<"u"?aB():lB()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new IB(iW(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,status:this.state.isTransitioning||this.state.isLoading?"pending":"idle"}}}))});N(this,"buildRouteTree",()=>{this.routesById={},this.routesByPath={};const t=this.options.notFoundRoute;t&&(t.init({originalIndex:99999999999}),this.routesById[t.id]=t);const r=i=>{i.forEach((s,o)=>{s.init({originalIndex:o});const a=this.routesById[s.id];if(rs(!a,`Duplicate routes found with id: ${String(s.id)}`),this.routesById[s.id]=s,!s.isRoot&&s.path){const u=Jg(s.fullPath);(!this.routesByPath[u]||s.fullPath.endsWith("/"))&&(this.routesByPath[u]=s)}const l=s.children;l!=null&&l.length&&r(l)})};r([this.routeTree]);const n=[];Object.values(this.routesById).forEach((i,s)=>{var u;if(i.isRoot||!i.path)return;const o=PI(i.fullPath),a=Ju(o);for(;a.length>1&&((u=a[0])==null?void 0:u.value)==="/";)a.shift();const l=a.map(d=>d.value==="/"?.75:d.type==="param"?.5:d.type==="wildcard"?.25:1);n.push({child:i,trimmed:o,parsed:a,index:s,scores:l})}),this.flatRoutes=n.sort((i,s)=>{const o=Math.min(i.scores.length,s.scores.length);for(let a=0;a<o;a++)if(i.scores[a]!==s.scores[a])return s.scores[a]-i.scores[a];if(i.scores.length!==s.scores.length)return s.scores.length-i.scores.length;for(let a=0;a<o;a++)if(i.parsed[a].value!==s.parsed[a].value)return i.parsed[a].value>s.parsed[a].value?1:-1;return i.index-s.index}).map((i,s)=>(i.child.rank=s,i.child))});N(this,"subscribe",(t,r)=>{const n={eventType:t,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}});N(this,"emit",t=>{this.subscribers.forEach(r=>{r.eventType===t.type&&r.fn(t)})});N(this,"checkLatest",t=>this.latestLoadPromise!==t?this.latestLoadPromise:void 0);N(this,"parseLocation",t=>{const r=({pathname:o,search:a,hash:l,state:u})=>{const d=this.options.parseSearch(a);return{pathname:o,searchStr:a,search:Go(t==null?void 0:t.search,d),hash:l.split("#").reverse()[0]??"",href:`${o}${a}${l}`,state:Go(t==null?void 0:t.state,u)}},n=r(this.history.location);let{__tempLocation:i,__tempKey:s}=n.state;if(i&&(!s||s===this.tempLocationKey)){const o=r(i);return o.state.key=n.state.key,delete o.state.__tempLocation,{...o,maskedLocation:n}}return n});N(this,"resolvePathWithBase",(t,r)=>qB(this.basepath,t,Kg(r)));N(this,"matchRoutes",(t,r,n)=>{let i={},s=this.flatRoutes.find(d=>{const c=Ck(this.basepath,Jg(t),{to:d.fullPath,caseSensitive:d.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});return c?(i=c,!0):!1}),o=s||this.routesById.__root__,a=[o];for((s?s.path!=="/"&&i["**"]:Jg(t))&&this.options.notFoundRoute&&a.push(this.options.notFoundRoute);o!=null&&o.parentRoute;)o=o.parentRoute,o&&a.unshift(o);const l=a.map(d=>{let c;if(d.options.parseParams)try{const f=d.options.parseParams(i);Object.assign(i,f)}catch(f){if(c=new nW(f.message,{cause:f}),n==null?void 0:n.throwOnError)throw c;return c}}),u=[];return a.forEach((d,c)=>{var S,R;const f=u[c-1],[m,g]=(()=>{var I;const T=(f==null?void 0:f.search)??r;try{let M=((I=typeof d.options.validateSearch=="object"?d.options.validateSearch.parse:d.options.validateSearch)==null?void 0:I(T))??{};return[{...T,...M},void 0]}catch(M){const L=new rW(M.message,{cause:M});if(n!=null&&n.throwOnError)throw L;return[T,L]}})(),b=((R=(S=d.options).loaderDeps)==null?void 0:R.call(S,{search:m}))??"",k=b?JSON.stringify(b):"",y=Hg(d.fullPath,i),p=Hg(d.id,i,!0)+k,w=Ok(this.state,p),x=this.state.matches.find(T=>T.id===p)?"stay":"enter",_=!!(d.options.loader||FI.some(T=>{var I;return(I=d.options[T])==null?void 0:I.preload})),E=w?{...w,cause:x}:{id:p,routeId:d.id,params:i,pathname:Xo([this.basepath,y]),updatedAt:Date.now(),search:{},searchError:void 0,status:_?"pending":"success",showPending:!1,isFetching:!1,error:void 0,paramsError:l[c],loadPromise:Promise.resolve(),routeContext:void 0,context:void 0,abortController:new AbortController,fetchCount:0,cause:x,loaderDeps:b,invalid:!1,preload:!1};E.search=Go(E.search,m),E.searchError=g,u.push(E)}),u});N(this,"cancelMatch",t=>{var r,n;(n=(r=Ok(this.state,t))==null?void 0:r.abortController)==null||n.abort()});N(this,"cancelMatches",()=>{var t;(t=this.state.pendingMatches)==null||t.forEach(r=>{this.cancelMatch(r.id)})});N(this,"buildLocation",t=>{const r=(i={},s)=>{var R,T;const o=this.latestLocation,a=((R=(this.state.pendingMatches||this.state.matches).at(-1))==null?void 0:R.search)||o.search,l=i.from??o.pathname;let u=this.resolvePathWithBase(l,`${i.to??""}`);const d=this.matchRoutes(l,a),c=s==null?void 0:s.filter(I=>d==null?void 0:d.find(M=>M.routeId===I.routeId)),f={...(T=_k(d))==null?void 0:T.params};let m=(i.params??!0)===!0?f:dl(i.params,f);m&&(s==null||s.map(I=>this.looseRoutesById[I.routeId].options.stringifyParams).filter(Boolean).forEach(I=>{m={...m,...I(m)}})),u=Hg(u,m??{});const g=(c==null?void 0:c.map(I=>this.looseRoutesById[I.routeId].options.preSearchFilters??[]).flat().filter(Boolean))??[],b=(c==null?void 0:c.map(I=>this.looseRoutesById[I.routeId].options.postSearchFilters??[]).flat().filter(Boolean))??[],k=g!=null&&g.length?g==null?void 0:g.reduce((I,M)=>M(I),a):a,y=i.search===!0?k:i.search?dl(i.search,k)??{}:g!=null&&g.length?k:{},p=b!=null&&b.length?b.reduce((I,M)=>M(I),y):y,w=Go(a,p),x=this.options.stringifySearch(w),_=i.hash===!0?o.hash:i.hash?dl(i.hash,o.hash):o.hash,E=_?`#${_}`:"";let S=i.state===!0?o.state:i.state?dl(i.state,o.state):o.state;return S=Go(o.state,S),{pathname:u,search:w,searchStr:x,state:S,hash:_,href:`${u}${x}${E}`,unmaskOnReload:i.unmaskOnReload}},n=(i={},s)=>{var f;let o=r(i),a=s?r(s):void 0;if(!a){let m={},g=(f=this.options.routeMasks)==null?void 0:f.find(b=>{const k=Ck(this.basepath,o.pathname,{to:b.from,caseSensitive:!1,fuzzy:!1});return k?(m=k,!0):!1});g&&(g={...g,from:Hg(g.from,m)},s=g,a=r(s))}const l=this.matchRoutes(o.pathname,o.search),u=a?this.matchRoutes(a.pathname,a.search):void 0,d=a?r(s,u):void 0,c=r(i,l);return d&&(c.maskedLocation=d),c};return t.mask?n(t,{...qg(t,["from"]),...t.mask}):n(t)});N(this,"commitLocation",async({startTransition:t,...r})=>{if(this.navigateTimeout&&clearTimeout(this.navigateTimeout),this.latestLocation.href!==r.href||!r.replace){let{maskedLocation:n,...i}=r;n&&(i={...n,state:{...n.state,__tempKey:void 0,__tempLocation:{...i,search:i.searchStr,state:{...i.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(i.unmaskOnReload??this.options.unmaskOnReload??!1)&&(i.state.__tempKey=this.tempLocationKey));const s=()=>{this.history[r.replace?"replace":"push"](i.href,i.state)};t??!0?this.startReactTransition(s):s()}return this.resetNextScroll=r.resetScroll??!0,this.latestLoadPromise});N(this,"buildAndCommitLocation",({replace:t,resetScroll:r,startTransition:n,...i}={})=>{const s=this.buildLocation(i);return this.commitLocation({...s,startTransition:n,replace:t,resetScroll:r})});N(this,"navigate",({from:t,to:r="",...n})=>{const i=String(r),s=typeof t>"u"?t:String(t);let o;try{new URL(`${i}`),o=!0}catch{}return rs(!o,"Attempting to navigate to external url with this.navigate!"),this.buildAndCommitLocation({...n,from:s,to:i})});N(this,"loadMatches",async({checkLatest:t,matches:r,preload:n})=>{var u,d;let i,s;const o=c=>{var b;const f=(b=this.state.pendingMatches)==null?void 0:b.find(k=>k.id===c.id),m=this.state.matches.find(k=>k.id===c.id),g=f?"pendingMatches":m?"matches":"cachedMatches";this.__store.setState(k=>{var y;return{...k,[g]:(y=k[g])==null?void 0:y.map(p=>p.id===c.id?c:p)}})};try{for(let[c,f]of r.entries()){const m=r[c-1],g=this.looseRoutesById[f.routeId],b=new AbortController,k=(y,p)=>{var w,x;if(y.routerCode=p,s=s??c,Hu(y))throw y;try{(x=(w=g.options).onError)==null||x.call(w,y)}catch(_){if(y=_,Hu(_))throw _}r[c]=f={...f,error:y,status:"error",updatedAt:Date.now(),abortController:new AbortController}};try{f.paramsError&&k(f.paramsError,"PARSE_PARAMS"),f.searchError&&k(f.searchError,"VALIDATE_SEARCH");const y=(m==null?void 0:m.context)??this.options.context??{},p=await((d=(u=g.options).beforeLoad)==null?void 0:d.call(u,{search:f.search,abortController:b,params:f.params,preload:!!n,context:y,location:this.state.location,navigate:x=>this.navigate({...x,from:f.pathname}),buildLocation:this.buildLocation,cause:n?"preload":f.cause}))??{};if(Hu(p))throw p;const w={...y,...p};r[c]=f={...f,routeContext:Go(f.routeContext,p),context:Go(f.context,w),abortController:b}}catch(y){k(y,"BEFORE_LOAD");break}}}catch(c){if(Hu(c))return n||this.navigate(c),r;throw c}const a=r.slice(0,s),l=[];return a.forEach((c,f)=>{l.push(new Promise(async m=>{const g=l[f-1],b=this.looseRoutesById[c.routeId],k=L=>Hu(L)?(n||this.navigate(L),!0):!1;let y;r[f]=c={...c,showPending:!1};let p=!1;const w=b.options.pendingMs??this.options.defaultPendingMs,x=b.options.pendingMinMs??this.options.defaultPendingMinMs,_=!n&&w&&(b.options.pendingComponent??this.options.defaultPendingComponent),E={params:c.params,deps:c.loaderDeps,preload:!!n,parentMatchPromise:g,abortController:c.abortController,context:c.context,location:this.state.location,navigate:L=>this.navigate({...L,from:c.pathname}),cause:n?"preload":c.cause},S=async()=>{var L,V,q,ie,ue;if(c.isFetching)y=(L=Ok(this.state,c.id))==null?void 0:L.loadPromise;else{c.fetchCount&&c.status==="success"&&m(),r[f]=c={...c,isFetching:!0,fetchCount:c.fetchCount+1};const G=Promise.all(FI.map(async j=>{const Q=b.options[j];Q!=null&&Q.preload&&await Q.preload()})),D=(q=(V=b.options).loader)==null?void 0:q.call(V,E);y=Promise.all([G,D]).then(j=>j[1])}r[f]=c={...c,loadPromise:y},o(c);try{const G=await y;if(i=t())return await i;if(Hu(G)&&k(G))return;if(p&&x&&await new Promise(D=>setTimeout(D,x)),i=t())return await i;r[f]=c={...c,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:G,loadPromise:void 0}}catch(G){if(i=t())return await i;if(k(G))return;try{(ue=(ie=b.options).onError)==null||ue.call(ie,G)}catch(D){if(G=D,k(D))return}r[f]=c={...c,error:G,status:"error",isFetching:!1}}o(c)},R=Date.now()-c.updatedAt;let T=n?b.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:b.options.staleTime??this.options.defaultStaleTime??0,I;const M=b.options.shouldReload;I=typeof M=="function"?M(E):M,r[f]=c={...c,preload:!!n&&!this.state.matches.find(L=>L.id===c.id)},c.status!=="success"?(_&&new Promise(L=>setTimeout(L,w)).then(async()=>{if(i=t())return i;p=!0,r[f]=c={...c,showPending:!0},o(c),m()}),await S()):(c.invalid||(I??R>T))&&S(),m()}))}),await Promise.all(l),r});N(this,"invalidate",()=>{const t=r=>({...r,invalid:!0});this.__store.setState(r=>{var n;return{...r,matches:r.matches.map(t),cachedMatches:r.cachedMatches.map(t),pendingMatches:(n=r.pendingMatches)==null?void 0:n.map(t)}}),this.load()});N(this,"load",async()=>{const t=new Promise(async(r,n)=>{const i=this.latestLocation,s=this.state.resolvedLocation,o=s.href!==i.href;let a;this.cancelMatches(),this.emit({type:"onBeforeLoad",fromLocation:s,toLocation:i,pathChanged:o});let l;const u=this.state.matches;this.__store.batch(()=>{this.cleanCache(),l=this.matchRoutes(i.pathname,i.search,{debug:!0}),this.__store.setState(d=>({...d,isLoading:!0,location:i,pendingMatches:l,cachedMatches:d.cachedMatches.filter(c=>!l.find(f=>f.id===c.id))}))});try{try{await this.loadMatches({matches:l,checkLatest:()=>this.checkLatest(t)})}catch{}if(a=this.checkLatest(t))return a;const d=u.filter(m=>!l.find(g=>g.id===m.id)),c=l.filter(m=>!u.find(g=>g.id===m.id)),f=u.filter(m=>l.find(g=>g.id===m.id));this.__store.batch(()=>{this.__store.setState(m=>({...m,isLoading:!1,matches:m.pendingMatches,pendingMatches:void 0,cachedMatches:[...m.cachedMatches,...d.filter(g=>g.status!=="error")]})),this.cleanCache()}),[[d,"onLeave"],[c,"onEnter"],[f,"onStay"]].forEach(([m,g])=>{m.forEach(b=>{var k,y;(y=(k=this.looseRoutesById[b.routeId].options)[g])==null||y.call(k,b)})}),this.emit({type:"onLoad",fromLocation:s,toLocation:i,pathChanged:o}),r()}catch(d){if(a=this.checkLatest(t))return a;n(d)}});return this.latestLoadPromise=t,this.latestLoadPromise});N(this,"cleanCache",()=>{this.__store.setState(t=>({...t,cachedMatches:t.cachedMatches.filter(r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!1;const i=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return r.status!=="error"&&Date.now()-r.updatedAt<i})}))});N(this,"preloadRoute",async(t=this.state.location)=>{let r=this.buildLocation(t),n=this.matchRoutes(r.pathname,r.search,{throwOnError:!0});const i=Object.fromEntries([...this.state.matches,...this.state.pendingMatches??[],...this.state.cachedMatches].map(s=>[s.id,!0]));return this.__store.batch(()=>{n.forEach(s=>{i[s.id]||this.__store.setState(o=>({...o,cachedMatches:[...o.cachedMatches,s]}))})}),n=await this.loadMatches({matches:n,preload:!0,checkLatest:()=>{}}),n});N(this,"matchRoute",(t,r)=>{t={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0};const n=this.buildLocation(t);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const i=r!=null&&r.pending?this.latestLocation:this.state.resolvedLocation;if(!i)return!1;const s=Ck(this.basepath,i.pathname,{...r,to:n.pathname});return s?s&&((r==null?void 0:r.includeSearch)??!0)?$g(i.search,n.search,!0)?s:!1:s:!1});N(this,"injectHtml",async t=>{this.injectedHtml.push(t)});N(this,"dehydrateData",(t,r)=>{if(typeof document>"u"){const n=typeof t=="string"?t:JSON.stringify(t);return this.injectHtml(async()=>{const i=`__TSR_DEHYDRATED__${n}`,s=typeof r=="function"?await r():r;return`<script id='${i}' suppressHydrationWarning>window["__TSR_DEHYDRATED__${jB(n)}"] = ${JSON.stringify(s)}
          ;(() => {
            var el = document.getElementById('${i}')
            el.parentElement.removeChild(el)
          })()
          <\/script>`}),()=>this.hydrateData(t)}return()=>{}});N(this,"hydrateData",t=>{if(typeof document<"u"){const r=typeof t=="string"?t:JSON.stringify(t);return window[`__TSR_DEHYDRATED__${r}`]}});N(this,"dehydrate",()=>({state:{dehydratedMatches:this.state.matches.map(t=>qg(t,["id","status","updatedAt","loaderData"]))}}));N(this,"hydrate",async t=>{var o,a;let r=t;typeof document<"u"&&(r=window.__TSR_DEHYDRATED__),rs(r,"Expected to find a __TSR_DEHYDRATED__ property on window... but we did not. Did you forget to render <DehydrateRouter /> in your app?");const n=r;this.dehydratedData=n.payload,(a=(o=this.options).hydrate)==null||a.call(o,n.payload);const i=n.router.state;let s=this.matchRoutes(this.state.location.pathname,this.state.location.search).map(l=>{const u=i.dehydratedMatches.find(d=>d.id===l.id);return rs(u,`Could not find a client-side match for dehydrated match with id: ${l.id}!`),u?{...l,...u}:l});this.__store.setState(l=>({...l,matches:s}))});this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,stringifySearch:(t==null?void 0:t.stringifySearch)??YB,parseSearch:(t==null?void 0:t.parseSearch)??GB})}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}}class rW extends Error{}class nW extends Error{}function iW(e){return{isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...e},location:e,matches:[],pendingMatches:[],cachedMatches:[],lastUpdated:Date.now()}}let Ak=typeof window<"u"&&window.sessionStorage?(()=>{const e="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(e)||"null")||{cached:{},next:{}},set:t=>{Ak.state=dl(t,Ak.state),window.sessionStorage.setItem(e,JSON.stringify(Ak.state))}}})():void 0;function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},We.apply(this,arguments)}function ea(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function DI(e){if(!ea(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=DI(e[r])}),t}function Ei(e,t,r={clone:!0}){const n=r.clone?We({},e):e;return ea(e)&&ea(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(ea(t[i])&&i in e&&ea(e[i])?n[i]=Ei(e[i],t[i],r):r.clone?n[i]=ea(t[i])?DI(t[i]):t[i]:n[i]=t[i])}),n}function Qu(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Us(e){if(typeof e!="string")throw new Error(Qu(7));return e.charAt(0).toUpperCase()+e.slice(1)}function BI(e,t){const r=We({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=We({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},s=t[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=We({},s),Object.keys(i).forEach(o=>{r[n][o]=BI(i[o],s[o])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function sW(e,t,r=void 0){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((s,o)=>{if(o){const a=t(o);a!==""&&s.push(a),r&&r[o]&&s.push(r[o])}return s},[]).join(" ")}),n}const WI=e=>e,oW=()=>{let e=WI;return{configure(t){e=t},generate(t){return e(t)},reset(){e=WI}}},aW=oW(),lW=aW,uW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function qI(e,t,r="Mui"){const n=uW[t];return n?`${r}-${n}`:`${lW.generate(e)}-${t}`}function cW(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=qI(e,i,r)}),n}function $s(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function UI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=UI(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Lk(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=UI(e))&&(n&&(n+=" "),n+=t);return n}function $I(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var dW=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hW=$I(function(e){return dW.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function fW(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function pW(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var mW=function(){function e(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(pW(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=fW(n);try{i.insertRule(r,i.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Ur="-ms-",Zg="-moz-",He="-webkit-",VI="comm",Pk="rule",jk="decl",gW="@import",zI="@keyframes",yW="@layer",bW=Math.abs,Gg=String.fromCharCode,vW=Object.assign;function wW(e,t){return Cr(e,0)^45?(((t<<2^Cr(e,0))<<2^Cr(e,1))<<2^Cr(e,2))<<2^Cr(e,3):0}function KI(e){return e.trim()}function kW(e,t){return(e=t.exec(e))?e[0]:e}function Qe(e,t,r){return e.replace(t,r)}function Mk(e,t){return e.indexOf(t)}function Cr(e,t){return e.charCodeAt(t)|0}function Vh(e,t,r){return e.slice(t,r)}function ns(e){return e.length}function Fk(e){return e.length}function Yg(e,t){return t.push(e),e}function xW(e,t){return e.map(t).join("")}var Xg=1,Zu=1,JI=0,Sn=0,er=0,Gu="";function ey(e,t,r,n,i,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Xg,column:Zu,length:o,return:""}}function zh(e,t){return vW(ey("",null,null,"",null,null,0),e,{length:-e.length},t)}function NW(){return er}function SW(){return er=Sn>0?Cr(Gu,--Sn):0,Zu--,er===10&&(Zu=1,Xg--),er}function Pn(){return er=Sn<JI?Cr(Gu,Sn++):0,Zu++,er===10&&(Zu=1,Xg++),er}function is(){return Cr(Gu,Sn)}function ty(){return Sn}function Kh(e,t){return Vh(Gu,e,t)}function Jh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HI(e){return Xg=Zu=1,JI=ns(Gu=e),Sn=0,[]}function QI(e){return Gu="",e}function ry(e){return KI(Kh(Sn-1,Dk(e===91?e+2:e===40?e+1:e)))}function _W(e){for(;(er=is())&&er<33;)Pn();return Jh(e)>2||Jh(er)>3?"":" "}function EW(e,t){for(;--t&&Pn()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return Kh(e,ty()+(t<6&&is()==32&&Pn()==32))}function Dk(e){for(;Pn();)switch(er){case e:return Sn;case 34:case 39:e!==34&&e!==39&&Dk(er);break;case 40:e===41&&Dk(e);break;case 92:Pn();break}return Sn}function OW(e,t){for(;Pn()&&e+er!==57&&!(e+er===84&&is()===47););return"/*"+Kh(t,Sn-1)+"*"+Gg(e===47?e:Pn())}function CW(e){for(;!Jh(is());)Pn();return Kh(e,Sn)}function TW(e){return QI(ny("",null,null,null,[""],e=HI(e),0,[0],e))}function ny(e,t,r,n,i,s,o,a,l){for(var u=0,d=0,c=o,f=0,m=0,g=0,b=1,k=1,y=1,p=0,w="",x=i,_=s,E=n,S=w;k;)switch(g=p,p=Pn()){case 40:if(g!=108&&Cr(S,c-1)==58){Mk(S+=Qe(ry(p),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=ry(p);break;case 9:case 10:case 13:case 32:S+=_W(g);break;case 92:S+=EW(ty()-1,7);continue;case 47:switch(is()){case 42:case 47:Yg(IW(OW(Pn(),ty()),t,r),l);break;default:S+="/"}break;case 123*b:a[u++]=ns(S)*y;case 125*b:case 59:case 0:switch(p){case 0:case 125:k=0;case 59+d:y==-1&&(S=Qe(S,/\f/g,"")),m>0&&ns(S)-c&&Yg(m>32?GI(S+";",n,r,c-1):GI(Qe(S," ","")+";",n,r,c-2),l);break;case 59:S+=";";default:if(Yg(E=ZI(S,t,r,u,d,i,a,w,x=[],_=[],c),s),p===123)if(d===0)ny(S,t,E,E,x,s,c,a,_);else switch(f===99&&Cr(S,3)===110?100:f){case 100:case 108:case 109:case 115:ny(e,E,E,n&&Yg(ZI(e,E,E,0,0,i,a,w,i,x=[],c),_),i,_,c,a,n?x:_);break;default:ny(S,E,E,E,[""],_,0,a,_)}}u=d=m=0,b=y=1,w=S="",c=o;break;case 58:c=1+ns(S),m=g;default:if(b<1){if(p==123)--b;else if(p==125&&b++==0&&SW()==125)continue}switch(S+=Gg(p),p*b){case 38:y=d>0?1:(S+="\f",-1);break;case 44:a[u++]=(ns(S)-1)*y,y=1;break;case 64:is()===45&&(S+=ry(Pn())),f=is(),d=c=ns(w=S+=CW(ty())),p++;break;case 45:g===45&&ns(S)==2&&(b=0)}}return s}function ZI(e,t,r,n,i,s,o,a,l,u,d){for(var c=i-1,f=i===0?s:[""],m=Fk(f),g=0,b=0,k=0;g<n;++g)for(var y=0,p=Vh(e,c+1,c=bW(b=o[g])),w=e;y<m;++y)(w=KI(b>0?f[y]+" "+p:Qe(p,/&\f/g,f[y])))&&(l[k++]=w);return ey(e,t,r,i===0?Pk:a,l,u,d)}function IW(e,t,r){return ey(e,t,r,VI,Gg(NW()),Vh(e,2,-2),0)}function GI(e,t,r,n){return ey(e,t,r,jk,Vh(e,0,n),Vh(e,n+1,-1),n)}function Yu(e,t){for(var r="",n=Fk(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function RW(e,t,r,n){switch(e.type){case yW:if(e.children.length)break;case gW:case jk:return e.return=e.return||e.value;case VI:return"";case zI:return e.return=e.value+"{"+Yu(e.children,n)+"}";case Pk:e.value=e.props.join(",")}return ns(r=Yu(e.children,n))?e.return=e.value+"{"+r+"}":""}function AW(e){var t=Fk(e);return function(r,n,i,s){for(var o="",a=0;a<t;a++)o+=e[a](r,n,i,s)||"";return o}}function LW(e){return function(t){t.root||(t=t.return)&&e(t)}}var PW=function(e,t,r){for(var n=0,i=0;n=i,i=is(),n===38&&i===12&&(t[r]=1),!Jh(i);)Pn();return Kh(e,Sn)},jW=function(e,t){var r=-1,n=44;do switch(Jh(n)){case 0:n===38&&is()===12&&(t[r]=1),e[r]+=PW(Sn-1,t,r);break;case 2:e[r]+=ry(n);break;case 4:if(n===44){e[++r]=is()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Gg(n)}while(n=Pn());return e},MW=function(e,t){return QI(jW(HI(e),t))},YI=new WeakMap,FW=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!YI.get(r))&&!n){YI.set(e,!0);for(var i=[],s=MW(t,i),o=r.props,a=0,l=0;a<s.length;a++)for(var u=0;u<o.length;u++,l++)e.props[l]=i[a]?s[a].replace(/&\f/g,o[u]):o[u]+" "+s[a]}}},DW=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function XI(e,t){switch(wW(e,t)){case 5103:return He+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return He+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return He+e+Zg+e+Ur+e+e;case 6828:case 4268:return He+e+Ur+e+e;case 6165:return He+e+Ur+"flex-"+e+e;case 5187:return He+e+Qe(e,/(\w+).+(:[^]+)/,He+"box-$1$2"+Ur+"flex-$1$2")+e;case 5443:return He+e+Ur+"flex-item-"+Qe(e,/flex-|-self/,"")+e;case 4675:return He+e+Ur+"flex-line-pack"+Qe(e,/align-content|flex-|-self/,"")+e;case 5548:return He+e+Ur+Qe(e,"shrink","negative")+e;case 5292:return He+e+Ur+Qe(e,"basis","preferred-size")+e;case 6060:return He+"box-"+Qe(e,"-grow","")+He+e+Ur+Qe(e,"grow","positive")+e;case 4554:return He+Qe(e,/([^-])(transform)/g,"$1"+He+"$2")+e;case 6187:return Qe(Qe(Qe(e,/(zoom-|grab)/,He+"$1"),/(image-set)/,He+"$1"),e,"")+e;case 5495:case 3959:return Qe(e,/(image-set\([^]*)/,He+"$1$`$1");case 4968:return Qe(Qe(e,/(.+:)(flex-)?(.*)/,He+"box-pack:$3"+Ur+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+He+e+e;case 4095:case 3583:case 4068:case 2532:return Qe(e,/(.+)-inline(.+)/,He+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ns(e)-1-t>6)switch(Cr(e,t+1)){case 109:if(Cr(e,t+4)!==45)break;case 102:return Qe(e,/(.+:)(.+)-([^]+)/,"$1"+He+"$2-$3$1"+Zg+(Cr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Mk(e,"stretch")?XI(Qe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Cr(e,t+1)!==115)break;case 6444:switch(Cr(e,ns(e)-3-(~Mk(e,"!important")&&10))){case 107:return Qe(e,":",":"+He)+e;case 101:return Qe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+He+(Cr(e,14)===45?"inline-":"")+"box$3$1"+He+"$2$3$1"+Ur+"$2box$3")+e}break;case 5936:switch(Cr(e,t+11)){case 114:return He+e+Ur+Qe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return He+e+Ur+Qe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return He+e+Ur+Qe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return He+e+Ur+e+e}return e}var BW=function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case jk:e.return=XI(e.value,e.length);break;case zI:return Yu([zh(e,{value:Qe(e.value,"@","@"+He)})],n);case Pk:if(e.length)return xW(e.props,function(i){switch(kW(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yu([zh(e,{props:[Qe(i,/:(read-\w+)/,":"+Zg+"$1")]})],n);case"::placeholder":return Yu([zh(e,{props:[Qe(i,/:(plac\w+)/,":"+He+"input-$1")]}),zh(e,{props:[Qe(i,/:(plac\w+)/,":"+Zg+"$1")]}),zh(e,{props:[Qe(i,/:(plac\w+)/,Ur+"input-$1")]})],n)}return""})}},WW=[BW],qW=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var b=g.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var n=e.stylisPlugins||WW,i={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var b=g.getAttribute("data-emotion").split(" "),k=1;k<b.length;k++)i[b[k]]=!0;o.push(g)});var a,l=[FW,DW];{var u,d=[RW,LW(function(g){u.insert(g)})],c=AW(l.concat(n,d)),f=function(g){return Yu(TW(g),c)};a=function(g,b,k,y){u=k,f(g?g+"{"+b.styles+"}":b.styles),y&&(m.inserted[b.name]=!0)}}var m={key:t,sheet:new mW({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return m.sheet.hydrate(o),m},UW=!0;function $W(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var e5=function(e,t,r){var n=e.key+"-"+t.name;(r===!1||UW===!1)&&e.registered[n]===void 0&&(e.registered[n]=t.styles)},VW=function(e,t,r){e5(e,t,r);var n=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var i=t;do e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function zW(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var KW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JW=/[A-Z]|^ms/g,HW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,t5=function(e){return e.charCodeAt(1)===45},r5=function(e){return e!=null&&typeof e!="boolean"},Bk=$I(function(e){return t5(e)?e:e.replace(JW,"-$&").toLowerCase()}),n5=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(HW,function(r,n,i){return ss={name:n,styles:i,next:ss},n})}return KW[e]!==1&&!t5(e)&&typeof t=="number"&&t!==0?t+"px":t};function Hh(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ss={name:r.name,styles:r.styles,next:ss},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ss={name:n.name,styles:n.styles,next:ss},n=n.next;var i=r.styles+";";return i}return QW(e,t,r)}case"function":{if(e!==void 0){var s=ss,o=r(e);return ss=s,Hh(e,t,o)}break}}if(t==null)return r;var a=t[r];return a!==void 0?a:r}function QW(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Hh(e,t,r[i])+";";else for(var s in r){var o=r[s];if(typeof o!="object")t!=null&&t[o]!==void 0?n+=s+"{"+t[o]+"}":r5(o)&&(n+=Bk(s)+":"+n5(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)r5(o[a])&&(n+=Bk(s)+":"+n5(s,o[a])+";");else{var l=Hh(e,t,o);switch(s){case"animation":case"animationName":{n+=Bk(s)+":"+l+";";break}default:n+=s+"{"+l+"}"}}}return n}var i5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ss,ZW=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";ss=void 0;var s=e[0];s==null||s.raw===void 0?(n=!1,i+=Hh(r,t,s)):i+=s[0];for(var o=1;o<e.length;o++)i+=Hh(r,t,e[o]),n&&(i+=s[o]);i5.lastIndex=0;for(var a="",l;(l=i5.exec(i))!==null;)a+="-"+l[1];var u=zW(i)+a;return{name:u,styles:i,next:ss}},GW=function(e){return e()},YW=iO.useInsertionEffect?iO.useInsertionEffect:!1,XW=YW||GW,s5=Z.createContext(typeof HTMLElement<"u"?qW({key:"css"}):null);s5.Provider;var e9=function(e){return Z.forwardRef(function(t,r){var n=Z.useContext(s5);return e(t,n,r)})},o5=Z.createContext({}),t9=hW,r9=function(e){return e!=="theme"},a5=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?t9:r9},l5=function(e,t,r){var n;if(t){var i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(s){return e.__emotion_forwardProp(s)&&i(s)}:i}return typeof n!="function"&&r&&(n=e.__emotion_forwardProp),n},n9=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return e5(t,r,n),XW(function(){return VW(t,r,n)}),null},i9=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,s,o;r!==void 0&&(s=r.label,o=r.target);var a=l5(t,r,n),l=a||a5(i),u=!l("as");return function(){var d=arguments,c=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&c.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)c.push.apply(c,d);else{c.push(d[0][0]);for(var f=d.length,m=1;m<f;m++)c.push(d[m],d[0][m])}var g=e9(function(b,k,y){var p=u&&b.as||i,w="",x=[],_=b;if(b.theme==null){_={};for(var E in b)_[E]=b[E];_.theme=Z.useContext(o5)}typeof b.className=="string"?w=$W(k.registered,x,b.className):b.className!=null&&(w=b.className+" ");var S=ZW(c.concat(x),k.registered,_);w+=k.key+"-"+S.name,o!==void 0&&(w+=" "+o);var R=u&&a===void 0?a5(p):l,T={};for(var I in b)u&&I==="as"||R(I)&&(T[I]=b[I]);return T.className=w,T.ref=y,Z.createElement(Z.Fragment,null,Z.createElement(n9,{cache:k,serialized:S,isStringTag:typeof p=="string"}),Z.createElement(p,T))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=c,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(b,k){return e(b,We({},r,k,{shouldForwardProp:l5(g,k,!0)})).apply(void 0,c)},g}},s9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Wk=i9.bind();s9.forEach(function(e){Wk[e]=Wk(e)});function o9(e,t){return Wk(e,t)}const a9=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},l9=["values","unit","step"],u9=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>We({},r,{[n.key]:n.val}),{})};function c9(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=$s(e,l9),s=u9(t),o=Object.keys(s);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-n/100}${r})`}function u(f,m){const g=o.indexOf(m);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:m)-n/100}${r})`}function d(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function c(f){const m=o.indexOf(f);return m===0?a(o[1]):m===o.length-1?l(o[m]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return We({keys:o,values:s,up:a,down:l,between:u,only:d,not:c,unit:r},i)}const d9={borderRadius:4},h9=d9;function Qh(e,t){return t?Ei(e,t,{clone:!1}):e}const qk={xs:0,sm:600,md:900,lg:1200,xl:1536},u5={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${qk[e]}px)`};function Vs(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const i=n.breakpoints||u5;return t.reduce((s,o,a)=>(s[i.up(i.keys[a])]=r(t[a]),s),{})}if(typeof t=="object"){const i=n.breakpoints||u5;return Object.keys(t).reduce((s,o)=>{if(Object.keys(i.values||qk).indexOf(o)!==-1){const a=i.up(o);s[a]=r(t[o],o)}else{const a=o;s[a]=t[a]}return s},{})}return r(t)}function f9(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,n)=>{const i=e.up(n);return r[i]={},r},{}))||{}}function p9(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function iy(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function sy(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=iy(e,r)||n,t&&(i=t(i,n,e)),i}function qt(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,u=iy(l,n)||{};return Vs(o,a,d=>{let c=sy(u,i,d);return d===c&&typeof d=="string"&&(c=sy(u,i,`${t}${d==="default"?"":Us(d)}`,d)),r===!1?c:{[r]:c}})};return s.propTypes={},s.filterProps=[t],s}function m9(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const g9={m:"margin",p:"padding"},y9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c5={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},b9=m9(e=>{if(e.length>2)if(c5[e])e=c5[e];else return[e];const[t,r]=e.split(""),n=g9[t],i=y9[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),Uk=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$k=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Uk,...$k];function Zh(e,t,r,n){var i;const s=(i=iy(e,t,!1))!=null?i:r;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function d5(e){return Zh(e,"spacing",8)}function Gh(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function v9(e,t){return r=>e.reduce((n,i)=>(n[i]=Gh(t,r),n),{})}function w9(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=b9(r),s=v9(i,n),o=e[r];return Vs(e,o,s)}function h5(e,t){const r=d5(e.theme);return Object.keys(e).map(n=>w9(e,t,n,r)).reduce(Qh,{})}function jt(e){return h5(e,Uk)}jt.propTypes={},jt.filterProps=Uk;function Mt(e){return h5(e,$k)}Mt.propTypes={},Mt.filterProps=$k;function k9(e=8){if(e.mui)return e;const t=d5({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(i=>{const s=t(i);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}function oy(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>t[s]?Qh(i,t[s](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function ni(e){return typeof e!="number"?e:`${e}px solid`}function ii(e,t){return qt({prop:e,themeKey:"borders",transform:t})}const x9=ii("border",ni),N9=ii("borderTop",ni),S9=ii("borderRight",ni),_9=ii("borderBottom",ni),E9=ii("borderLeft",ni),O9=ii("borderColor"),C9=ii("borderTopColor"),T9=ii("borderRightColor"),I9=ii("borderBottomColor"),R9=ii("borderLeftColor"),A9=ii("outline",ni),L9=ii("outlineColor"),ay=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Zh(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:Gh(t,n)});return Vs(e,e.borderRadius,r)}return null};ay.propTypes={},ay.filterProps=["borderRadius"],oy(x9,N9,S9,_9,E9,O9,C9,T9,I9,R9,ay,A9,L9);const ly=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Zh(e.theme,"spacing",8),r=n=>({gap:Gh(t,n)});return Vs(e,e.gap,r)}return null};ly.propTypes={},ly.filterProps=["gap"];const uy=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Zh(e.theme,"spacing",8),r=n=>({columnGap:Gh(t,n)});return Vs(e,e.columnGap,r)}return null};uy.propTypes={},uy.filterProps=["columnGap"];const cy=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Zh(e.theme,"spacing",8),r=n=>({rowGap:Gh(t,n)});return Vs(e,e.rowGap,r)}return null};cy.propTypes={},cy.filterProps=["rowGap"];const P9=qt({prop:"gridColumn"}),j9=qt({prop:"gridRow"}),M9=qt({prop:"gridAutoFlow"}),F9=qt({prop:"gridAutoColumns"}),D9=qt({prop:"gridAutoRows"}),B9=qt({prop:"gridTemplateColumns"}),W9=qt({prop:"gridTemplateRows"}),q9=qt({prop:"gridTemplateAreas"}),U9=qt({prop:"gridArea"});oy(ly,uy,cy,P9,j9,M9,F9,D9,B9,W9,q9,U9);function Xu(e,t){return t==="grey"?t:e}const $9=qt({prop:"color",themeKey:"palette",transform:Xu}),V9=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Xu}),z9=qt({prop:"backgroundColor",themeKey:"palette",transform:Xu});oy($9,V9,z9);function jn(e){return e<=1&&e!==0?`${e*100}%`:e}const K9=qt({prop:"width",transform:jn}),Vk=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i;const s=((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||qk[r];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:jn(r)}};return Vs(e,e.maxWidth,t)}return null};Vk.filterProps=["maxWidth"];const J9=qt({prop:"minWidth",transform:jn}),H9=qt({prop:"height",transform:jn}),Q9=qt({prop:"maxHeight",transform:jn}),Z9=qt({prop:"minHeight",transform:jn});qt({prop:"size",cssProperty:"width",transform:jn}),qt({prop:"size",cssProperty:"height",transform:jn});const G9=qt({prop:"boxSizing"});oy(K9,Vk,J9,H9,Q9,Z9,G9);const Y9={border:{themeKey:"borders",transform:ni},borderTop:{themeKey:"borders",transform:ni},borderRight:{themeKey:"borders",transform:ni},borderBottom:{themeKey:"borders",transform:ni},borderLeft:{themeKey:"borders",transform:ni},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ni},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ay},color:{themeKey:"palette",transform:Xu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Xu},backgroundColor:{themeKey:"palette",transform:Xu},p:{style:Mt},pt:{style:Mt},pr:{style:Mt},pb:{style:Mt},pl:{style:Mt},px:{style:Mt},py:{style:Mt},padding:{style:Mt},paddingTop:{style:Mt},paddingRight:{style:Mt},paddingBottom:{style:Mt},paddingLeft:{style:Mt},paddingX:{style:Mt},paddingY:{style:Mt},paddingInline:{style:Mt},paddingInlineStart:{style:Mt},paddingInlineEnd:{style:Mt},paddingBlock:{style:Mt},paddingBlockStart:{style:Mt},paddingBlockEnd:{style:Mt},m:{style:jt},mt:{style:jt},mr:{style:jt},mb:{style:jt},ml:{style:jt},mx:{style:jt},my:{style:jt},margin:{style:jt},marginTop:{style:jt},marginRight:{style:jt},marginBottom:{style:jt},marginLeft:{style:jt},marginX:{style:jt},marginY:{style:jt},marginInline:{style:jt},marginInlineStart:{style:jt},marginInlineEnd:{style:jt},marginBlock:{style:jt},marginBlockStart:{style:jt},marginBlockEnd:{style:jt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ly},rowGap:{style:cy},columnGap:{style:uy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:jn},maxWidth:{style:Vk},minWidth:{transform:jn},height:{transform:jn},maxHeight:{transform:jn},minHeight:{transform:jn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},zk=Y9;function X9(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function eq(e,t){return typeof e=="function"?e(t):e}function tq(){function e(r,n,i,s){const o={[r]:n,theme:i},a=s[r];if(!a)return{[r]:n};const{cssProperty:l=r,themeKey:u,transform:d,style:c}=a;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const f=iy(i,u)||{};return c?c(o):Vs(o,n,m=>{let g=sy(f,d,m);return m===g&&typeof m=="string"&&(g=sy(f,d,`${r}${m==="default"?"":Us(m)}`,m)),l===!1?g:{[l]:g}})}function t(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const o=(n=s.unstable_sxConfig)!=null?n:zk;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const d=f9(s.breakpoints),c=Object.keys(d);let f=d;return Object.keys(u).forEach(m=>{const g=eq(u[m],s);if(g!=null)if(typeof g=="object")if(o[m])f=Qh(f,e(m,g,s,o));else{const b=Vs({theme:s},g,k=>({[m]:k}));X9(b,g)?f[m]=t({sx:g,theme:s}):f=Qh(f,b)}else f=Qh(f,e(m,g,s,o))}),p9(c,f)}return Array.isArray(i)?i.map(a):a(i)}return t}const f5=tq();f5.filterProps=["sx"];const Kk=f5,rq=["breakpoints","palette","spacing","shape"];function Jk(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=e,o=$s(e,rq),a=c9(r),l=k9(i);let u=Ei({breakpoints:a,direction:"ltr",components:{},palette:We({mode:"light"},n),spacing:l,shape:We({},h9,s)},o);return u=t.reduce((d,c)=>Ei(d,c),u),u.unstable_sxConfig=We({},zk,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Kk({sx:d,theme:this})},u}function nq(e){return Object.keys(e).length===0}function iq(e=null){const t=Z.useContext(o5);return!t||nq(t)?e:t}const sq=Jk();function oq(e=sq){return iq(e)}const aq=["variant"];function p5(e){return e.length===0}function m5(e){const{variant:t}=e,r=$s(e,aq);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=p5(n)?e[i]:Us(e[i]):n+=`${p5(n)?i:Us(i)}${Us(e[i].toString())}`}),n}const lq=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function uq(e){return Object.keys(e).length===0}function cq(e){return typeof e=="string"&&e.charCodeAt(0)>96}const dq=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,dy=e=>{const t={};return e&&e.forEach(r=>{const n=m5(r.props);t[n]=r.style}),t},hq=(e,t)=>{let r=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants),dy(r)},hy=(e,t,r)=>{const{ownerState:n={}}=e,i=[];return r&&r.forEach(s=>{let o=!0;Object.keys(s.props).forEach(a=>{n[a]!==s.props[a]&&e[a]!==s.props[a]&&(o=!1)}),o&&i.push(t[m5(s.props)])}),i},fq=(e,t,r,n)=>{var i;const s=r==null||(i=r.components)==null||(i=i[n])==null?void 0:i.variants;return hy(e,t,s)};function fy(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const pq=Jk(),mq=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function py({defaultTheme:e,theme:t,themeId:r}){return uq(t)?e:t[r]||t}function gq(e){return e?(t,r)=>r[e]:null}const g5=({styledArg:e,props:t,defaultTheme:r,themeId:n})=>{const i=e(We({},t,{theme:py(We({},t,{defaultTheme:r,themeId:n}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=hy(t,dy(s),s);return[i,...o]}return i};function yq(e={}){const{themeId:t,defaultTheme:r=pq,rootShouldForwardProp:n=fy,slotShouldForwardProp:i=fy}=e,s=o=>Kk(We({},o,{theme:py(We({},o,{defaultTheme:r,themeId:t}))}));return s.__mui_systemSx=!0,(o,a={})=>{a9(o,x=>x.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:d,skipSx:c,overridesResolver:f=gq(mq(u))}=a,m=$s(a,lq),g=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,b=c||!1;let k,y=fy;u==="Root"||u==="root"?y=n:u?y=i:cq(o)&&(y=void 0);const p=o9(o,We({shouldForwardProp:y,label:k},m)),w=(x,..._)=>{const E=_?_.map(I=>{if(typeof I=="function"&&I.__emotion_real!==I)return M=>g5({styledArg:I,props:M,defaultTheme:r,themeId:t});if(ea(I)){let M=I,L;return I&&I.variants&&(L=I.variants,delete M.variants,M=V=>{let q=I;return hy(V,dy(L),L).forEach(ie=>{q=Ei(q,ie)}),q}),M}return I}):[];let S=x;if(ea(x)){let I;x&&x.variants&&(I=x.variants,delete S.variants,S=M=>{let L=x;return hy(M,dy(I),I).forEach(V=>{L=Ei(L,V)}),L})}else typeof x=="function"&&x.__emotion_real!==x&&(S=I=>g5({styledArg:x,props:I,defaultTheme:r,themeId:t}));l&&f&&E.push(I=>{const M=py(We({},I,{defaultTheme:r,themeId:t})),L=dq(l,M);if(L){const V={};return Object.entries(L).forEach(([q,ie])=>{V[q]=typeof ie=="function"?ie(We({},I,{theme:M})):ie}),f(I,V)}return null}),l&&!g&&E.push(I=>{const M=py(We({},I,{defaultTheme:r,themeId:t}));return fq(I,hq(l,M),M,l)}),b||E.push(s);const R=E.length-_.length;if(Array.isArray(x)&&R>0){const I=new Array(R).fill("");S=[...x,...I],S.raw=[...x.raw,...I]}const T=p(S,...E);return o.muiName&&(T.muiName=o.muiName),T};return p.withConfig&&(w.withConfig=p.withConfig),w}}function bq(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:BI(t.components[r].defaultProps,n)}function vq({props:e,name:t,defaultTheme:r,themeId:n}){let i=oq(r);return n&&(i=i[n]||i),bq({theme:i,name:t,props:e})}function y5(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function wq(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function ec(e){if(e.type)return e;if(e.charAt(0)==="#")return ec(wq(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Qu(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Qu(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}function Hk(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function kq(e){e=ec(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,s=n*Math.min(i,1-i),o=(u,d=(u+r/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Hk({type:a,values:l})}function b5(e){e=ec(e);let t=e.type==="hsl"||e.type==="hsla"?ec(kq(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function xq(e,t){const r=b5(e),n=b5(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Nq(e,t){if(e=ec(e),t=y5(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Hk(e)}function Sq(e,t){if(e=ec(e),t=y5(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Hk(e)}function _q(e,t){return We({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Eq={black:"#000",white:"#fff"},Yh=Eq,Oq={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Cq=Oq,Tq={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},tc=Tq,Iq={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},rc=Iq,Rq={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Xh=Rq,Aq={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},nc=Aq,Lq={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ic=Lq,Pq={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sc=Pq,jq=["mode","contrastThreshold","tonalOffset"],v5={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Yh.white,default:Yh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Qk={text:{primary:Yh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Yh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w5(e,t,r,n){const i=n.light||n,s=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=Sq(e.main,i):t==="dark"&&(e.dark=Nq(e.main,s)))}function Mq(e="light"){return e==="dark"?{main:nc[200],light:nc[50],dark:nc[400]}:{main:nc[700],light:nc[400],dark:nc[800]}}function Fq(e="light"){return e==="dark"?{main:tc[200],light:tc[50],dark:tc[400]}:{main:tc[500],light:tc[300],dark:tc[700]}}function Dq(e="light"){return e==="dark"?{main:rc[500],light:rc[300],dark:rc[700]}:{main:rc[700],light:rc[400],dark:rc[800]}}function Bq(e="light"){return e==="dark"?{main:ic[400],light:ic[300],dark:ic[700]}:{main:ic[700],light:ic[500],dark:ic[900]}}function Wq(e="light"){return e==="dark"?{main:sc[400],light:sc[300],dark:sc[700]}:{main:sc[800],light:sc[500],dark:sc[900]}}function qq(e="light"){return e==="dark"?{main:Xh[400],light:Xh[300],dark:Xh[700]}:{main:"#ed6c02",light:Xh[500],dark:Xh[900]}}function Uq(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=$s(e,jq),s=e.primary||Mq(t),o=e.secondary||Fq(t),a=e.error||Dq(t),l=e.info||Bq(t),u=e.success||Wq(t),d=e.warning||qq(t);function c(g){return xq(g,Qk.text.primary)>=r?Qk.text.primary:v5.text.primary}const f=({color:g,name:b,mainShade:k=500,lightShade:y=300,darkShade:p=700})=>{if(g=We({},g),!g.main&&g[k]&&(g.main=g[k]),!g.hasOwnProperty("main"))throw new Error(Qu(11,b?` (${b})`:"",k));if(typeof g.main!="string")throw new Error(Qu(12,b?` (${b})`:"",JSON.stringify(g.main)));return w5(g,"light",y,n),w5(g,"dark",p,n),g.contrastText||(g.contrastText=c(g.main)),g},m={dark:Qk,light:v5};return Ei(We({common:We({},Yh),mode:t,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:Cq,contrastThreshold:r,getContrastText:c,augmentColor:f,tonalOffset:n},m[t]),i)}const $q=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Vq(e){return Math.round(e*1e5)/1e5}const k5={textTransform:"uppercase"},x5='"Roboto", "Helvetica", "Arial", sans-serif';function zq(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=x5,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:c}=r,f=$s(r,$q),m=i/14,g=c||(y=>`${y/u*m}rem`),b=(y,p,w,x,_)=>We({fontFamily:n,fontWeight:y,fontSize:g(p),lineHeight:w},n===x5?{letterSpacing:`${Vq(x/p)}em`}:{},_,d),k={h1:b(s,96,1.167,-1.5),h2:b(s,60,1.2,-.5),h3:b(o,48,1.167,0),h4:b(o,34,1.235,.25),h5:b(o,24,1.334,0),h6:b(a,20,1.6,.15),subtitle1:b(o,16,1.75,.15),subtitle2:b(a,14,1.57,.1),body1:b(o,16,1.5,.15),body2:b(o,14,1.43,.15),button:b(a,14,1.75,.4,k5),caption:b(o,12,1.66,.4),overline:b(o,12,2.66,1,k5),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ei(We({htmlFontSize:u,pxToRem:g,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},k),f,{clone:!1})}const Kq=.2,Jq=.14,Hq=.12;function kt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Kq})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Jq})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Hq})`].join(",")}const Qq=["none",kt(0,2,1,-1,0,1,1,0,0,1,3,0),kt(0,3,1,-2,0,2,2,0,0,1,5,0),kt(0,3,3,-2,0,3,4,0,0,1,8,0),kt(0,2,4,-1,0,4,5,0,0,1,10,0),kt(0,3,5,-1,0,5,8,0,0,1,14,0),kt(0,3,5,-1,0,6,10,0,0,1,18,0),kt(0,4,5,-2,0,7,10,1,0,2,16,1),kt(0,5,5,-3,0,8,10,1,0,3,14,2),kt(0,5,6,-3,0,9,12,1,0,3,16,2),kt(0,6,6,-3,0,10,14,1,0,4,18,3),kt(0,6,7,-4,0,11,15,1,0,4,20,3),kt(0,7,8,-4,0,12,17,2,0,5,22,4),kt(0,7,8,-4,0,13,19,2,0,5,24,4),kt(0,7,9,-4,0,14,21,2,0,5,26,4),kt(0,8,9,-5,0,15,22,2,0,6,28,5),kt(0,8,10,-5,0,16,24,2,0,6,30,5),kt(0,8,11,-5,0,17,26,2,0,6,32,5),kt(0,9,11,-5,0,18,28,2,0,7,34,6),kt(0,9,12,-6,0,19,29,2,0,7,36,6),kt(0,10,13,-6,0,20,31,3,0,8,38,7),kt(0,10,13,-6,0,21,33,3,0,8,40,7),kt(0,10,14,-6,0,22,35,3,0,8,42,7),kt(0,11,14,-7,0,23,36,3,0,9,44,8),kt(0,11,15,-7,0,24,38,3,0,9,46,8)],Zq=Qq,Gq=["duration","easing","delay"],Yq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Xq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function N5(e){return`${Math.round(e)}ms`}function eU(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function tU(e){const t=We({},Yq,e.easing),r=We({},Xq,e.duration);return We({getAutoHeightDuration:eU,create:(n=["all"],i={})=>{const{duration:s=r.standard,easing:o=t.easeInOut,delay:a=0}=i;return $s(i,Gq),(Array.isArray(n)?n:[n]).map(l=>`${l} ${typeof s=="string"?s:N5(s)} ${o} ${typeof a=="string"?a:N5(a)}`).join(",")}},e,{easing:t,duration:r})}const rU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},nU=rU,iU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function sU(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=e,o=$s(e,iU);if(e.vars)throw new Error(Qu(18));const a=Uq(n),l=Jk(e);let u=Ei(l,{mixins:_q(l.breakpoints,r),palette:a,shadows:Zq.slice(),typography:zq(a,s),transitions:tU(i),zIndex:We({},nU)});return u=Ei(u,o),u=t.reduce((d,c)=>Ei(d,c),u),u.unstable_sxConfig=We({},zk,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Kk({sx:d,theme:this})},u}const oU=sU(),S5=oU,_5="$$material";function aU({props:e,name:t}){return vq({props:e,name:t,defaultTheme:S5,themeId:_5})}const lU=e=>fy(e)&&e!=="classes",uU=yq({themeId:_5,defaultTheme:S5,rootShouldForwardProp:lU}),cU=uU;function dU(e){return qI("MuiSvgIcon",e)}cW("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const hU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],fU=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${Us(t)}`,`fontSize${Us(r)}`]};return sW(i,dU,n)},pU=cU("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${Us(r.color)}`],t[`fontSize${Us(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,s,o,a,l,u,d,c,f,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=e.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}[t.fontSize],color:(c=(f=(e.vars||e).palette)==null||(f=f[t.color])==null?void 0:f.main)!=null?c:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),E5=Z.forwardRef(function(e,t){const r=aU({props:e,name:"MuiSvgIcon"}),{children:n,className:i,color:s="inherit",component:o="svg",fontSize:a="medium",htmlColor:l,inheritViewBox:u=!1,titleAccess:d,viewBox:c="0 0 24 24"}=r,f=$s(r,hU),m=Z.isValidElement(n)&&n.type==="svg",g=We({},r,{color:s,component:o,fontSize:a,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:c,hasSvgAsChild:m}),b={};u||(b.viewBox=c);const k=fU(g);return W.jsxs(pU,We({as:o,className:Lk(k.root,i),focusable:"false",color:l,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:t},b,f,m&&n.props,{ownerState:g,children:[m?n.props.children:n,d?W.jsx("title",{children:d}):null]}))});E5.muiName="SvgIcon";const O5=E5;function os(e,t){function r(n,i){return W.jsx(O5,We({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=O5.muiName,Z.memo(Z.forwardRef(r))}const mU=os(W.jsx("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddRounded"),gU=os(W.jsx("path",{d:"M9 16.17 5.53 12.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L9 16.17z"}),"CheckRounded"),yU=os(W.jsx("path",{d:"M18.3 5.71a.9959.9959 0 0 0-1.41 0L12 10.59 7.11 5.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),"CloseRounded"),bU=os(W.jsx("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"CreateRounded"),vU=os(W.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM9 9h6c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1zm6.5-5-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z"}),"DeleteOutlineRounded"),wU=os(W.jsx("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM8 19h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zm0-6h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zM7 6c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z"}),"FormatListBulletedRounded"),kU=os(W.jsx("path",{d:"M8 17c-.55 0-1-.45-1-1v-5c0-.55.45-1 1-1s1 .45 1 1v5c0 .55-.45 1-1 1zm4 0c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v8c0 .55-.45 1-1 1zm4 0c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm2 2H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm1-16H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"InsertChartOutlinedRounded"),xU=os(W.jsx("path",{d:"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1z"}),"RemoveRounded"),NU=os(W.jsx("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5z"}),"ReplayRounded"),SU=os(W.jsx("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 3c0 .55.45 1 1 1h1l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h11c.55 0 1-.45 1-1s-.45-1-1-1H7l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.67-1.43c-.16-.35-.52-.57-.9-.57H2c-.55 0-1 .45-1 1zm16 15c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCartRounded");function _U({onNavigate:e}){return W.jsxs("nav",{className:"relative flex w-full flex-col items-center gap-8",children:[W.jsx(Rk,{to:"/",className:"text-zink-700 flex h-16 w-16 items-center justify-center [&.active]:pointer-events-none",onClick:e,children:W.jsx(wU,{})}),W.jsx(Rk,{to:"/history",className:"text-zink-700 peer flex h-16 w-16 items-center justify-center [&.active]:pointer-events-none",onClick:e,children:W.jsx(NU,{})}),W.jsx(Rk,{to:"/statistics",className:"text-zink-700 peer flex h-16 w-16 items-center justify-center [&.active]:pointer-events-none",onClick:e,children:W.jsx(kU,{})}),W.jsx("div",{className:"pointer-events-none absolute left-0 top-0 h-14 w-[6px] rounded-br rounded-tr bg-amber-500 transition-all ease-out peer-[.active:nth-child(2)]:top-1/2 peer-[.active:nth-child(3)]:top-full peer-[.active:nth-child(2)]:-translate-y-1/2 peer-[.active:nth-child(3)]:-translate-y-full"})]})}const EU=""+new URL("logo5b151dc7.svg",import.meta.url).href,mt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tr=Object.keys,$r=Array.isArray;function ln(e,t){return typeof t!="object"||tr(t).forEach(function(r){e[r]=t[r]}),e}typeof Promise>"u"||mt.Promise||(mt.Promise=Promise);const ef=Object.getPrototypeOf,OU={}.hasOwnProperty;function Mn(e,t){return OU.call(e,t)}function oc(e,t){typeof t=="function"&&(t=t(ef(e))),(typeof Reflect>"u"?tr:Reflect.ownKeys)(t).forEach(r=>{zs(e,r,t[r])})}const C5=Object.defineProperty;function zs(e,t,r,n){C5(e,t,ln(r&&Mn(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function ac(e){return{from:function(t){return e.prototype=Object.create(t.prototype),zs(e.prototype,"constructor",e),{extend:oc.bind(null,e.prototype)}}}}const CU=Object.getOwnPropertyDescriptor;function Zk(e,t){let r;return CU(e,t)||(r=ef(e))&&Zk(r,t)}const TU=[].slice;function my(e,t,r){return TU.call(e,t,r)}function T5(e,t){return t(e)}function tf(e){if(!e)throw new Error("Assertion Failed")}function I5(e){mt.setImmediate?setImmediate(e):setTimeout(e,0)}function R5(e,t){return e.reduce((r,n,i)=>{var s=t(n,i);return s&&(r[s[0]]=s[1]),r},{})}function Ks(e,t){if(Mn(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],n=0,i=t.length;n<i;++n){var s=Ks(e,t[n]);r.push(s)}return r}var o=t.indexOf(".");if(o!==-1){var a=e[t.substr(0,o)];return a===void 0?void 0:Ks(a,t.substr(o+1))}}function Oi(e,t,r){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){tf(typeof r!="string"&&"length"in r);for(var n=0,i=t.length;n<i;++n)Oi(e,t[n],r[n])}else{var s=t.indexOf(".");if(s!==-1){var o=t.substr(0,s),a=t.substr(s+1);if(a==="")r===void 0?$r(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=r;else{var l=e[o];l&&Mn(e,o)||(l=e[o]={}),Oi(l,a,r)}}else r===void 0?$r(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function A5(e){var t={};for(var r in e)Mn(e,r)&&(t[r]=e[r]);return t}const IU=[].concat;function L5(e){return IU.apply([],e)}const P5="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(L5([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>mt[e]),RU=P5.map(e=>mt[e]);R5(P5,e=>[e,!0]);let ta=null;function rf(e){ta=typeof WeakMap<"u"&&new WeakMap;const t=Gk(e);return ta=null,t}function Gk(e){if(!e||typeof e!="object")return e;let t=ta&&ta.get(e);if(t)return t;if($r(e)){t=[],ta&&ta.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(Gk(e[r]))}else if(RU.indexOf(e.constructor)>=0)t=e;else{const s=ef(e);for(var i in t=s===Object.prototype?{}:Object.create(s),ta&&ta.set(e,t),e)Mn(e,i)&&(t[i]=Gk(e[i]))}return t}const{toString:AU}={};function Yk(e){return AU.call(e).slice(8,-1)}const Xk=typeof Symbol<"u"?Symbol.iterator:"@@iterator",LU=typeof Xk=="symbol"?function(e){var t;return e!=null&&(t=e[Xk])&&t.apply(e)}:function(){return null},lc={};function Js(e){var t,r,n,i;if(arguments.length===1){if($r(e))return e.slice();if(this===lc&&typeof e=="string")return[e];if(i=LU(e)){for(r=[];!(n=i.next()).done;)r.push(n.value);return r}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const ex=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var as=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function j5(e,t){as=e,M5=t}var M5=()=>!0;const PU=!new Error("").stack;function pl(){if(PU)try{throw pl.arguments,new Error}catch(e){return e}return new Error}function tx(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(M5).map(n=>`
`+n).join("")):""}var F5=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],rx=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(F5),jU={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function uc(e,t){this._e=pl(),this.name=e,this.message=t}function D5(e,t){return e+". Errors: "+Object.keys(t).map(r=>t[r].toString()).filter((r,n,i)=>i.indexOf(r)===n).join(`
`)}function gy(e,t,r,n){this._e=pl(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=D5(e,t)}function nf(e,t){this._e=pl(),this.name="BulkError",this.failures=Object.keys(t).map(r=>t[r]),this.failuresByPos=t,this.message=D5(e,t)}ac(uc).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+tx(this._e,2))}},toString:function(){return this.name+": "+this.message}}),ac(gy).from(uc),ac(nf).from(uc);var nx=rx.reduce((e,t)=>(e[t]=t+"Error",e),{});const MU=uc;var be=rx.reduce((e,t)=>{var r=t+"Error";function n(i,s){this._e=pl(),this.name=r,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=jU[t]||r,this.inner=null)}return ac(n).from(MU),e[t]=n,e},{});be.Syntax=SyntaxError,be.Type=TypeError,be.Range=RangeError;var B5=F5.reduce((e,t)=>(e[t+"Error"]=be[t],e),{}),yy=rx.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=be[t]),e),{});function tt(){}function sf(e){return e}function FU(e,t){return e==null||e===sf?t:function(r){return t(e(r))}}function ml(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function DU(e,t){return e===tt?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?ml(n,this.onsuccess):n),i&&(this.onerror=this.onerror?ml(i,this.onerror):i),s!==void 0?s:r}}function BU(e,t){return e===tt?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?ml(r,this.onsuccess):r),n&&(this.onerror=this.onerror?ml(n,this.onerror):n)}}function WU(e,t){return e===tt?t:function(r){var n=e.apply(this,arguments);ln(r,n);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ml(i,this.onsuccess):i),s&&(this.onerror=this.onerror?ml(s,this.onerror):s),n===void 0?o===void 0?void 0:o:ln(n,o)}}function qU(e,t){return e===tt?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function ix(e,t){return e===tt?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return r.then(function(){return t.apply(n,s)})}return t.apply(this,arguments)}}yy.ModifyError=gy,yy.DexieError=uc,yy.BulkError=nf;var of={};const W5=100,[sx,by,ox]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,ef(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ef(t),e]})(),q5=by&&by.then,vy=sx&&sx.constructor,ax=!!ox;var lx=!1,UU=ox?()=>{ox.then(Ny)}:mt.setImmediate?setImmediate.bind(null,Ny):mt.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Ny(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Ny,0)},af=function(e,t){lf.push([e,t]),wy&&(UU(),wy=!1)},ux=!0,wy=!0,gl=[],ky=[],cx=null,dx=sf,cc={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:G5,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{G5(e[0],e[1])}catch{}})}},he=cc,lf=[],yl=0,xy=[];function ne(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=tt,this._lib=!1;var t=this._PSD=he;if(as&&(this._stackHolder=pl(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==of)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&fx(this,this._value))}this._state=null,this._value=null,++t.ref,$5(this,e)}const hx={get:function(){var e=he,t=Ey;function r(n,i){var s=!e.global&&(e!==he||t!==Ey);const o=s&&!Hs();var a=new ne((l,u)=>{px(this,new U5(Cy(n,e,s,o),Cy(i,e,s,o),l,u,e))});return as&&K5(a,this),a}return r.prototype=of,r},set:function(e){zs(this,"then",e&&e.prototype===of?hx:{get:function(){return e},set:hx.set})}};function U5(e,t,r,n,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=n,this.psd=i}function $5(e,t){try{t(r=>{if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&uf();r&&typeof r.then=="function"?$5(e,(i,s)=>{r instanceof ne?r._then(i,s):r.then(i,s)}):(e._state=!0,e._value=r,V5(e)),n&&cf()}},fx.bind(null,e))}catch(r){fx(e,r)}}function fx(e,t){if(ky.push(t),e._state===null){var r=e._lib&&uf();t=dx(t),e._state=!1,e._value=t,as&&t!==null&&typeof t=="object"&&!t._promise&&function(n,i,s){try{n.apply(null,s)}catch(o){i&&i(o)}}(()=>{var n=Zk(t,"stack");t._promise=e,zs(t,"stack",{get:()=>lx?n&&(n.get?n.get.apply(t):n.value):e.stack})}),function(n){gl.some(i=>i._value===n._value)||gl.push(n)}(e),V5(e),r&&cf()}}function V5(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)px(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),yl===0&&(++yl,af(()=>{--yl==0&&mx()},[]))}function px(e,t){if(e._state!==null){var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++yl,af($U,[r,e,t])}else e._listeners.push(t)}function $U(e,t,r){try{cx=t;var n,i=t._value;t._state?n=e(i):(ky.length&&(ky=[]),n=e(i),ky.indexOf(i)===-1&&function(s){for(var o=gl.length;o;)if(gl[--o]._value===s._value)return void gl.splice(o,1)}(t)),r.resolve(n)}catch(s){r.reject(s)}finally{cx=null,--yl==0&&mx(),--r.psd.ref||r.psd.finalize()}}function z5(e,t,r){if(t.length===r)return t;var n="";if(e._state===!1){var i,s,o=e._value;o!=null?(i=o.name||"Error",s=o.message||o,n=tx(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+n)}return as&&((n=tx(e._stackHolder,2))&&t.indexOf(n)===-1&&t.push(n),e._prev&&z5(e._prev,t,r)),t}function K5(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function Ny(){uf()&&cf()}function uf(){var e=ux;return ux=!1,wy=!1,e}function cf(){var e,t,r;do for(;lf.length>0;)for(e=lf,lf=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(lf.length>0);ux=!0,wy=!0}function mx(){var e=gl;gl=[],e.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var t=xy.slice(0),r=t.length;r;)t[--r]()}function Sy(e){return new ne(of,!1,e)}function xt(e,t){var r=he;return function(){var n=uf(),i=he;try{return na(r,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{na(i,!1),n&&cf()}}}oc(ne.prototype,{then:hx,_then:function(e,t){px(this,new U5(null,null,e,t,he))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,n=>n instanceof t?r(n):Sy(n)):this.then(null,n=>n&&n.name===t?r(n):Sy(n))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Sy(t)))},stack:{get:function(){if(this._stack)return this._stack;try{lx=!0;var e=z5(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{lx=!1}}},timeout:function(e,t){return e<1/0?new ne((r,n)=>{var i=setTimeout(()=>n(new be.Timeout(t)),e);this.then(r,n).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&zs(ne.prototype,Symbol.toStringTag,"Dexie.Promise"),cc.env=J5(),oc(ne,{all:function(){var e=Js.apply(null,arguments).map(Oy);return new ne(function(t,r){e.length===0&&t([]);var n=e.length;e.forEach((i,s)=>ne.resolve(i).then(o=>{e[s]=o,--n||t(e)},r))})},resolve:e=>{if(e instanceof ne)return e;if(e&&typeof e.then=="function")return new ne((r,n)=>{e.then(r,n)});var t=new ne(of,!0,e);return K5(t,cx),t},reject:Sy,race:function(){var e=Js.apply(null,arguments).map(Oy);return new ne((t,r)=>{e.map(n=>ne.resolve(n).then(t,r))})},PSD:{get:()=>he,set:e=>he=e},totalEchoes:{get:()=>Ey},newPSD:ra,usePSD:hc,scheduler:{get:()=>af,set:e=>{af=e}},rejectionMapper:{get:()=>dx,set:e=>{dx=e}},follow:(e,t)=>new ne((r,n)=>ra((i,s)=>{var o=he;o.unhandleds=[],o.onunhandled=s,o.finalize=ml(function(){(function(a){function l(){a(),xy.splice(xy.indexOf(l),1)}xy.push(l),++yl,af(()=>{--yl==0&&mx()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),e()},t,r,n))}),vy&&(vy.allSettled&&zs(ne,"allSettled",function(){const e=Js.apply(null,arguments).map(Oy);return new ne(t=>{e.length===0&&t([]);let r=e.length;const n=new Array(r);e.forEach((i,s)=>ne.resolve(i).then(o=>n[s]={status:"fulfilled",value:o},o=>n[s]={status:"rejected",reason:o}).then(()=>--r||t(n)))})}),vy.any&&typeof AggregateError<"u"&&zs(ne,"any",function(){const e=Js.apply(null,arguments).map(Oy);return new ne((t,r)=>{e.length===0&&r(new AggregateError([]));let n=e.length;const i=new Array(n);e.forEach((s,o)=>ne.resolve(s).then(a=>t(a),a=>{i[o]=a,--n||r(new AggregateError(i))}))})}));const Vr={awaits:0,echoes:0,id:0};var VU=0,_y=[],gx=0,Ey=0,zU=0;function ra(e,t,r,n){var i=he,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++zU;var o=cc.env;s.env=ax?{Promise:ne,PromiseProp:{value:ne,configurable:!0,writable:!0},all:ne.all,race:ne.race,allSettled:ne.allSettled,any:ne.any,resolve:ne.resolve,reject:ne.reject,nthen:Q5(o.nthen,s),gthen:Q5(o.gthen,s)}:{},t&&ln(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=hc(s,e,r,n);return s.ref===0&&s.finalize(),a}function dc(){return Vr.id||(Vr.id=++VU),++Vr.awaits,Vr.echoes+=W5,Vr.id}function Hs(){return!!Vr.awaits&&(--Vr.awaits==0&&(Vr.id=0),Vr.echoes=Vr.awaits*W5,!0)}function Oy(e){return Vr.echoes&&e&&e.constructor===vy?(dc(),e.then(t=>(Hs(),t),t=>(Hs(),hr(t)))):e}function KU(e){++Ey,Vr.echoes&&--Vr.echoes!=0||(Vr.echoes=Vr.id=0),_y.push(he),na(e,!0)}function JU(){var e=_y[_y.length-1];_y.pop(),na(e,!1)}function na(e,t){var r=he;if((t?!Vr.echoes||gx++&&e===he:!gx||--gx&&e===he)||H5(t?KU.bind(null,e):JU),e!==he&&(he=e,r===cc&&(cc.env=J5()),ax)){var n=cc.env.Promise,i=e.env;by.then=i.nthen,n.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(mt,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function J5(){var e=mt.Promise;return ax?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(mt,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:by.then,gthen:e.prototype.then}:{}}function hc(e,t,r,n,i){var s=he;try{return na(e,!0),t(r,n,i)}finally{na(s,!1)}}function H5(e){q5.call(sx,e)}function Cy(e,t,r,n){return typeof e!="function"?e:function(){var i=he;r&&dc(),na(t,!0);try{return e.apply(this,arguments)}finally{na(i,!1),n&&H5(Hs)}}}function Q5(e,t){return function(r,n){return e.call(this,Cy(r,t),Cy(n,t))}}(""+q5).indexOf("[native code]")===-1&&(dc=Hs=tt);const Z5="unhandledrejection";function G5(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var n,i={promise:t,reason:e};if(mt.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(Z5,!0,!0),ln(n,i)):mt.CustomEvent&&ln(n=new CustomEvent(Z5,{detail:i}),i),n&&mt.dispatchEvent&&(dispatchEvent(n),!mt.PromiseRejectionEvent&&mt.onunhandledrejection))try{mt.onunhandledrejection(n)}catch{}as&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var hr=ne.reject;function yx(e,t,r,n){if(e.idbdb&&(e._state.openComplete||he.letThrough||e._vip)){var i=e._createTransaction(t,r,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===nx.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>yx(e,t,r,n))):hr(s)}return i._promise(t,(s,o)=>ra(()=>(he.trans=i,n(s,o,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return hr(new be.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return hr(new be.DatabaseClosed);e.open().catch(tt)}return e._state.dbReadyPromise.then(()=>yx(e,t,r,n))}const Y5="3.2.4",bl=String.fromCharCode(65535),bx=-1/0,Qs="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",X5="String expected.",df=[],Ty=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),HU=Ty,QU=Ty,e3=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Iy="__dbnames",vx="readonly",wx="readwrite";function vl(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const t3={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ry(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=rf(t))[e],t)}class ZU{_trans(t,r,n){const i=this._tx||he.trans,s=this.name;function o(l,u,d){if(!d.schema[s])throw new be.NotFound("Table "+s+" not part of transaction");return r(d.idbtrans,d)}const a=uf();try{return i&&i.db===this.db?i===he.trans?i._promise(t,o,n):ra(()=>i._promise(t,o,n),{trans:i,transless:he.transless||he}):yx(this.db,t,[this.name],o)}finally{a&&cf()}}get(t,r){return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:t}).then(i=>this.hook.reading.fire(i))).then(r)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if($r(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const r=tr(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(u=>u.compound&&r.every(d=>u.keyPath.indexOf(d)>=0)&&u.keyPath.every(d=>r.indexOf(d)>=0))[0];if(n&&this.db._maxKey!==bl)return this.where(n.name).equals(n.keyPath.map(u=>t[u]));!n&&as&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(u,d){try{return s.cmp(u,d)===0}catch{return!1}}const[a,l]=r.reduce(([u,d],c)=>{const f=i[c],m=t[c];return[u||f,u||!f?vl(d,f&&f.multi?g=>{const b=Ks(g,c);return $r(b)&&b.some(k=>o(m,k))}:g=>o(m,Ks(g,c))):d]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(l):n?this.filter(l):this.where(r).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,$r(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const r=n=>{if(!n)return n;const i=Object.create(t.prototype);for(var s in n)if(Mn(n,s))try{i[s]=n[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t}defineClass(){return this.mapToClass(function(t){ln(this,t)})}add(t,r){const{auto:n,keyPath:i}=this.schema.primKey;let s=t;return i&&n&&(s=Ry(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:r!=null?[r]:null,values:[s]})).then(o=>o.numFailures?ne.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{Oi(t,i,o)}catch{}return o})}update(t,r){if(typeof t!="object"||$r(t))return this.where(":id").equals(t).modify(r);{const n=Ks(t,this.schema.primKey.keyPath);if(n===void 0)return hr(new be.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?tr(r).forEach(i=>{Oi(t,i,r[i])}):r(t,{value:t,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}}put(t,r){const{auto:n,keyPath:i}=this.schema.primKey;let s=t;return i&&n&&(s=Ry(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:r!=null?[r]:null})).then(o=>o.numFailures?ne.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{Oi(t,i,o)}catch{}return o})}delete(t){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[t]})).then(r=>r.numFailures?ne.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:t3})).then(t=>t.numFailures?ne.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",r=>this.core.getMany({keys:t,trans:r}).then(n=>n.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,r,n){const i=Array.isArray(r)?r:void 0,s=(n=n||(i?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let d=l&&a?t.map(Ry(l)):t;return this.core.mutate({trans:o,type:"add",keys:i,values:d,wantResults:s}).then(({numFailures:c,results:f,lastResult:m,failures:g})=>{if(c===0)return s?f:m;throw new nf(`${this.name}.bulkAdd(): ${c} of ${u} operations failed`,g)})})}bulkPut(t,r,n){const i=Array.isArray(r)?r:void 0,s=(n=n||(i?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let d=l&&a?t.map(Ry(l)):t;return this.core.mutate({trans:o,type:"put",keys:i,values:d,wantResults:s}).then(({numFailures:c,results:f,lastResult:m,failures:g})=>{if(c===0)return s?f:m;throw new nf(`${this.name}.bulkPut(): ${c} of ${u} operations failed`,g)})})}bulkDelete(t){const r=t.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:t})).then(({numFailures:n,lastResult:i,failures:s})=>{if(n===0)return i;throw new nf(`${this.name}.bulkDelete(): ${n} of ${r} operations failed`,s)})}}function hf(e){var t={},r=function(o,a){if(a){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return t[o].subscribe.apply(null,u),e}if(typeof o=="string")return t[o]};r.addEventType=s;for(var n=1,i=arguments.length;n<i;++n)s(arguments[n]);return r;function s(o,a,l){if(typeof o!="object"){var u;a||(a=qU),l||(l=tt);var d={subscribers:[],fire:l,subscribe:function(c){d.subscribers.indexOf(c)===-1&&(d.subscribers.push(c),d.fire=a(d.fire,c))},unsubscribe:function(c){d.subscribers=d.subscribers.filter(function(f){return f!==c}),d.fire=d.subscribers.reduce(a,l)}};return t[o]=r[o]=d,d}tr(u=o).forEach(function(c){var f=u[c];if($r(f))s(c,u[c][0],u[c][1]);else{if(f!=="asap")throw new be.InvalidArgument("Invalid event config");var m=s(c,sf,function(){for(var g=arguments.length,b=new Array(g);g--;)b[g]=arguments[g];m.subscribers.forEach(function(k){I5(function(){k.apply(null,b)})})})}})}}function ff(e,t){return ac(t).from({prototype:e}),t}function fc(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function kx(e,t){e.filter=vl(e.filter,t)}function xx(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>vl(n(),t()):t,e.justLimit=r&&!n}function Ay(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new be.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function r3(e,t,r){const n=Ay(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function Ly(e,t,r,n){const i=e.replayFilter?vl(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},o=(a,l,u)=>{if(!i||i(l,u,f=>l.stop(f),f=>l.fail(f))){var d=l.primaryKey,c=""+d;c==="[object ArrayBuffer]"&&(c=""+new Uint8Array(d)),Mn(s,c)||(s[c]=!0,t(a,l,u))}};return Promise.all([e.or._iterate(o,r),n3(r3(e,n,r),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return n3(r3(e,n,r),vl(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function n3(e,t,r,n){var i=xt(n?(s,o,a)=>r(n(s),o,a):r);return e.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();t&&!t(s,a=>o=a,a=>{s.stop(a),o=tt},a=>{s.fail(a),o=tt})||i(s.value,s,a=>o=a),o()})})}function un(e,t){try{const r=i3(e),n=i3(t);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u)if(i[u]!==s[u])return i[u]<s[u]?-1:1;return o===a?0:o<a?-1:1}(s3(e),s3(t));case"Array":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let u=0;u<l;++u){const d=un(i[u],s[u]);if(d!==0)return d}return o===a?0:o<a?-1:1}(e,t)}}catch{}return NaN}function i3(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const r=Yk(e);return r==="ArrayBuffer"?"binary":r}function s3(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class GU{_read(t,r){var n=this._ctx;return n.error?n.table._trans(null,hr.bind(null,n.error)):n.table._trans("readonly",t).then(r)}_write(t){var r=this._ctx;return r.error?r.table._trans(null,hr.bind(null,r.error)):r.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var r=this._ctx;r.algorithm=vl(r.algorithm,t)}_iterate(t,r){return Ly(this._ctx,t,r,this._ctx.table.core)}clone(t){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&ln(n,t),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(t){var r=this._ctx;return this._read(n=>Ly(r,t,n,r.table.core))}count(t){return this._read(r=>{const n=this._ctx,i=n.table.core;if(fc(n,!0))return i.count({trans:r,query:{index:Ay(n,i.schema),range:n.range}}).then(o=>Math.min(o,n.limit));var s=0;return Ly(n,()=>(++s,!1),r,i).then(()=>s)}).then(t)}sortBy(t,r){const n=t.split(".").reverse(),i=n[0],s=n.length-1;function o(u,d){return d?o(u[n[d]],d-1):u[i]}var a=this._ctx.dir==="next"?1:-1;function l(u,d){var c=o(u,s),f=o(d,s);return c<f?-a:c>f?a:0}return this.toArray(function(u){return u.sort(l)}).then(r)}toArray(t){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&fc(n,!0)&&n.limit>0){const{valueMapper:i}=n,s=Ay(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:s,range:n.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return Ly(n,s=>i.push(s),r,n.table.core).then(()=>i)}},t)}offset(t){var r=this._ctx;return t<=0||(r.offset+=t,fc(r)?xx(r,()=>{var n=t;return(i,s)=>n===0||(n===1?(--n,!1):(s(()=>{i.advance(n),n=0}),!1))}):xx(r,()=>{var n=t;return()=>--n<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),xx(this._ctx,()=>{var r=t;return function(n,i,s){return--r<=0&&i(s),r>=0}},!0),this}until(t,r){return kx(this._ctx,function(n,i,s){return!t(n.value)||(i(s),r)}),this}first(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var r,n;return kx(this._ctx,function(i){return t(i.value)}),r=this._ctx,n=t,r.isMatch=vl(r.isMatch,n),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.primaryKey,i)})}keys(t){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,s){n.push(s.key)}).then(function(){return n}).then(t)}primaryKeys(t){var r=this._ctx;if(r.dir==="next"&&fc(r,!0)&&r.limit>0)return this._read(i=>{var s=Ay(r,r.table.core.schema);return r.table.core.query({trans:i,values:!1,limit:r.limit,query:{index:s,range:r.range}})}).then(({result:i})=>i).then(t);r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,s){n.push(s.primaryKey)}).then(function(){return n}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(r){return r[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return kx(this._ctx,function(i){var s=i.primaryKey.toString(),o=Mn(n,s);return n[s]=!0,!o}),this}modify(t){var r=this._ctx;return this._write(n=>{var i;if(typeof t=="function")i=t;else{var s=tr(t),o=s.length;i=function(b){for(var k=!1,y=0;y<o;++y){var p=s[y],w=t[p];Ks(b,p)!==w&&(Oi(b,p,w),k=!0)}return k}}const a=r.table.core,{outbound:l,extractKey:u}=a.schema.primaryKey,d=this.db._options.modifyChunkSize||200,c=[];let f=0;const m=[],g=(b,k)=>{const{failures:y,numFailures:p}=k;f+=b-p;for(let w of tr(y))c.push(y[w])};return this.clone().primaryKeys().then(b=>{const k=y=>{const p=Math.min(d,b.length-y);return a.getMany({trans:n,keys:b.slice(y,y+p),cache:"immutable"}).then(w=>{const x=[],_=[],E=l?[]:null,S=[];for(let T=0;T<p;++T){const I=w[T],M={value:rf(I),primKey:b[y+T]};i.call(M,M.value,M)!==!1&&(M.value==null?S.push(b[y+T]):l||un(u(I),u(M.value))===0?(_.push(M.value),l&&E.push(b[y+T])):(S.push(b[y+T]),x.push(M.value)))}const R=fc(r)&&r.limit===1/0&&(typeof t!="function"||t===Nx)&&{index:r.index,range:r.range};return Promise.resolve(x.length>0&&a.mutate({trans:n,type:"add",values:x}).then(T=>{for(let I in T.failures)S.splice(parseInt(I),1);g(x.length,T)})).then(()=>(_.length>0||R&&typeof t=="object")&&a.mutate({trans:n,type:"put",keys:E,values:_,criteria:R,changeSpec:typeof t!="function"&&t}).then(T=>g(_.length,T))).then(()=>(S.length>0||R&&t===Nx)&&a.mutate({trans:n,type:"delete",keys:S,criteria:R}).then(T=>g(S.length,T))).then(()=>b.length>y+p&&k(y+d))})};return k(0).then(()=>{if(c.length>0)throw new gy("Error modifying one or more objects",c,f,m);return b.length})})})}delete(){var t=this._ctx,r=t.range;return fc(t)&&(t.isPrimKey&&!QU||r.type===3)?this._write(n=>{const{primaryKey:i}=t.table.core.schema,s=r;return t.table.core.count({trans:n,query:{index:i,range:s}}).then(o=>t.table.core.mutate({trans:n,type:"deleteRange",range:s}).then(({failures:a,lastResult:l,results:u,numFailures:d})=>{if(d)throw new gy("Could not delete some values",Object.keys(a).map(c=>a[c]),o-d);return o-d}))}):this.modify(Nx)}}const Nx=(e,t)=>t.value=null;function YU(e,t){return e<t?-1:e===t?0:1}function XU(e,t){return e>t?-1:e===t?0:1}function Fn(e,t,r){var n=e instanceof a3?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function pc(e){return new e.Collection(e,()=>o3("")).limit(0)}function e$(e,t,r,n,i,s){for(var o=Math.min(e.length,n.length),a=-1,l=0;l<o;++l){var u=t[l];if(u!==n[l])return i(e[l],r[l])<0?e.substr(0,l)+r[l]+r.substr(l+1):i(e[l],n[l])<0?e.substr(0,l)+n[l]+r.substr(l+1):a>=0?e.substr(0,a)+t[a]+r.substr(a+1):null;i(e[l],u)<0&&(a=l)}return o<n.length&&s==="next"?e+r.substr(e.length):o<e.length&&s==="prev"?e.substr(0,r.length):a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}function Py(e,t,r,n){var i,s,o,a,l,u,d,c=r.length;if(!r.every(b=>typeof b=="string"))return Fn(e,X5);function f(b){i=function(y){return y==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(b),s=function(y){return y==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(b),o=b==="next"?YU:XU;var k=r.map(function(y){return{lower:s(y),upper:i(y)}}).sort(function(y,p){return o(y.lower,p.lower)});a=k.map(function(y){return y.upper}),l=k.map(function(y){return y.lower}),u=b,d=b==="next"?"":n}f("next");var m=new e.Collection(e,()=>ia(a[0],l[c-1]+n));m._ondirectionchange=function(b){f(b)};var g=0;return m._addAlgorithm(function(b,k,y){var p=b.key;if(typeof p!="string")return!1;var w=s(p);if(t(w,l,g))return!0;for(var x=null,_=g;_<c;++_){var E=e$(p,w,a[_],l[_],o,u);E===null&&x===null?g=_+1:(x===null||o(x,E)>0)&&(x=E)}return k(x!==null?function(){b.continue(x+d)}:y),!1}),m}function ia(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function o3(e){return{type:1,lower:e,upper:e}}class a3{get Collection(){return this._ctx.table.db.Collection}between(t,r,n,i){n=n!==!1,i=i===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(n||i)&&(!n||!i)?pc(this):new this.Collection(this,()=>ia(t,r,!n,!i))}catch{return Fn(this,Qs)}}equals(t){return t==null?Fn(this,Qs):new this.Collection(this,()=>o3(t))}above(t){return t==null?Fn(this,Qs):new this.Collection(this,()=>ia(t,void 0,!0))}aboveOrEqual(t){return t==null?Fn(this,Qs):new this.Collection(this,()=>ia(t,void 0,!1))}below(t){return t==null?Fn(this,Qs):new this.Collection(this,()=>ia(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Fn(this,Qs):new this.Collection(this,()=>ia(void 0,t))}startsWith(t){return typeof t!="string"?Fn(this,X5):this.between(t,t+bl,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Py(this,(r,n)=>r.indexOf(n[0])===0,[t],bl)}equalsIgnoreCase(t){return Py(this,(r,n)=>r===n[0],[t],"")}anyOfIgnoreCase(){var t=Js.apply(lc,arguments);return t.length===0?pc(this):Py(this,(r,n)=>n.indexOf(r)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Js.apply(lc,arguments);return t.length===0?pc(this):Py(this,(r,n)=>n.some(i=>r.indexOf(i)===0),t,bl)}anyOf(){const t=Js.apply(lc,arguments);let r=this._cmp;try{t.sort(r)}catch{return Fn(this,Qs)}if(t.length===0)return pc(this);const n=new this.Collection(this,()=>ia(t[0],t[t.length-1]));n._ondirectionchange=s=>{r=s==="next"?this._ascending:this._descending,t.sort(r)};let i=0;return n._addAlgorithm((s,o,a)=>{const l=s.key;for(;r(l,t[i])>0;)if(++i,i===t.length)return o(a),!1;return r(l,t[i])===0||(o(()=>{s.continue(t[i])}),!1)}),n}notEqual(t){return this.inAnyRange([[bx,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Js.apply(lc,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Fn(this,Qs)}const r=t.reduce((n,i)=>n?n.concat([[n[n.length-1][1],i]]):[[bx,i]],null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,r){const n=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(t.length===0)return pc(this);if(!t.every(p=>p[0]!==void 0&&p[1]!==void 0&&i(p[0],p[1])<=0))return Fn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",be.InvalidArgument);const l=!r||r.includeLowers!==!1,u=r&&r.includeUppers===!0;let d,c=i;function f(p,w){return c(p[0],w[0])}try{d=t.reduce(function(p,w){let x=0,_=p.length;for(;x<_;++x){const E=p[x];if(n(w[0],E[1])<0&&n(w[1],E[0])>0){E[0]=o(E[0],w[0]),E[1]=a(E[1],w[1]);break}}return x===_&&p.push(w),p},[]),d.sort(f)}catch{return Fn(this,Qs)}let m=0;const g=u?p=>i(p,d[m][1])>0:p=>i(p,d[m][1])>=0,b=l?p=>s(p,d[m][0])>0:p=>s(p,d[m][0])>=0;let k=g;const y=new this.Collection(this,()=>ia(d[0][0],d[d.length-1][1],!l,!u));return y._ondirectionchange=p=>{p==="next"?(k=g,c=i):(k=b,c=s),d.sort(f)},y._addAlgorithm((p,w,x)=>{for(var _=p.key;k(_);)if(++m,m===d.length)return w(x),!1;return!!function(E){return!g(E)&&!b(E)}(_)||(this._cmp(_,d[m][1])===0||this._cmp(_,d[m][0])===0||w(()=>{c===i?p.continue(d[m][0]):p.continue(d[m][1])}),!1)}),y}startsWithAnyOf(){const t=Js.apply(lc,arguments);return t.every(r=>typeof r=="string")?t.length===0?pc(this):this.inAnyRange(t.map(r=>[r,r+bl])):Fn(this,"startsWithAnyOf() only works with strings")}}function ls(e){return xt(function(t){return pf(t),e(t.target.error),!1})}function pf(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const mf="storagemutated",sa="x-storagemutated-1",oa=hf(null,mf);class t${_lock(){return tf(!he.global),++this._reculock,this._reculock!==1||he.global||(he.lockOwnerFor=this),this}_unlock(){if(tf(!he.global),--this._reculock==0)for(he.global||(he.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{hc(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&he.lockOwnerFor!==this}create(t){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(tf(!this.idbtrans),!t&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new be.DatabaseClosed(n);case"MissingAPIError":throw new be.MissingAPI(n.message,n);default:throw new be.OpenFailed(n)}if(!this.active)throw new be.TransactionInactive;return tf(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=xt(i=>{pf(i),this._reject(t.error)}),t.onabort=xt(i=>{pf(i),this.active&&this._reject(new be.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=xt(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&oa.storagemutated.fire(t.mutatedParts)}),this}_promise(t,r,n){if(t==="readwrite"&&this.mode!=="readwrite")return hr(new be.ReadOnly("Transaction is readonly"));if(!this.active)return hr(new be.TransactionInactive);if(this._locked())return new ne((s,o)=>{this._blockedFuncs.push([()=>{this._promise(t,r,n).then(s,o)},he])});if(n)return ra(()=>{var s=new ne((o,a)=>{this._lock();const l=r(o,a,this);l&&l.then&&l.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new ne((s,o)=>{var a=r(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var r=this._root();const n=ne.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var i=r.idbtrans.objectStore(r.storeNames[0]);(function o(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=r._waitingFor;return new ne((o,a)=>{n.then(l=>r._waitingQueue.push(xt(o.bind(null,l))),l=>r._waitingQueue.push(xt(a.bind(null,l)))).finally(()=>{r._waitingFor===s&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new be.Abort))}table(t){const r=this._memoizedTables||(this._memoizedTables={});if(Mn(r,t))return r[t];const n=this.schema[t];if(!n)throw new be.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,n,this);return i.core=this.db.core.table(t),r[t]=i,i}}function Sx(e,t,r,n,i,s,o){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:s,src:(r&&!o?"&":"")+(n?"*":"")+(i?"++":"")+l3(t)}}function l3(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function u3(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:R5(r,n=>[n.name,n])}}let gf=e=>{try{return e.only([[]]),gf=()=>[[]],[[]]}catch{return gf=()=>bl,bl}};function _x(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Ks(r,t)}(e):t=>Ks(t,e)}function c3(e){return[].slice.call(e)}let r$=0;function yf(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function n$(e,t,r){function n(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:d,lowerOpen:c,upperOpen:f}=l;return u===void 0?d===void 0?null:t.upperBound(d,!!f):d===void 0?t.lowerBound(u,!!c):t.bound(u,d,!!c,!!f)}const{schema:i,hasGetAll:s}=function(l,u){const d=c3(l.objectStoreNames);return{schema:{name:l.name,tables:d.map(c=>u.objectStore(c)).map(c=>{const{keyPath:f,autoIncrement:m}=c,g=$r(f),b=f==null,k={},y={name:c.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b,compound:g,keyPath:f,autoIncrement:m,unique:!0,extractKey:_x(f)},indexes:c3(c.indexNames).map(p=>c.index(p)).map(p=>{const{name:w,unique:x,multiEntry:_,keyPath:E}=p,S={name:w,compound:$r(E),keyPath:E,unique:x,multiEntry:_,extractKey:_x(E)};return k[yf(E)]=S,S}),getIndexByKeyPath:p=>k[yf(p)]};return k[":id"]=y.primaryKey,f!=null&&(k[yf(f)]=y.primaryKey),y})},hasGetAll:d.length>0&&"getAll"in u.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),o=i.tables.map(l=>function(u){const d=u.name;return{name:d,schema:u,mutate:function({trans:c,type:f,keys:m,values:g,range:b}){return new Promise((k,y)=>{k=xt(k);const p=c.objectStore(d),w=p.keyPath==null,x=f==="put"||f==="add";if(!x&&f!=="delete"&&f!=="deleteRange")throw new Error("Invalid operation type: "+f);const{length:_}=m||g||{length:1};if(m&&g&&m.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(_===0)return k({numFailures:0,failures:{},results:[],lastResult:void 0});let E;const S=[],R=[];let T=0;const I=L=>{++T,pf(L)};if(f==="deleteRange"){if(b.type===4)return k({numFailures:T,failures:R,results:[],lastResult:void 0});b.type===3?S.push(E=p.clear()):S.push(E=p.delete(n(b)))}else{const[L,V]=x?w?[g,m]:[g,null]:[m,null];if(x)for(let q=0;q<_;++q)S.push(E=V&&V[q]!==void 0?p[f](L[q],V[q]):p[f](L[q])),E.onerror=I;else for(let q=0;q<_;++q)S.push(E=p[f](L[q])),E.onerror=I}const M=L=>{const V=L.target.result;S.forEach((q,ie)=>q.error!=null&&(R[ie]=q.error)),k({numFailures:T,failures:R,results:f==="delete"?m:S.map(q=>q.result),lastResult:V})};E.onerror=L=>{I(L),M(L)},E.onsuccess=M})},getMany:({trans:c,keys:f})=>new Promise((m,g)=>{m=xt(m);const b=c.objectStore(d),k=f.length,y=new Array(k);let p,w=0,x=0;const _=S=>{const R=S.target;y[R._pos]=R.result,++x===w&&m(y)},E=ls(g);for(let S=0;S<k;++S)f[S]!=null&&(p=b.get(f[S]),p._pos=S,p.onsuccess=_,p.onerror=E,++w);w===0&&m(y)}),get:({trans:c,key:f})=>new Promise((m,g)=>{m=xt(m);const b=c.objectStore(d).get(f);b.onsuccess=k=>m(k.target.result),b.onerror=ls(g)}),query:function(c){return f=>new Promise((m,g)=>{m=xt(m);const{trans:b,values:k,limit:y,query:p}=f,w=y===1/0?void 0:y,{index:x,range:_}=p,E=b.objectStore(d),S=x.isPrimaryKey?E:E.index(x.name),R=n(_);if(y===0)return m({result:[]});if(c){const T=k?S.getAll(R,w):S.getAllKeys(R,w);T.onsuccess=I=>m({result:I.target.result}),T.onerror=ls(g)}else{let T=0;const I=k||!("openKeyCursor"in S)?S.openCursor(R):S.openKeyCursor(R),M=[];I.onsuccess=L=>{const V=I.result;return V?(M.push(k?V.value:V.primaryKey),++T===y?m({result:M}):void V.continue()):m({result:M})},I.onerror=ls(g)}})}(s),openCursor:function({trans:c,values:f,query:m,reverse:g,unique:b}){return new Promise((k,y)=>{k=xt(k);const{index:p,range:w}=m,x=c.objectStore(d),_=p.isPrimaryKey?x:x.index(p.name),E=g?b?"prevunique":"prev":b?"nextunique":"next",S=f||!("openKeyCursor"in _)?_.openCursor(n(w),E):_.openKeyCursor(n(w),E);S.onerror=ls(y),S.onsuccess=xt(R=>{const T=S.result;if(!T)return void k(null);T.___id=++r$,T.done=!1;const I=T.continue.bind(T);let M=T.continuePrimaryKey;M&&(M=M.bind(T));const L=T.advance.bind(T),V=()=>{throw new Error("Cursor not stopped")};T.trans=c,T.stop=T.continue=T.continuePrimaryKey=T.advance=()=>{throw new Error("Cursor not started")},T.fail=xt(y),T.next=function(){let q=1;return this.start(()=>q--?this.continue():this.stop()).then(()=>this)},T.start=q=>{const ie=new Promise((G,D)=>{G=xt(G),S.onerror=ls(D),T.fail=D,T.stop=j=>{T.stop=T.continue=T.continuePrimaryKey=T.advance=V,G(j)}}),ue=()=>{if(S.result)try{q()}catch(G){T.fail(G)}else T.done=!0,T.start=()=>{throw new Error("Cursor behind last entry")},T.stop()};return S.onsuccess=xt(G=>{S.onsuccess=ue,ue()}),T.continue=I,T.continuePrimaryKey=M,T.advance=L,ue(),ie},k(T)},y)})},count({query:c,trans:f}){const{index:m,range:g}=c;return new Promise((b,k)=>{const y=f.objectStore(d),p=m.isPrimaryKey?y:y.index(m.name),w=n(g),x=w?p.count(w):p.count();x.onsuccess=xt(_=>b(_.target.result)),x.onerror=ls(k)})}}}(l)),a={};return o.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:gf(t),schema:i}}function Ex({_novip:e},t){const r=t.db,n=function(i,s,{IDBKeyRange:o,indexedDB:a},l){return{dbcore:function(u,d){return d.reduce((c,{create:f})=>({...c,...f(c)}),u)}(n$(s,o,l),i.dbcore)}}(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(o=>o.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function jy({_novip:e},t,r,n){r.forEach(i=>{const s=n[i];t.forEach(o=>{const a=Zk(o,i);(!a||"value"in a&&a.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?zs(o,i,{get(){return this.table(i)},set(l){C5(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new e.Table(i,s))})})}function Ox({_novip:e},t){t.forEach(r=>{for(let n in r)r[n]instanceof e.Table&&delete r[n]})}function i$(e,t){return e._cfg.version-t._cfg.version}function s$(e,t,r,n){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(r),s._completion.catch(n);const o=s._reject.bind(s),a=he.transless||he;ra(()=>{he.trans=s,he.transless=a,t===0?(tr(i).forEach(l=>{Cx(r,l,i[l].primKey,i[l].indexes)}),Ex(e,r),ne.follow(()=>e.on.populate.fire(s)).catch(o)):function({_novip:l},u,d,c){const f=[],m=l._versions;let g=l._dbSchema=Ix(l,l.idbdb,c),b=!1;const k=m.filter(p=>p._cfg.version>=u);function y(){return f.length?ne.resolve(f.shift()(d.idbtrans)).then(y):ne.resolve()}return k.forEach(p=>{f.push(()=>{const w=g,x=p._cfg.dbschema;Rx(l,w,c),Rx(l,x,c),g=l._dbSchema=x;const _=d3(w,x);_.add.forEach(S=>{Cx(c,S[0],S[1].primKey,S[1].indexes)}),_.change.forEach(S=>{if(S.recreate)throw new be.Upgrade("Not yet support for changing primary key");{const R=c.objectStore(S.name);S.add.forEach(T=>Tx(R,T)),S.change.forEach(T=>{R.deleteIndex(T.name),Tx(R,T)}),S.del.forEach(T=>R.deleteIndex(T))}});const E=p._cfg.contentUpgrade;if(E&&p._cfg.version>u){Ex(l,c),d._memoizedTables={},b=!0;let S=A5(x);_.del.forEach(M=>{S[M]=w[M]}),Ox(l,[l.Transaction.prototype]),jy(l,[l.Transaction.prototype],tr(S),S),d.schema=S;const R=ex(E);let T;R&&dc();const I=ne.follow(()=>{if(T=E(d),T&&R){var M=Hs.bind(null,null);T.then(M,M)}});return T&&typeof T.then=="function"?ne.resolve(T):I.then(()=>T)}}),f.push(w=>{(!b||!HU)&&function(x,_){[].slice.call(_.db.objectStoreNames).forEach(E=>x[E]==null&&_.db.deleteObjectStore(E))}(p._cfg.dbschema,w),Ox(l,[l.Transaction.prototype]),jy(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),d.schema=l._dbSchema})}),y().then(()=>{var p,w;w=c,tr(p=g).forEach(x=>{w.db.objectStoreNames.contains(x)||Cx(w,x,p[x].primKey,p[x].indexes)})})}(e,t,s,r).catch(o)})}function d3(e,t){const r={del:[],add:[],change:[]};let n;for(n in e)t[n]||r.del.push(n);for(n in t){const i=e[n],s=t[n];if(i){const o={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!Ty)o.recreate=!0,r.change.push(o);else{const a=i.idxByName,l=s.idxByName;let u;for(u in a)l[u]||o.del.push(u);for(u in l){const d=a[u],c=l[u];d?d.src!==c.src&&o.change.push(c):o.add.push(c)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}else r.add.push([n,s])}return r}function Cx(e,t,r,n){const i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(s=>Tx(i,s)),i}function Tx(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Ix(e,t,r){const n={};return my(t.objectStoreNames,0).forEach(i=>{const s=r.objectStore(i);let o=s.keyPath;const a=Sx(l3(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[];for(let d=0;d<s.indexNames.length;++d){const c=s.index(s.indexNames[d]);o=c.keyPath;var u=Sx(c.name,o,!!c.unique,!!c.multiEntry,!1,o&&typeof o!="string",!1);l.push(u)}n[i]=u3(i,a,l)}),n}function Rx({_novip:e},t,r){const n=r.db.objectStoreNames;for(let i=0;i<n.length;++i){const s=n[i],o=r.objectStore(s);e._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const l=o.indexNames[a],u=o.index(l).keyPath,d=typeof u=="string"?u:"["+my(u).join("+")+"]";if(t[s]){const c=t[s].idxByName[d];c&&(c.name=l,delete t[s].idxByName[d],t[s].idxByName[l]=c)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&mt.WorkerGlobalScope&&mt instanceof mt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class o${_parseStoresSpec(t,r){tr(t).forEach(n=>{if(t[n]!==null){var i=t[n].split(",").map((o,a)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Sx(l,u||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),$r(u),a===0)}),s=i.shift();if(s.multi)throw new be.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new be.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new be.Schema("Index must have a name and cannot be an empty string")}),r[n]=u3(n,s,i)}})}stores(t){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?ln(this._cfg.storesSource,t):t;const n=r._versions,i={};let s={};return n.forEach(o=>{ln(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),r._dbSchema=s,Ox(r,[r._allTables,r,r.Transaction.prototype]),jy(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],tr(s),s),r._storeNames=tr(s),this}upgrade(t){return this._cfg.contentUpgrade=ix(this._cfg.contentUpgrade||tt,t),this}}function Ax(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new wl(Iy,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function Lx(e){return e&&typeof e.databases=="function"}function Px(e){return ra(function(){return he.letThrough=!0,e()})}function a$(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function l$(e){const t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?hr(t.dbOpenError):e);as&&(t.openCanceller._stackHolder=pl()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const n=t.openCanceller;function i(){if(t.openCanceller!==n)throw new be.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,o=null,a=!1;return ne.race([n,(typeof navigator>"u"?ne.resolve():a$()).then(()=>new ne((l,u)=>{if(i(),!r)throw new be.MissingAPI;const d=e.name,c=t.autoSchema?r.open(d):r.open(d,Math.round(10*e.verno));if(!c)throw new be.MissingAPI;c.onerror=ls(u),c.onblocked=xt(e._fireOnBlocked),c.onupgradeneeded=xt(f=>{if(o=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=pf,o.abort(),c.result.close();const g=r.deleteDatabase(d);g.onsuccess=g.onerror=xt(()=>{u(new be.NoSuchDatabase(`Database ${d} doesnt exist`))})}else{o.onerror=ls(u);var m=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;a=m<1,e._novip.idbdb=c.result,s$(e,m/10,o,u)}},u),c.onsuccess=xt(()=>{o=null;const f=e._novip.idbdb=c.result,m=my(f.objectStoreNames);if(m.length>0)try{const b=f.transaction((g=m).length===1?g[0]:g,"readonly");t.autoSchema?function({_novip:k},y,p){k.verno=y.version/10;const w=k._dbSchema=Ix(0,y,p);k._storeNames=my(y.objectStoreNames,0),jy(k,[k._allTables],tr(w),w)}(e,f,b):(Rx(e,e._dbSchema,b),function(k,y){const p=d3(Ix(0,k.idbdb,y),k._dbSchema);return!(p.add.length||p.change.some(w=>w.add.length||w.change.length))}(e,b)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ex(e,b)}catch{}var g;df.push(e),f.onversionchange=xt(b=>{t.vcFired=!0,e.on("versionchange").fire(b)}),f.onclose=xt(b=>{e.on("close").fire(b)}),a&&function({indexedDB:b,IDBKeyRange:k},y){!Lx(b)&&y!==Iy&&Ax(b,k).put({name:y}).catch(tt)}(e._deps,d),l()},u)}))]).then(()=>(i(),t.onReadyBeingFired=[],ne.resolve(Px(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(ix,tt);return t.onReadyBeingFired=[],ne.resolve(Px(()=>u(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{o&&o.abort()}catch{}return n===t.openCanceller&&e._close(),hr(l)}).finally(()=>{t.openComplete=!0,s()})}function jx(e){var t=s=>e.next(s),r=i(t),n=i(s=>e.throw(s));function i(s){return o=>{var a=s(o),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(r,n):$r(l)?Promise.all(l).then(r,n):r(l)}}return i(t)()}function u$(e,t,r){var n=arguments.length;if(n<2)throw new be.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];return r=i.pop(),[e,L5(i),r]}function h3(e,t,r,n,i){return ne.resolve().then(()=>{const s=he.transless||he,o=e._createTransaction(t,r,e._dbSchema,n),a={trans:o,transless:s};if(n)o.idbtrans=n.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(c){return c.name===nx.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>h3(e,t,r,null,i))):hr(c)}const l=ex(i);let u;l&&dc();const d=ne.follow(()=>{if(u=i.call(o,o),u)if(l){var c=Hs.bind(null,null);u.then(c,c)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=jx(u))},a);return(u&&typeof u.then=="function"?ne.resolve(u).then(c=>o.active?c:hr(new be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):d.then(()=>u)).then(c=>(n&&o._resolve(),o._completion.then(()=>c))).catch(c=>(o._reject(c),hr(c)))})}function My(e,t,r){const n=$r(e)?e.slice():[e];for(let i=0;i<r;++i)n.push(t);return n}const c$={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const r=e.table(t),{schema:n}=r,i={},s=[];function o(u,d,c){const f=yf(u),m=i[f]=i[f]||[],g=u==null?0:typeof u=="string"?1:u.length,b=d>0,k={...c,isVirtual:b,keyTail:d,keyLength:g,extractKey:_x(u),unique:!b&&c.unique};return m.push(k),k.isPrimaryKey||s.push(k),g>1&&o(g===2?u[0]:u.slice(0,g-1),d+1,c),m.sort((y,p)=>y.keyTail-p.keyTail),k}const a=o(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[a];for(const u of n.indexes)o(u.keyPath,0,u);function l(u){const d=u.query.index;return d.isVirtual?{...u,query:{index:d,range:(c=u.query.range,f=d.keyTail,{type:c.type===1?2:c.type,lower:My(c.lower,c.lowerOpen?e.MAX_KEY:e.MIN_KEY,f),lowerOpen:!0,upper:My(c.upper,c.upperOpen?e.MIN_KEY:e.MAX_KEY,f),upperOpen:!0})}}:u;var c,f}return{...r,schema:{...n,primaryKey:a,indexes:s,getIndexByKeyPath:function(u){const d=i[yf(u)];return d&&d[0]}},count:u=>r.count(l(u)),query:u=>r.query(l(u)),openCursor(u){const{keyTail:d,isVirtual:c,keyLength:f}=u.query.index;return c?r.openCursor(l(u)).then(m=>m&&function(g){return Object.create(g,{continue:{value:function(b){b!=null?g.continue(My(b,u.reverse?e.MAX_KEY:e.MIN_KEY,d)):u.unique?g.continue(g.key.slice(0,f).concat(u.reverse?e.MIN_KEY:e.MAX_KEY,d)):g.continue()}},continuePrimaryKey:{value(b,k){g.continuePrimaryKey(My(b,e.MAX_KEY,d),k)}},primaryKey:{get:()=>g.primaryKey},key:{get(){const b=g.key;return f===1?b[0]:b.slice(0,f)}},value:{get:()=>g.value}})}(m)):r.openCursor(u)}}}}}};function Mx(e,t,r,n){return r=r||{},n=n||"",tr(e).forEach(i=>{if(Mn(t,i)){var s=e[i],o=t[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=Yk(s);a!==Yk(o)?r[n+i]=t[i]:a==="Object"?Mx(s,o,r,n+i+"."):s!==o&&(r[n+i]=t[i])}else s!==o&&(r[n+i]=t[i])}else r[n+i]=void 0}),tr(t).forEach(i=>{Mn(e,i)||(r[n+i]=t[i])}),r}const d$={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const r=e.table(t),{primaryKey:n}=r.schema;return{...r,mutate(i){const s=he.trans,{deleting:o,creating:a,updating:l}=s.table(t).hook;switch(i.type){case"add":if(a.fire===tt)break;return s._promise("readwrite",()=>u(i),!0);case"put":if(a.fire===tt&&l.fire===tt)break;return s._promise("readwrite",()=>u(i),!0);case"delete":if(o.fire===tt)break;return s._promise("readwrite",()=>u(i),!0);case"deleteRange":if(o.fire===tt)break;return s._promise("readwrite",()=>function(c){return d(c.trans,c.range,1e4)}(i),!0)}return r.mutate(i);function u(c){const f=he.trans,m=c.keys||function(g,b){return b.type==="delete"?b.keys:b.keys||b.values.map(g.extractKey)}(n,c);if(!m)throw new Error("Keys missing");return(c=c.type==="add"||c.type==="put"?{...c,keys:m}:{...c}).type!=="delete"&&(c.values=[...c.values]),c.keys&&(c.keys=[...c.keys]),function(g,b,k){return b.type==="add"?Promise.resolve([]):g.getMany({trans:b.trans,keys:k,cache:"immutable"})}(r,c,m).then(g=>{const b=m.map((k,y)=>{const p=g[y],w={onerror:null,onsuccess:null};if(c.type==="delete")o.fire.call(w,k,p,f);else if(c.type==="add"||p===void 0){const x=a.fire.call(w,k,c.values[y],f);k==null&&x!=null&&(k=x,c.keys[y]=k,n.outbound||Oi(c.values[y],n.keyPath,k))}else{const x=Mx(p,c.values[y]),_=l.fire.call(w,x,k,p,f);if(_){const E=c.values[y];Object.keys(_).forEach(S=>{Mn(E,S)?E[S]=_[S]:Oi(E,S,_[S])})}}return w});return r.mutate(c).then(({failures:k,results:y,numFailures:p,lastResult:w})=>{for(let x=0;x<m.length;++x){const _=y?y[x]:m[x],E=b[x];_==null?E.onerror&&E.onerror(k[x]):E.onsuccess&&E.onsuccess(c.type==="put"&&g[x]?c.values[x]:_)}return{failures:k,results:y,numFailures:p,lastResult:w}}).catch(k=>(b.forEach(y=>y.onerror&&y.onerror(k)),Promise.reject(k)))})}function d(c,f,m){return r.query({trans:c,values:!1,query:{index:n,range:f},limit:m}).then(({result:g})=>u({type:"delete",keys:g,trans:c}).then(b=>b.numFailures>0?Promise.reject(b.failures[0]):g.length<m?{failures:[],numFailures:0,lastResult:void 0}:d(c,{...f,lower:g[g.length-1],lowerOpen:!0},m)))}}}}})};function f3(e,t,r){try{if(!t||t.keys.length<e.length)return null;const n=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)un(t.keys[i],e[s])===0&&(n.push(r?rf(t.values[i]):t.values[i]),++s);return n.length===e.length?n:null}catch{return null}}const h$={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const i=f3(n.keys,n.trans._cache,n.cache==="clone");return i?ne.resolve(i):r.getMany(n).then(s=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?rf(s):s},s))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function Fx(e){return!("from"in e)}const Zs=function(e,t){if(!this){const r=new Zs;return e&&"d"in e&&ln(r,e),r}ln(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function bf(e,t,r){const n=un(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(Fx(e))return ln(e,{from:t,to:r,d:1});const i=e.l,s=e.r;if(un(r,e.from)<0)return i?bf(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null},p3(e);if(un(t,e.to)>0)return s?bf(s,t,r):e.r={from:t,to:r,d:1,l:null,r:null},p3(e);un(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),un(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;i&&!e.l&&Fy(e,i),s&&o&&Fy(e,s)}function Fy(e,t){Fx(t)||function r(n,{from:i,to:s,l:o,r:a}){bf(n,i,s),o&&r(n,o),a&&r(n,a)}(e,t)}function f$(e,t){const r=Dx(t);let n=r.next();if(n.done)return!1;let i=n.value;const s=Dx(e);let o=s.next(i.from),a=o.value;for(;!n.done&&!o.done;){if(un(a.from,i.to)<=0&&un(a.to,i.from)>=0)return!0;un(i.from,a.from)<0?i=(n=r.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function Dx(e){let t=Fx(e)?null:{s:0,n:e};return{next(r){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&un(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||un(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function p3(e){var t,r;const n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...e},a=e[i];e.from=a.from,e.to=a.to,e[i]=a[i],o[i]=a[s],e[s]=o,o.d=m3(o)}e.d=m3(e)}function m3({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}oc(Zs.prototype,{add(e){return Fy(this,e),this},addKey(e){return bf(this,e,e),this},addKeys(e){return e.forEach(t=>bf(this,t,t)),this},[Xk](){return Dx(this)}});const p$={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,r=new Zs(e.MIN_KEY,e.MAX_KEY);return{...e,table:n=>{const i=e.table(n),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:l}=o,u={...i,mutate:f=>{const m=f.trans,g=m.mutatedParts||(m.mutatedParts={}),b=E=>{const S=`idb://${t}/${n}/${E}`;return g[S]||(g[S]=new Zs)},k=b(""),y=b(":dels"),{type:p}=f;let[w,x]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[];const _=f.trans._cache;return i.mutate(f).then(E=>{if($r(w)){p!=="delete"&&(w=E.results),k.addKeys(w);const S=f3(w,_);S||p==="add"||y.addKeys(w),(S||x)&&function(R,T,I,M){function L(V){const q=R(V.name||"");function ie(G){return G!=null?V.extractKey(G):null}const ue=G=>V.multiEntry&&$r(G)?G.forEach(D=>q.addKey(D)):q.addKey(G);(I||M).forEach((G,D)=>{const j=I&&ie(I[D]),Q=M&&ie(M[D]);un(j,Q)!==0&&(j!=null&&ue(j),Q!=null&&ue(Q))})}T.indexes.forEach(L)}(b,s,S,x)}else if(w){const S={from:w.lower,to:w.upper};y.add(S),k.add(S)}else k.add(r),y.add(r),s.indexes.forEach(S=>b(S.name).add(r));return E})}},d=({query:{index:f,range:m}})=>{var g,b;return[f,new Zs((g=m.lower)!==null&&g!==void 0?g:e.MIN_KEY,(b=m.upper)!==null&&b!==void 0?b:e.MAX_KEY)]},c={get:f=>[o,new Zs(f.key)],getMany:f=>[o,new Zs().addKeys(f.keys)],count:d,query:d,openCursor:d};return tr(c).forEach(f=>{u[f]=function(m){const{subscr:g}=he;if(g){const b=x=>{const _=`idb://${t}/${n}/${x}`;return g[_]||(g[_]=new Zs)},k=b(""),y=b(":dels"),[p,w]=c[f](m);if(b(p.name||"").add(w),!p.isPrimaryKey){if(f!=="count"){const x=f==="query"&&l&&m.values&&i.query({...m,values:!1});return i[f].apply(this,arguments).then(_=>{if(f==="query"){if(l&&m.values)return x.then(({result:S})=>(k.addKeys(S),_));const E=m.values?_.result.map(a):_.result;m.values?k.addKeys(E):y.addKeys(E)}else if(f==="openCursor"){const E=_,S=m.values;return E&&Object.create(E,{key:{get:()=>(y.addKey(E.primaryKey),E.key)},primaryKey:{get(){const R=E.primaryKey;return y.addKey(R),R}},value:{get:()=>(S&&k.addKey(E.primaryKey),E.value)}})}return _})}y.add(r)}}return i[f].apply(this,arguments)}}),u}}}};class wl{constructor(t,r){this._middlewares={},this.verno=0;const n=wl.dependencies;this._options=r={addons:wl.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:i}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:tt,dbReadyPromise:null,cancelOpen:tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new ne(a=>{s.dbReadyResolve=a}),s.openCanceller=new ne((a,l)=>{s.cancelOpen=l}),this._state=s,this.name=t,this.on=hf(this,"populate","blocked","versionchange","close",{ready:[ix,tt]}),this.on.ready.subscribe=T5(this.on.ready.subscribe,a=>(l,u)=>{wl.vip(()=>{const d=this._state;if(d.openComplete)d.dbOpenError||ne.resolve().then(l),u&&a(l);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(l),u&&a(l);else{a(l);const c=this;u||a(function f(){c.on.ready.unsubscribe(l),c.on.ready.unsubscribe(f)})}})}),this.Collection=(o=this,ff(GU.prototype,function(a,l){this.db=o;let u=t3,d=null;if(l)try{u=l()}catch(g){d=g}const c=a._ctx,f=c.table,m=f.hook.reading.fire;this._ctx={table:f,index:c.index,isPrimKey:!c.index||f.schema.primKey.keyPath&&c.index===f.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:d,or:c.or,valueMapper:m!==sf?m:null}})),this.Table=function(a){return ff(ZU.prototype,function(l,u,d){this.db=a,this._tx=d,this.name=l,this.schema=u,this.hook=a._allTables[l]?a._allTables[l].hook:hf(null,{creating:[DU,tt],reading:[FU,sf],updating:[WU,tt],deleting:[BU,tt]})})}(this),this.Transaction=function(a){return ff(t$.prototype,function(l,u,d,c,f){this.db=a,this.mode=l,this.storeNames=u,this.schema=d,this.chromeTransactionDurability=c,this.idbtrans=null,this.on=hf(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ne((m,g)=>{this._resolve=m,this._reject=g}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},m=>{var g=this.active;return this.active=!1,this.on.error.fire(m),this.parent?this.parent._reject(m):g&&this.idbtrans&&this.idbtrans.abort(),hr(m)})})}(this),this.Version=function(a){return ff(o$.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return ff(a3.prototype,function(l,u,d){this.db=a,this._ctx={table:l,index:u===":id"?null:u,or:d};const c=a._deps.indexedDB;if(!c)throw new be.MissingAPI;this._cmp=this._ascending=c.cmp.bind(c),this._descending=(f,m)=>c.cmp(m,f),this._max=(f,m)=>c.cmp(f,m)>0?f:m,this._min=(f,m)=>c.cmp(f,m)<0?f:m,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=gf(r.IDBKeyRange),this._createTransaction=(a,l,u,d)=>new this.Transaction(a,l,u,this._options.chromeTransactionDurability,d),this._fireOnBlocked=a=>{this.on("blocked").fire(a),df.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(c$),this.use(d$),this.use(p$),this.use(h$),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new be.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const r=this._versions;var n=r.filter(i=>i._cfg.version===t)[0];return n||(n=new this.Version(t),r.push(n),r.sort(i$),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(t){return this.idbdb&&(this._state.openComplete||he.letThrough||this._vip)?t():new ne((r,n)=>{if(this._state.openComplete)return n(new be.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new be.DatabaseClosed);this.open().catch(tt)}this._state.dbReadyPromise.then(r,n)}).then(t)}use({stack:t,create:r,level:n,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:r,level:n??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:t,name:r,create:n}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>n?i.create!==n:!!r&&i.name!==r)),this}open(){return l$(this)}_close(){const t=this._state,r=df.indexOf(this);if(r>=0&&df.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new ne(n=>{t.dbReadyResolve=n}),t.openCanceller=new ne((n,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new be.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,r=this._state;return new ne((n,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=xt(()=>{(function({indexedDB:a,IDBKeyRange:l},u){!Lx(a)&&u!==Iy&&Ax(a,l).delete(u).catch(tt)})(this._deps,this.name),n()}),o.onerror=ls(i),o.onblocked=this._fireOnBlocked};if(t)throw new be.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return tr(this._allTables).map(t=>this._allTables[t])}transaction(){const t=u$.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,r,n){let i=he.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let o,a;t=t.replace("!","").replace("?","");try{if(a=r.map(u=>{var d=u instanceof this.Table?u.name:u;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===vx)o=vx;else{if(t!="rw"&&t!=wx)throw new be.InvalidArgument("Invalid transaction mode: "+t);o=wx}if(i){if(i.mode===vx&&o===wx){if(!s)throw new be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!s)throw new be.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(d,c)=>{c(u)}):hr(u)}const l=h3.bind(null,this,o,a,i,n);return i?i._promise(o,l,"lock"):he.trans?hc(he.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!Mn(this._allTables,t))throw new be.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const m$=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class g${constructor(t){this._subscribe=t}subscribe(t,r,n){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:r,complete:n})}[m$](){return this}}function g3(e,t){return tr(t).forEach(r=>{Fy(e[r]||(e[r]=new Zs),t[r])}),e}function y3(e){let t,r=!1;const n=new g$(i=>{const s=ex(e);let o=!1,a={},l={};const u={get closed(){return o},unsubscribe:()=>{o=!0,oa.storagemutated.unsubscribe(m)}};i.start&&i.start(u);let d=!1,c=!1;function f(){return tr(l).some(b=>a[b]&&f$(a[b],l[b]))}const m=b=>{g3(a,b),f()&&g()},g=()=>{if(d||o)return;a={};const b={},k=function(y){s&&dc();const p=()=>ra(e,{subscr:y,trans:null}),w=he.trans?hc(he.transless,p):p();return s&&w.then(Hs,Hs),w}(b);c||(oa(mf,m),c=!0),d=!0,Promise.resolve(k).then(y=>{r=!0,t=y,d=!1,o||(f()?g():(a={},l=b,i.next&&i.next(y)))},y=>{d=!1,r=!1,i.error&&i.error(y),u.unsubscribe()})};return g(),u});return n.hasValue=()=>r,n.getValue=()=>t,n}let Bx;try{Bx={indexedDB:mt.indexedDB||mt.mozIndexedDB||mt.webkitIndexedDB||mt.msIndexedDB,IDBKeyRange:mt.IDBKeyRange||mt.webkitIDBKeyRange}}catch{Bx={indexedDB:null,IDBKeyRange:null}}const kl=wl;function Dy(e){let t=Gs;try{Gs=!0,oa.storagemutated.fire(e)}finally{Gs=t}}oc(kl,{...yy,delete:e=>new kl(e,{addons:[]}).delete(),exists:e=>new kl(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:r}){return Lx(t)?Promise.resolve(t.databases()).then(n=>n.map(i=>i.name).filter(i=>i!==Iy)):Ax(t,r).toCollection().primaryKeys()}(kl.dependencies).then(e)}catch{return hr(new be.MissingAPI)}},defineClass:()=>function(e){ln(this,e)},ignoreTransaction:e=>he.trans?hc(he.transless,e):e(),vip:Px,async:function(e){return function(){try{var t=jx(e.apply(this,arguments));return t&&typeof t.then=="function"?t:ne.resolve(t)}catch(r){return hr(r)}}},spawn:function(e,t,r){try{var n=jx(e.apply(r,t||[]));return n&&typeof n.then=="function"?n:ne.resolve(n)}catch(i){return hr(i)}},currentTransaction:{get:()=>he.trans||null},waitFor:function(e,t){const r=ne.resolve(typeof e=="function"?kl.ignoreTransaction(e):e).timeout(t||6e4);return he.trans?he.trans.waitFor(r):r},Promise:ne,debug:{get:()=>as,set:e=>{j5(e,e==="dexie"?()=>!0:e3)}},derive:ac,extend:ln,props:oc,override:T5,Events:hf,on:oa,liveQuery:y3,extendObservabilitySet:g3,getByKeyPath:Ks,setByKeyPath:Oi,delByKeyPath:function(e,t){typeof t=="string"?Oi(e,t,void 0):"length"in t&&[].map.call(t,function(r){Oi(e,r,void 0)})},shallowClone:A5,deepClone:rf,getObjectDiff:Mx,cmp:un,asap:I5,minKey:bx,addons:[],connections:df,errnames:nx,dependencies:Bx,semVer:Y5,version:Y5.split(".").map(e=>parseInt(e)).reduce((e,t,r)=>e+t/Math.pow(10,2*r))}),kl.maxKey=gf(kl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(oa(mf,e=>{if(!Gs){let t;Ty?(t=document.createEvent("CustomEvent"),t.initCustomEvent(sa,!0,!0,e)):t=new CustomEvent(sa,{detail:e}),Gs=!0,dispatchEvent(t),Gs=!1}}),addEventListener(sa,({detail:e})=>{Gs||Dy(e)}));let Gs=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(sa);typeof e.unref=="function"&&e.unref(),oa(mf,t=>{Gs||e.postMessage(t)}),e.onmessage=t=>{t.data&&Dy(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){oa(mf,t=>{try{Gs||(typeof localStorage<"u"&&localStorage.setItem(sa,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:sa,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===sa){const r=JSON.parse(t.newValue);r&&Dy(r.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===sa&&Dy(t.changedParts)})}ne.rejectionMapper=function(e,t){if(!e||e instanceof uc||e instanceof TypeError||e instanceof SyntaxError||!e.name||!B5[e.name])return e;var r=new B5[e.name](t||e.message,e);return"stack"in e&&zs(r,"stack",{get:function(){return this.inner.stack}}),r},j5(as,e3);function y$(e,t,r){var n,i;typeof e=="function"?(n=t||[],i=r):(n=[],i=t);var s=ur.useRef({hasResult:!1,result:i,error:null}),o=ur.useReducer(function(u){return u+1},0);o[0];var a=o[1],l=ur.useMemo(function(){var u=typeof e=="function"?e():e;if(!u||typeof u.subscribe!="function")throw e===u?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof u.hasValue!="function"||u.hasValue()))if(typeof u.getValue=="function")s.current.result=u.getValue(),s.current.hasResult=!0;else{var d=u.subscribe(function(c){s.current.result=c,s.current.hasResult=!0});typeof d=="function"?d():d.unsubscribe()}return u},n);if(ur.useDebugValue(s.current.result),ur.useEffect(function(){var u=l.subscribe(function(d){var c=s.current;(c.error!==null||c.result!==d)&&(c.error=null,c.result=d,c.hasResult=!0,a())},function(d){var c=s.current;c.error!==d&&(c.error=d,a())});return typeof u=="function"?u:u.unsubscribe.bind(u)},n),s.current.error)throw s.current.error;return s.current.result}function b3(e,t,r){return y$(function(){return y3(e)},t||[],r)}const b$=""+new URL("bottle0b313f0a.svg",import.meta.url).href,Wx="-";function v$(e){const t=k$(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;function i(o){const a=o.split(Wx);return a[0]===""&&a.length!==1&&a.shift(),v3(a,t)||w$(o)}function s(o,a){const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function v3(e,t){var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?v3(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Wx);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId}const w3=/^\[(.+)\]$/;function w$(e){if(w3.test(e)){const t=w3.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function k$(e){const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return N$(Object.entries(e.classGroups),r).forEach(([i,s])=>{qx(s,n,i,t)}),n}function qx(e,t,r,n){e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:k3(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(x$(i)){qx(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{qx(o,k3(t,s),r,n)})})}function k3(e,t){let r=e;return t.split(Wx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function x$(e){return e.isThemeGetter}function N$(e,t){return t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[t+o,a])):s);return[r,i]}):e}function S$(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;function i(s,o){r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)}return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}}const x3="!";function _$(e){const t=e.separator,r=t.length===1,n=t[0],i=t.length;return function(s){const o=[];let a=0,l=0,u;for(let g=0;g<s.length;g++){let b=s[g];if(a===0){if(b===n&&(r||s.slice(g,g+i)===t)){o.push(s.slice(l,g)),l=g+i;continue}if(b==="/"){u=g;continue}}b==="["?a++:b==="]"&&a--}const d=o.length===0?s:s.substring(l),c=d.startsWith(x3),f=c?d.substring(1):d,m=u&&u>l?u-l:void 0;return{modifiers:o,hasImportantModifier:c,baseClassName:f,maybePostfixModifierPosition:m}}}function E$(e){if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t}function O$(e){return{cache:S$(e.cacheSize),splitModifiers:_$(e),...v$(e)}}const C$=/\s+/;function T$(e,t){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=new Set;return e.trim().split(C$).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=r(o);let c=n(d?u.substring(0,d):u),f=!!d;if(!c){if(!d)return{isTailwindClass:!1,originalClassName:o};if(c=n(u),!c)return{isTailwindClass:!1,originalClassName:o};f=!1}const m=E$(a).join(":");return{isTailwindClass:!0,modifierId:l?m+x3:m,classGroupId:c,originalClassName:o,hasPostfixModifier:f}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:u}=o,d=a+l;return s.has(d)?!1:(s.add(d),i(l,u).forEach(c=>s.add(a+c)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function I$(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=N3(t))&&(n&&(n+=" "),n+=r);return n}function N3(e){if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=N3(e[n]))&&(r&&(r+=" "),r+=t);return r}function R$(e,...t){let r,n,i,s=o;function o(l){const u=t.reduce((d,c)=>c(d),e());return r=O$(u),n=r.cache.get,i=r.cache.set,s=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=T$(l,r);return i(l,d),d}return function(){return s(I$.apply(null,arguments))}}function gt(e){const t=r=>r[e]||[];return t.isThemeGetter=!0,t}const S3=/^\[(?:([a-z-]+):)?(.+)\]$/i,A$=/^\d+\/\d+$/,L$=new Set(["px","full","screen"]),P$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,j$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M$=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,F$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ys(e){return xl(e)||L$.has(e)||A$.test(e)}function aa(e){return mc(e,"length",z$)}function xl(e){return!!e&&!Number.isNaN(Number(e))}function By(e){return mc(e,"number",xl)}function vf(e){return!!e&&Number.isInteger(Number(e))}function D$(e){return e.endsWith("%")&&xl(e.slice(0,-1))}function Ee(e){return S3.test(e)}function la(e){return P$.test(e)}const B$=new Set(["length","size","percentage"]);function W$(e){return mc(e,B$,_3)}function q$(e){return mc(e,"position",_3)}const U$=new Set(["image","url"]);function $$(e){return mc(e,U$,J$)}function V$(e){return mc(e,"",K$)}function wf(){return!0}function mc(e,t,r){const n=S3.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1}function z$(e){return j$.test(e)}function _3(){return!1}function K$(e){return M$.test(e)}function J$(e){return F$.test(e)}function H$(){const e=gt("colors"),t=gt("spacing"),r=gt("blur"),n=gt("brightness"),i=gt("borderColor"),s=gt("borderRadius"),o=gt("borderSpacing"),a=gt("borderWidth"),l=gt("contrast"),u=gt("grayscale"),d=gt("hueRotate"),c=gt("invert"),f=gt("gap"),m=gt("gradientColorStops"),g=gt("gradientColorStopPositions"),b=gt("inset"),k=gt("margin"),y=gt("opacity"),p=gt("padding"),w=gt("saturate"),x=gt("scale"),_=gt("sepia"),E=gt("skew"),S=gt("space"),R=gt("translate"),T=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ee,t],L=()=>[Ee,t],V=()=>["",Ys,aa],q=()=>["auto",xl,Ee],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],D=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Ee],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ve=()=>[xl,By],pe=()=>[xl,Ee];return{cacheSize:500,separator:":",theme:{colors:[wf],spacing:[Ys,aa],blur:["none","",la,Ee],brightness:ve(),borderColor:[e],borderRadius:["none","","full",la,Ee],borderSpacing:L(),borderWidth:V(),contrast:ve(),grayscale:j(),hueRotate:pe(),invert:j(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[D$,aa],inset:M(),margin:M(),opacity:ve(),padding:L(),saturate:ve(),scale:ve(),sepia:j(),skew:pe(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[la]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Ee]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vf,Ee]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",vf,Ee]}],"grid-cols":[{"grid-cols":[wf]}],"col-start-end":[{col:["auto",{span:["full",vf,Ee]},Ee]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[wf]}],"row-start-end":[{row:["auto",{span:[vf,Ee]},Ee]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[la]},la]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",la,aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",By]}],"font-family":[{font:[wf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",xl,By]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ys,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ys,aa]}],"underline-offset":[{"underline-offset":["auto",Ys,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),q$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",W$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ue()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[Ys,Ee]}],"outline-w":[{outline:[Ys,aa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ys,aa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",la,V$]}],"shadow-color":[{shadow:[wf]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":G()}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",la,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[c]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[vf,Ee]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ys,aa,By]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Q$=R$(H$),ua=(...e)=>Q$(Lk(e)),Z$=e=>typeof e=="string"?e.trim():e;function G$({className:e,...t}){return W.jsxs("span",{className:ua("relative block",e),children:[W.jsx("input",{...t,type:"checkbox",className:"peer block h-6 w-6 cursor-pointer appearance-none rounded border-2 border-amber-500 bg-transparent checked:border-amber-500"}),W.jsx("span",{className:"pointer-events-none absolute -top-px left-0 block h-full w-full scale-[80%] opacity-0 transition-opacity peer-checked:opacity-100",children:W.jsx(gU,{className:"inline-block text-amber-500"})})]})}const E3=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,O3=Lk,Y$=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return O3(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],c=s==null?void 0:s[u];if(d===null)return null;const f=E3(d)||E3(c);return i[u][f]}),a=r&&Object.entries(r).reduce((u,d)=>{let[c,f]=d;return f===void 0||(u[c]=f),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:c,className:f,...m}=d;return Object.entries(m).every(g=>{let[b,k]=g;return Array.isArray(k)?k.includes({...s,...a}[b]):{...s,...a}[b]===k})?[...u,c,f]:u},[]);return O3(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},X$=Y$("rounded-xl py-[1em] px-[1.5em] min-w-[5.5em] text-center font-bold text-sm",{variants:{variant:{default:"bg-amber-500 text-white",secondary:"bg-cyan-300 text-white",danger:"bg-rose-500 text-white",transparent:"text-neutral-700"}},defaultVariants:{variant:"default"}});function kf({className:e,children:t,variant:r,...n}){return W.jsx("button",{className:ua(X$({variant:r,className:e})),...n,children:t})}const e7=Z.forwardRef(({className:e,...t},r)=>W.jsx("input",{...t,ref:r,className:ua("rounded-l-xl border-2 border-amber-500 px-5 outline-none focus:placeholder-transparent",e)})),t7=""+new URL("shoppingf057a948.svg",import.meta.url).href;async function r7(){const e=await Ut.categories.add({name:"Fruits and vegetables"}),t=await Ut.categories.add({name:"Meat and fish"}),r=await Ut.categories.add({name:"Beverages"}),n=await Ut.items.bulkAdd([{categoryId:e,name:"Avocado",note:"The avocado (Persea americana) is a medium-sized, evergreen tree in the laurel family (Lauraceae). It is native to the Americas and was first domesticated in Mesoamerica more than 5,000 years ago"},{categoryId:e,name:"Banana",note:"Bananas are one of the most popular fruits worldwide. They are a good source of essential nutrients."},{categoryId:e,name:"Apple",note:"Apples are a rich source of antioxidants and dietary fiber."},{categoryId:e,name:"Orange",note:"Oranges are known for their high vitamin C content and citrusy flavor."},{categoryId:e,name:"Tomato",note:"Tomatoes are versatile and are used in various culinary dishes."},{categoryId:e,name:"Potato",note:"Potatoes are a staple food and are rich in carbohydrates."},{categoryId:e,name:"Onion",note:"Onions add flavor to many dishes and are a good source of vitamins."},{categoryId:e,name:"Garlic",note:"Garlic is known for its distinct flavor and potential health benefits."},{categoryId:e,name:"Cucumber",note:"Cucumbers are low in calories and a good source of hydration."},{categoryId:e,name:"Lettuce",note:"Lettuce is a leafy green vegetable commonly used in salads."},{categoryId:e,name:"Carrot",note:"Carrots are rich in beta-carotene and are good for eye health."},{categoryId:e,name:"Broccoli",note:"Broccoli is a nutritious vegetable with high fiber content."},{categoryId:e,name:"Grapes",note:"Grapes are sweet and packed with antioxidants."},{categoryId:e,name:"Strawberries",note:"Strawberries are delicious berries rich in vitamin C."},{categoryId:e,name:"Watermelon",note:"Watermelon is a hydrating and refreshing fruit."},{categoryId:e,name:"Mango",note:"Mangoes are tropical fruits with a sweet and juicy taste."},{categoryId:e,name:"Pineapple",note:"Pineapple is a tropical fruit known for its sweet and tangy flavor."},{categoryId:t,name:"Chicken leg box",note:"Chicken legs are a popular cut of poultry."},{categoryId:t,name:"Chicken breast",note:"Chicken breast is a lean source of protein."},{categoryId:t,name:"Salmon fillets",note:"Salmon is rich in omega-3 fatty acids and protein."},{categoryId:t,name:"Tuna steaks",note:"Tuna steaks are a nutritious and delicious seafood option."},{categoryId:t,name:"Shrimp",note:"Shrimp are versatile shellfish used in various recipes."},{categoryId:t,name:"Salmon burgers",note:"Salmon burgers are a tasty alternative to traditional beef burgers."},{categoryId:r,name:"Water",note:"Staying hydrated is essential for overall health."},{categoryId:r,name:"Coffee",note:"Coffee is a popular caffeinated beverage enjoyed worldwide."},{categoryId:r,name:"Tea",note:"Tea is a soothing and diverse beverage with various flavors."},{categoryId:r,name:"Orange juice",note:"Orange juice is a refreshing and vitamin C-rich drink."},{categoryId:r,name:"Soda",note:"Soda is a carbonated beverage with various flavors."},{categoryId:r,name:"Beer",note:"Beer is an alcoholic beverage enjoyed in many cultures."},{categoryId:r,name:"Wine",note:"Wine is a classic alcoholic beverage with a wide range of varieties."},{categoryId:r,name:"Milk",note:"Milk is a nutritious dairy product rich in calcium."},{categoryId:r,name:"Smoothies",note:"Smoothies are blended beverages made with fruits and other ingredients."}],{allKeys:!0}),i=1e3*60*60*24*30,s=await Ut.lists.bulkAdd([{name:"Grocery List",state:"cancelled",creationDate:Date.now()-i},{name:"Board game week 2",state:"completed",creationDate:Date.now()-i*1.5},{name:"Eero's farewall party",state:"completed",creationDate:Date.now()-i*.2},{state:"active",creationDate:Date.now()-i*.1}],{allKeys:!0});await Ut.purchases.bulkAdd([{listId:s[0],itemId:n[2],amount:2,isCompleted:!0},{listId:s[0],itemId:n[10],amount:3,isCompleted:!0},{listId:s[0],itemId:n[22],amount:1,isCompleted:!0},{listId:s[0],itemId:n[2],amount:2,isCompleted:!0},{listId:s[0],itemId:n[5],amount:1,isCompleted:!1},{listId:s[0],itemId:n[15],amount:2,isCompleted:!0},{listId:s[0],itemId:n[8],amount:1,isCompleted:!0},{listId:s[0],itemId:n[14],amount:2,isCompleted:!1},{listId:s[1],itemId:n[18],amount:4,isCompleted:!0},{listId:s[1],itemId:n[5],amount:1,isCompleted:!0},{listId:s[1],itemId:n[1],amount:3,isCompleted:!0},{listId:s[1],itemId:n[20],amount:2,isCompleted:!0},{listId:s[2],itemId:n[28],amount:4,isCompleted:!0},{listId:s[2],itemId:n[14],amount:2,isCompleted:!0},{listId:s[3],itemId:n[12],amount:2,isCompleted:!0},{listId:s[3],itemId:n[30],amount:1,isCompleted:!1},{listId:s[3],itemId:n[20],amount:3,isCompleted:!1},{listId:s[3],itemId:n[19],amount:1,isCompleted:!0},{listId:s[3],itemId:n[15],amount:2,isCompleted:!1},{listId:s[3],itemId:n[27],amount:2,isCompleted:!0}])}class n7 extends wl{constructor(){super("ShoppingifyDB");N(this,"categories");N(this,"items");N(this,"lists");N(this,"purchases");this.version(1).stores({categories:"++id",items:"++id, categoryId",lists:"++id, state",purchases:"++id, itemId, listId"})}async getShoppingList(){return this.transaction("r",this.lists,this.items,this.categories,this.purchases,async()=>{const r=await this.lists.get({state:"active"});if(!r)throw Error("no active list");const n=await this.purchases.where({listId:r.id}).toArray(),i=await Promise.all(n.map(o=>this.getPopulatedPurchase(o))),s={};return i.forEach(o=>{const a=o.category.name;s[a]||(s[a]=[]),s[a].push(o)}),{purchasesByCategories:s,activeList:r}})}async getPopulatedPurchase(r){return Ut.transaction("r",this.lists,this.items,this.purchases,this.categories,async()=>{const n=await this.items.get(r.itemId);if(!n)throw Error("no item found");const i=await this.categories.get(n.categoryId);if(!i)throw Error("no category found");const s=await this.lists.get(r.listId);if(!s)throw Error("no list found");return{...r,category:i,item:n,list:s}})}async changeListState(r,n){return Ut.transaction("rw",this.lists,async()=>{await Ut.lists.update(r,{state:n}),await Ut.lists.add({creationDate:Date.now(),state:"active"})})}}const Ut=new n7;Ut.on("populate",r7);function i7({isVisible:e,onConfirm:t,onAbort:r}){return W.jsx("div",{className:ua(e?"opacity-100":"pointer-events-none opacity-0","fixed z-50 flex h-full items-center justify-center p-4 backdrop-brightness-75 transition"),onClick:n=>{n.target===n.currentTarget&&r()},children:W.jsxs("div",{className:"relative max-w-[500px] rounded-3xl bg-white p-7",children:[W.jsx("button",{className:"absolute right-2 top-2",onClick:r,children:W.jsx(yU,{})}),W.jsx("h2",{children:"Are you sure you want to cancel this list?"}),W.jsxs("div",{className:"flex justify-end gap-2",children:[W.jsx(kf,{variant:"transparent",onClick:r,children:"cancel"}),W.jsx(kf,{variant:"danger",onClick:t,children:"Yes"})]})]})})}function s7({purchasesByCategories:e,isEditMode:t}){const[r,n]=Z.useState(null);return!t&&r!==null&&n(null),W.jsx("ul",{children:Object.entries(e).map(([i,s])=>W.jsxs("li",{className:"mb-10 last:mb-0",children:[W.jsx("h2",{className:"text-sm text-zinc-500",children:i}),W.jsx("ul",{children:s.map(o=>W.jsxs("li",{className:"mt-2 flex items-center justify-between",children:[t?W.jsx("span",{className:"text-sm",children:o.item.name}):W.jsxs("label",{className:"flex cursor-pointer items-center",children:[W.jsx(G$,{className:"peer mr-3",checked:o.isCompleted,onChange:a=>Ut.purchases.update(o.id,{isCompleted:a.target.checked})}),W.jsx("span",{className:"text-sm peer-has-[:checked]:line-through",children:o.item.name})]}),o.id===r?W.jsxs("div",{className:"flex rounded-xl bg-white",children:[W.jsx("button",{className:"mr-2 rounded-xl bg-amber-500 px-[10px] pr-2",children:W.jsx(vU,{className:"text-white",onClick:()=>Ut.purchases.delete(o.id)})}),W.jsx("button",{children:W.jsx(xU,{className:"text-amber-500",onClick:()=>o.amount>1?Ut.purchases.update(o,{amount:o.amount-1}):Ut.purchases.delete(o.id)})}),W.jsx(C3,{className:"mx-1 my-2 cursor-pointer self-center",purchase:o,onClick:()=>t&&n(null)}),W.jsx("button",{className:"pr-1",children:W.jsx(mU,{className:"text-amber-500",onClick:()=>Ut.purchases.update(o,{amount:o.amount+1})})})]}):W.jsx(C3,{className:ua({"cursor-pointer":t},"my-2"),purchase:o,onClick:()=>t&&n(o.id)})]},o.id))})]},i))})}function C3({purchase:e,onClick:t,className:r}){return W.jsxs("span",{onClick:t,className:ua("min-w-[68px] rounded-3xl border-2 border-amber-500 text-center text-xs leading-8 text-amber-500",r),children:[e.amount," pcs"]})}var xf=e=>e.type==="checkbox",gc=e=>e instanceof Date,cn=e=>e==null;const T3=e=>typeof e=="object";var fr=e=>!cn(e)&&!Array.isArray(e)&&T3(e)&&!gc(e),o7=e=>fr(e)&&e.target?xf(e.target)?e.target.checked:e.target.value:e,a7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,l7=(e,t)=>e.has(a7(t)),u7=e=>{const t=e.constructor&&e.constructor.prototype;return fr(t)&&t.hasOwnProperty("isPrototypeOf")},Ux=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xs(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ux&&(e instanceof Blob||e instanceof FileList))&&(r||fr(e)))if(t=r?[]:{},!r&&!u7(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Xs(e[n]));else return e;return t}var Nf=e=>Array.isArray(e)?e.filter(Boolean):[],$t=e=>e===void 0,se=(e,t,r)=>{if(!t||!fr(e))return r;const n=Nf(t.split(/[,[\].]+?/)).reduce((i,s)=>cn(i)?i:i[s],e);return $t(n)||n===e?$t(e[t])?r:e[t]:n},eo=e=>typeof e=="boolean";const I3={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},to={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ur.createContext(null);var c7=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Ci.all&&(t._proxyFormState[o]=!n||Ci.all),r&&(r[o]=!0),e[o]}});return i},si=e=>fr(e)&&!Object.keys(e).length,d7=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return si(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||Ci.all))},$x=e=>Array.isArray(e)?e:[e];function h7(e){const t=ur.useRef(e);t.current=e,ur.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var us=e=>typeof e=="string",f7=(e,t,r,n,i)=>us(e)?(n&&t.watch.add(e),se(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),se(r,s))):(n&&(t.watchAll=!0),r),Vx=e=>/^\w*$/.test(e),R3=e=>Nf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(e,t,r)=>{let n=-1;const i=Vx(t)?[t]:R3(t),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let l=r;if(n!==o){const u=e[a];l=fr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}e[a]=l,e=e[a]}return e},A3=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},L3=e=>({isOnSubmit:!e||e===Ci.onSubmit,isOnBlur:e===Ci.onBlur,isOnChange:e===Ci.onChange,isOnAll:e===Ci.all,isOnTouch:e===Ci.onTouched}),P3=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Sf=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=se(e,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n||o.ref&&t(o.ref,o.name)&&!n)break;Sf(a,t)}else fr(a)&&Sf(a,t)}}};var p7=(e,t,r)=>{const n=Nf(se(e,r));return rt(n,"root",t[r]),rt(e,r,n),e},zx=e=>e.type==="file",ca=e=>typeof e=="function",Wy=e=>{if(!Ux)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},qy=e=>us(e),Kx=e=>e.type==="radio",Uy=e=>e instanceof RegExp;const j3={value:!1,isValid:!1},M3={value:!0,isValid:!0};var F3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$t(e[0].attributes.value)?$t(e[0].value)||e[0].value===""?M3:{value:e[0].value,isValid:!0}:M3:j3}return j3};const D3={isValid:!1,value:null};var B3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,D3):D3;function W3(e,t,r="validate"){if(qy(e)||Array.isArray(e)&&e.every(qy)||eo(e)&&!e)return{type:r,message:qy(e)?e:"",ref:t}}var yc=e=>fr(e)&&!Uy(e)?e:{value:e,message:""},q3=async(e,t,r,n,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:d,max:c,pattern:f,validate:m,name:g,valueAsNumber:b,mount:k,disabled:y}=e._f,p=se(t,g);if(!k||y)return{};const w=o?o[0]:s,x=L=>{n&&w.reportValidity&&(w.setCustomValidity(eo(L)?"":L||""),w.reportValidity())},_={},E=Kx(s),S=xf(s),R=E||S,T=(b||zx(s))&&$t(s.value)&&$t(p)||Wy(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,I=A3.bind(null,g,r,_),M=(L,V,q,ie=to.maxLength,ue=to.minLength)=>{const G=L?V:q;_[g]={type:L?ie:ue,message:G,ref:s,...I(L?ie:ue,G)}};if(i?!Array.isArray(p)||!p.length:a&&(!R&&(T||cn(p))||eo(p)&&!p||S&&!F3(o).isValid||E&&!B3(o).isValid)){const{value:L,message:V}=qy(a)?{value:!!a,message:a}:yc(a);if(L&&(_[g]={type:to.required,message:V,ref:w,...I(to.required,V)},!r))return x(V),_}if(!T&&(!cn(d)||!cn(c))){let L,V;const q=yc(c),ie=yc(d);if(!cn(p)&&!isNaN(p)){const ue=s.valueAsNumber||p&&+p;cn(q.value)||(L=ue>q.value),cn(ie.value)||(V=ue<ie.value)}else{const ue=s.valueAsDate||new Date(p),G=Q=>new Date(new Date().toDateString()+" "+Q),D=s.type=="time",j=s.type=="week";us(q.value)&&p&&(L=D?G(p)>G(q.value):j?p>q.value:ue>new Date(q.value)),us(ie.value)&&p&&(V=D?G(p)<G(ie.value):j?p<ie.value:ue<new Date(ie.value))}if((L||V)&&(M(!!L,q.message,ie.message,to.max,to.min),!r))return x(_[g].message),_}if((l||u)&&!T&&(us(p)||i&&Array.isArray(p))){const L=yc(l),V=yc(u),q=!cn(L.value)&&p.length>+L.value,ie=!cn(V.value)&&p.length<+V.value;if((q||ie)&&(M(q,L.message,V.message),!r))return x(_[g].message),_}if(f&&!T&&us(p)){const{value:L,message:V}=yc(f);if(Uy(L)&&!p.match(L)&&(_[g]={type:to.pattern,message:V,ref:s,...I(to.pattern,V)},!r))return x(V),_}if(m){if(ca(m)){const L=await m(p,t),V=W3(L,w);if(V&&(_[g]={...V,...I(to.validate,V.message)},!r))return x(V.message),_}else if(fr(m)){let L={};for(const V in m){if(!si(L)&&!r)break;const q=W3(await m[V](p,t),w,V);q&&(L={...q,...I(V,q.message)},x(q.message),r&&(_[g]=L))}if(!si(L)&&(_[g]={ref:w,...L},!r))return _}}return x(!0),_};function m7(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=$t(e)?n++:e[t[n++]];return e}function g7(e){for(const t in e)if(e.hasOwnProperty(t)&&!$t(e[t]))return!1;return!0}function Tr(e,t){const r=Array.isArray(t)?t:Vx(t)?[t]:R3(t),n=r.length===1?e:m7(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(fr(n)&&si(n)||Array.isArray(n)&&g7(n))&&Tr(e,r.slice(0,-1)),e}var Jx=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(r=>r!==t)}}),unsubscribe:()=>{e=[]}}},$y=e=>cn(e)||!T3(e);function Nl(e,t){if($y(e)||$y(t))return e===t;if(gc(e)&&gc(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(gc(s)&&gc(o)||fr(s)&&fr(o)||Array.isArray(s)&&Array.isArray(o)?!Nl(s,o):s!==o)return!1}}return!0}var U3=e=>e.type==="select-multiple",y7=e=>Kx(e)||xf(e),Hx=e=>Wy(e)&&e.isConnected,$3=e=>{for(const t in e)if(ca(e[t]))return!0;return!1};function Vy(e,t={}){const r=Array.isArray(e);if(fr(e)||r)for(const n in e)Array.isArray(e[n])||fr(e[n])&&!$3(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Vy(e[n],t[n])):cn(e[n])||(t[n]=!0);return t}function V3(e,t,r){const n=Array.isArray(e);if(fr(e)||n)for(const i in e)Array.isArray(e[i])||fr(e[i])&&!$3(e[i])?$t(t)||$y(r[i])?r[i]=Array.isArray(e[i])?Vy(e[i],[]):{...Vy(e[i])}:V3(e[i],cn(t)?{}:t[i],r[i]):r[i]=!Nl(e[i],t[i]);return r}var Qx=(e,t)=>V3(e,t,Vy(t)),z3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>$t(e)?e:t?e===""?NaN:e&&+e:r&&us(e)?new Date(e):n?n(e):e;function Zx(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return zx(t)?t.files:Kx(t)?B3(e.refs).value:U3(t)?[...t.selectedOptions].map(({value:r})=>r):xf(t)?F3(e.refs).value:z3($t(t.value)?e.ref.value:t.value,e)}var b7=(e,t,r,n)=>{const i={};for(const s of e){const o=se(t,s);o&&rt(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},_f=e=>$t(e)?e:Uy(e)?e.source:fr(e)?Uy(e.value)?e.value.source:e.value:e,v7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function K3(e,t,r){const n=se(e,r);if(n||Vx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=se(t,s),a=se(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:r}}var w7=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,k7=(e,t)=>!Nf(se(e,t)).length&&Tr(e,t);const x7={mode:Ci.onSubmit,reValidateMode:Ci.onChange,shouldFocusError:!0};function N7(e={},t){let r={...x7,...e},n={submitCount:0,isDirty:!1,isLoading:ca(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:!1},i={},s=fr(r.defaultValues)||fr(r.values)?Xs(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:Xs(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const c={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Jx(),array:Jx(),state:Jx()},m=e.resetOptions&&e.resetOptions.keepDirtyValues,g=L3(r.mode),b=L3(r.reValidateMode),k=r.criteriaMode===Ci.all,y=O=>P=>{clearTimeout(d),d=setTimeout(O,P)},p=async O=>{if(c.isValid||O){const P=r.resolver?si((await I()).errors):await L(i,!0);P!==n.isValid&&f.state.next({isValid:P})}},w=O=>c.isValidating&&f.state.next({isValidating:O}),x=(O,P=[],F,ae,Y=!0,H=!0)=>{if(ae&&F){if(a.action=!0,H&&Array.isArray(se(i,O))){const me=F(se(i,O),ae.argA,ae.argB);Y&&rt(i,O,me)}if(H&&Array.isArray(se(n.errors,O))){const me=F(se(n.errors,O),ae.argA,ae.argB);Y&&rt(n.errors,O,me),k7(n.errors,O)}if(c.touchedFields&&H&&Array.isArray(se(n.touchedFields,O))){const me=F(se(n.touchedFields,O),ae.argA,ae.argB);Y&&rt(n.touchedFields,O,me)}c.dirtyFields&&(n.dirtyFields=Qx(s,o)),f.state.next({name:O,isDirty:q(O,P),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else rt(o,O,P)},_=(O,P)=>{rt(n.errors,O,P),f.state.next({errors:n.errors})},E=O=>{n.errors=O,f.state.next({errors:n.errors,isValid:!1})},S=(O,P,F,ae)=>{const Y=se(i,O);if(Y){const H=se(o,O,$t(F)?se(s,O):F);$t(H)||ae&&ae.defaultChecked||P?rt(o,O,P?H:Zx(Y._f)):G(O,H),a.mount&&p()}},R=(O,P,F,ae,Y)=>{let H=!1,me=!1;const ht={name:O},Nr=!!(se(i,O)&&se(i,O)._f.disabled);if(!F||ae){c.isDirty&&(me=n.isDirty,n.isDirty=ht.isDirty=q(),H=me!==ht.isDirty);const Is=Nr||Nl(se(s,O),P);me=!!(!Nr&&se(n.dirtyFields,O)),Is||Nr?Tr(n.dirtyFields,O):rt(n.dirtyFields,O,!0),ht.dirtyFields=n.dirtyFields,H=H||c.dirtyFields&&me!==!Is}if(F){const Is=se(n.touchedFields,O);Is||(rt(n.touchedFields,O,F),ht.touchedFields=n.touchedFields,H=H||c.touchedFields&&Is!==F)}return H&&Y&&f.state.next(ht),H?ht:{}},T=(O,P,F,ae)=>{const Y=se(n.errors,O),H=c.isValid&&eo(P)&&n.isValid!==P;if(e.delayError&&F?(u=y(()=>_(O,F)),u(e.delayError)):(clearTimeout(d),u=null,F?rt(n.errors,O,F):Tr(n.errors,O)),(F?!Nl(Y,F):Y)||!si(ae)||H){const me={...ae,...H&&eo(P)?{isValid:P}:{},errors:n.errors,name:O};n={...n,...me},f.state.next(me)}w(!1)},I=async O=>r.resolver(o,r.context,b7(O||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation)),M=async O=>{const{errors:P}=await I(O);if(O)for(const F of O){const ae=se(P,F);ae?rt(n.errors,F,ae):Tr(n.errors,F)}else n.errors=P;return P},L=async(O,P,F={valid:!0})=>{for(const ae in O){const Y=O[ae];if(Y){const{_f:H,...me}=Y;if(H){const ht=l.array.has(H.name),Nr=await q3(Y,o,k,r.shouldUseNativeValidation&&!P,ht);if(Nr[H.name]&&(F.valid=!1,P))break;!P&&(se(Nr,H.name)?ht?p7(n.errors,Nr,H.name):rt(n.errors,H.name,Nr[H.name]):Tr(n.errors,H.name))}me&&await L(me,P,F)}}return F.valid},V=()=>{for(const O of l.unMount){const P=se(i,O);P&&(P._f.refs?P._f.refs.every(F=>!Hx(F)):!Hx(P._f.ref))&&tn(O)}l.unMount=new Set},q=(O,P)=>(O&&P&&rt(o,O,P),!Nl(Lt(),s)),ie=(O,P,F)=>f7(O,l,{...a.mount?o:$t(P)?s:us(O)?{[O]:P}:P},F,P),ue=O=>Nf(se(a.mount?o:s,O,e.shouldUnregister?se(s,O,[]):[])),G=(O,P,F={})=>{const ae=se(i,O);let Y=P;if(ae){const H=ae._f;H&&(!H.disabled&&rt(o,O,z3(P,H)),Y=Wy(H.ref)&&cn(P)?"":P,U3(H.ref)?[...H.ref.options].forEach(me=>me.selected=Y.includes(me.value)):H.refs?xf(H.ref)?H.refs.length>1?H.refs.forEach(me=>(!me.defaultChecked||!me.disabled)&&(me.checked=Array.isArray(Y)?!!Y.find(ht=>ht===me.value):Y===me.value)):H.refs[0]&&(H.refs[0].checked=!!Y):H.refs.forEach(me=>me.checked=me.value===Y):zx(H.ref)?H.ref.value="":(H.ref.value=Y,H.ref.type||f.values.next({name:O,values:{...o}})))}(F.shouldDirty||F.shouldTouch)&&R(O,Y,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&pe(O)},D=(O,P,F)=>{for(const ae in P){const Y=P[ae],H=`${O}.${ae}`,me=se(i,H);(l.array.has(O)||!$y(Y)||me&&!me._f)&&!gc(Y)?D(H,Y,F):G(H,Y,F)}},j=(O,P,F={})=>{const ae=se(i,O),Y=l.array.has(O),H=Xs(P);rt(o,O,H),Y?(f.array.next({name:O,values:{...o}}),(c.isDirty||c.dirtyFields)&&F.shouldDirty&&f.state.next({name:O,dirtyFields:Qx(s,o),isDirty:q(O,H)})):ae&&!ae._f&&!cn(H)?D(O,H,F):G(O,H,F),P3(O,l)&&f.state.next({...n}),f.values.next({name:O,values:{...o}}),!a.mount&&t()},Q=async O=>{const P=O.target;let F=P.name,ae=!0;const Y=se(i,F),H=()=>P.type?Zx(Y._f):o7(O),me=ht=>{ae=Number.isNaN(ht)||ht===se(o,F,ht)};if(Y){let ht,Nr;const Is=H(),eh=O.type===I3.BLUR||O.type===I3.FOCUS_OUT,Vae=!v7(Y._f)&&!r.resolver&&!se(n.errors,F)&&!Y._f.deps||w7(eh,se(n.touchedFields,F),n.isSubmitted,b,g),PE=P3(F,l,eh);rt(o,F,Is),eh?(Y._f.onBlur&&Y._f.onBlur(O),u&&u(0)):Y._f.onChange&&Y._f.onChange(O);const jE=R(F,Is,eh,!1),zae=!si(jE)||PE;if(!eh&&f.values.next({name:F,type:O.type,values:{...o}}),Vae)return c.isValid&&p(),zae&&f.state.next({name:F,...PE?{}:jE});if(!eh&&PE&&f.state.next({...n}),w(!0),r.resolver){const{errors:b6}=await I([F]);if(me(Is),ae){const Kae=K3(n.errors,i,F),v6=K3(b6,i,Kae.name||F);ht=v6.error,F=v6.name,Nr=si(b6)}}else ht=(await q3(Y,o,k,r.shouldUseNativeValidation))[F],me(Is),ae&&(ht?Nr=!1:c.isValid&&(Nr=await L(i,!0)));ae&&(Y._f.deps&&pe(Y._f.deps),T(F,Nr,ht,jE))}},ve=(O,P)=>{if(se(n.errors,P)&&O.focus)return O.focus(),1},pe=async(O,P={})=>{let F,ae;const Y=$x(O);if(w(!0),r.resolver){const H=await M($t(O)?O:Y);F=si(H),ae=O?!Y.some(me=>se(H,me)):F}else O?(ae=(await Promise.all(Y.map(async H=>{const me=se(i,H);return await L(me&&me._f?{[H]:me}:me)}))).every(Boolean),!(!ae&&!n.isValid)&&p()):ae=F=await L(i);return f.state.next({...!us(O)||c.isValid&&F!==n.isValid?{}:{name:O},...r.resolver||!O?{isValid:F}:{},errors:n.errors,isValidating:!1}),P.shouldFocus&&!ae&&Sf(i,ve,O?Y:l.mount),ae},Lt=O=>{const P={...s,...a.mount?o:{}};return $t(O)?P:us(O)?se(P,O):O.map(F=>se(P,F))},Yt=(O,P)=>({invalid:!!se((P||n).errors,O),isDirty:!!se((P||n).dirtyFields,O),isTouched:!!se((P||n).touchedFields,O),error:se((P||n).errors,O)}),en=O=>{O&&$x(O).forEach(P=>Tr(n.errors,P)),f.state.next({errors:O?n.errors:{}})},je=(O,P,F)=>{const ae=(se(i,O,{_f:{}})._f||{}).ref;rt(n.errors,O,{...P,ref:ae}),f.state.next({name:O,errors:n.errors,isValid:!1}),F&&F.shouldFocus&&ae&&ae.focus&&ae.focus()},Je=(O,P)=>ca(O)?f.values.subscribe({next:F=>O(ie(void 0,P),F)}):ie(O,P,!0),tn=(O,P={})=>{for(const F of O?$x(O):l.mount)l.mount.delete(F),l.array.delete(F),P.keepValue||(Tr(i,F),Tr(o,F)),!P.keepError&&Tr(n.errors,F),!P.keepDirty&&Tr(n.dirtyFields,F),!P.keepTouched&&Tr(n.touchedFields,F),!r.shouldUnregister&&!P.keepDefaultValue&&Tr(s,F);f.values.next({values:{...o}}),f.state.next({...n,...P.keepDirty?{isDirty:q()}:{}}),!P.keepIsValid&&p()},Qi=({disabled:O,name:P,field:F,fields:ae,value:Y})=>{if(eo(O)){const H=O?void 0:$t(Y)?Zx(F?F._f:se(ae,P)._f):Y;rt(o,P,H),R(P,H,!1,!1,!0)}},wm=(O,P={})=>{let F=se(i,O);const ae=eo(P.disabled);return rt(i,O,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:O}},name:O,mount:!0,...P}}),l.mount.add(O),F?Qi({field:F,disabled:P.disabled,name:O,value:P.value}):S(O,!0,P.value),{...ae?{disabled:P.disabled}:{},...r.progressive?{required:!!P.required,min:_f(P.min),max:_f(P.max),minLength:_f(P.minLength),maxLength:_f(P.maxLength),pattern:_f(P.pattern)}:{},name:O,onChange:Q,onBlur:Q,ref:Y=>{if(Y){wm(O,P),F=se(i,O);const H=$t(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,me=y7(H),ht=F._f.refs||[];if(me?ht.find(Nr=>Nr===H):H===F._f.ref)return;rt(i,O,{_f:{...F._f,...me?{refs:[...ht.filter(Hx),H,...Array.isArray(se(s,O))?[{}]:[]],ref:{type:H.type,name:O}}:{ref:H}}}),S(O,!1,void 0,H)}else F=se(i,O,{}),F._f&&(F._f.mount=!1),(r.shouldUnregister||P.shouldUnregister)&&!(l7(l.array,O)&&a.action)&&l.unMount.add(O)}}},tw=()=>r.shouldFocusError&&Sf(i,ve,l.mount),LE=O=>{eo(O)&&(f.state.next({disabled:O}),Sf(i,(P,F)=>{let ae=O;const Y=se(i,F);Y&&eo(Y._f.disabled)&&(ae||(ae=Y._f.disabled)),P.disabled=ae},0,!1))},rw=(O,P)=>async F=>{F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ae=Xs(o);if(f.state.next({isSubmitting:!0}),r.resolver){const{errors:Y,values:H}=await I();n.errors=Y,ae=H}else await L(i);Tr(n.errors,"root"),si(n.errors)?(f.state.next({errors:{}}),await O(ae,F)):(P&&await P({...n.errors},F),tw(),setTimeout(tw)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:si(n.errors),submitCount:n.submitCount+1,errors:n.errors})},$ae=(O,P={})=>{se(i,O)&&($t(P.defaultValue)?j(O,se(s,O)):(j(O,P.defaultValue),rt(s,O,P.defaultValue)),P.keepTouched||Tr(n.touchedFields,O),P.keepDirty||(Tr(n.dirtyFields,O),n.isDirty=P.defaultValue?q(O,se(s,O)):q()),P.keepError||(Tr(n.errors,O),c.isValid&&p()),f.state.next({...n}))},g6=(O,P={})=>{const F=O?Xs(O):s,ae=Xs(F),Y=O&&!si(O)?ae:s;if(P.keepDefaultValues||(s=F),!P.keepValues){if(P.keepDirtyValues||m)for(const H of l.mount)se(n.dirtyFields,H)?rt(Y,H,se(o,H)):j(H,se(Y,H));else{if(Ux&&$t(O))for(const H of l.mount){const me=se(i,H);if(me&&me._f){const ht=Array.isArray(me._f.refs)?me._f.refs[0]:me._f.ref;if(Wy(ht)){const Nr=ht.closest("form");if(Nr){Nr.reset();break}}}}i={}}o=e.shouldUnregister?P.keepDefaultValues?Xs(s):{}:Xs(Y),f.array.next({values:{...Y}}),f.values.next({values:{...Y}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!c.isValid||!!P.keepIsValid,a.watch=!!e.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?n.submitCount:0,isDirty:P.keepDirty?n.isDirty:!!(P.keepDefaultValues&&!Nl(O,s)),isSubmitted:P.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:P.keepDirtyValues?n.dirtyFields:P.keepDefaultValues&&O?Qx(s,O):{},touchedFields:P.keepTouched?n.touchedFields:{},errors:P.keepErrors?n.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},y6=(O,P)=>g6(ca(O)?O(o):O,P);return{control:{register:wm,unregister:tn,getFieldState:Yt,handleSubmit:rw,setError:je,_executeSchema:I,_getWatch:ie,_getDirty:q,_updateValid:p,_removeUnmounted:V,_updateFieldArray:x,_updateDisabledField:Qi,_getFieldArray:ue,_reset:g6,_resetDefaultValues:()=>ca(r.defaultValues)&&r.defaultValues().then(O=>{y6(O,r.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:O=>{n={...n,...O}},_disableForm:LE,_subjects:f,_proxyFormState:c,_setErrors:E,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(O){a=O},get _defaultValues(){return s},get _names(){return l},set _names(O){l=O},get _formState(){return n},set _formState(O){n=O},get _options(){return r},set _options(O){r={...r,...O}}},trigger:pe,register:wm,handleSubmit:rw,watch:Je,setValue:j,getValues:Lt,reset:y6,resetField:$ae,clearErrors:en,unregister:tn,setError:je,setFocus:(O,P={})=>{const F=se(i,O),ae=F&&F._f;if(ae){const Y=ae.refs?ae.refs[0]:ae.ref;Y.focus&&(Y.focus(),P.shouldSelect&&Y.select())}},getFieldState:Yt}}function S7(e={}){const t=ur.useRef(),r=ur.useRef(),[n,i]=ur.useState({isDirty:!1,isValidating:!1,isLoading:ca(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:!1,defaultValues:ca(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...N7(e,()=>i(o=>({...o}))),formState:n});const s=t.current.control;return s._options=e,h7({subject:s._subjects.state,next:o=>{d7(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),ur.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ur.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ur.useEffect(()=>{e.values&&!Nl(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),ur.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),ur.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=c7(n,s),t.current}var J3=function(e,t,r){if(e&&"reportValidity"in e){var n=se(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},H3=function(e,t){var r=function(i){var s=t.fields[i];s&&s.ref&&"reportValidity"in s.ref?J3(s.ref,i,e):s.refs&&s.refs.forEach(function(o){return J3(o,i,e)})};for(var n in t.fields)r(n)},_7=function(e,t){t.shouldUseNativeValidation&&H3(e,t);var r={};for(var n in e){var i=se(t.fields,n),s=Object.assign(e[n]||{},{ref:i&&i.ref});if(O7(t.names||Object.keys(e),n)){var o=Object.assign({},E7(se(r,n)));rt(o,"root",s),rt(r,n,o)}else rt(r,n,s)}return r},E7=function(e){return Array.isArray(e)?e.filter(Boolean):[]},O7=function(e,t){return e.some(function(r){return r.startsWith(t+".")})},C7=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(c){return e.push(c)})}),t){var l=r[o].types,u=l&&l[n.code];r[o]=A3(o,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},T7=function(e,t,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&H3({},s),{errors:{},values:r.raw?n:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:_7(C7(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Ue;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ue||(Ue={}));var Gx;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Gx||(Gx={}));const ee=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),da=e=>{switch(typeof e){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(e)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(e)?ee.array:e===null?ee.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ee.promise:typeof Map<"u"&&e instanceof Map?ee.map:typeof Set<"u"&&e instanceof Set?ee.set:typeof Date<"u"&&e instanceof Date?ee.date:ee.object;default:return ee.unknown}},K=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),I7=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ti extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ti.create=e=>new Ti(e);const Ef=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===ee.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ue.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ue.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ue.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${Ue.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ue.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ue.assertNever(e)}return{message:r}};let Q3=Ef;function R7(e){Q3=e}function zy(){return Q3}const Ky=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};let a="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:t,defaultError:a}).message;return{...i,path:s,message:i.message||a}},A7=[];function te(e,t){const r=Ky({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,zy(),Ef].filter(n=>!!n)});e.common.issues.push(r)}class zr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Se;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return zr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Se;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Se=Object.freeze({status:"aborted"}),Z3=e=>({status:"dirty",value:e}),dn=e=>({status:"valid",value:e}),Yx=e=>e.status==="aborted",Xx=e=>e.status==="dirty",Of=e=>e.status==="valid",Jy=e=>typeof Promise<"u"&&e instanceof Promise;var fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(fe||(fe={}));class cs{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const G3=(e,t)=>{if(Of(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ti(e.common.issues);return this._error=r,this._error}}};function _e(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,o)=>s.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:n??o.defaultError}:{message:r??o.defaultError},description:i}}class Oe{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return da(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:da(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new zr,ctx:{common:t.parent.common,data:t.data,parsedType:da(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Jy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:da(t)},s=this._parseSync({data:t,path:i.path,parent:i});return G3(i,s)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:da(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(Jy(i)?i:Promise.resolve(i));return G3(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:K.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Ai({schema:this,typeName:ge.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return no.create(this,this._def)}nullable(){return Ol.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ri.create(this,this._def)}promise(){return kc.create(this,this._def)}or(t){return Rf.create([this,t],this._def)}and(t){return Af.create(this,t,this._def)}transform(t){return new Ai({..._e(this._def),schema:this,typeName:ge.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ff({..._e(this._def),innerType:this,defaultValue:r,typeName:ge.ZodDefault})}brand(){return new X3({typeName:ge.ZodBranded,type:this,..._e(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Xy({..._e(this._def),innerType:this,catchValue:r,typeName:ge.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Df.create(this,t)}readonly(){return tb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const L7=/^c[^\s-]{8,}$/i,P7=/^[a-z][a-z0-9]*$/,j7=/^[0-9A-HJKMNP-TV-Z]{26}$/,M7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,F7=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,D7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let eN;const B7=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,W7=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,q7=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function U7(e,t){return!!((t==="v4"||!t)&&B7.test(e)||(t==="v6"||!t)&&W7.test(e))}class Ii extends Oe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ee.string){const i=this._getOrReturnCtx(t);return te(i,{code:K.invalid_type,expected:ee.string,received:i.parsedType}),Se}const r=new zr;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),te(n,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),te(n,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,o=t.data.length<i.value;(s||o)&&(n=this._getOrReturnCtx(t,n),s?te(n,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&te(n,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")F7.test(t.data)||(n=this._getOrReturnCtx(t,n),te(n,{validation:"email",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")eN||(eN=new RegExp(D7,"u")),eN.test(t.data)||(n=this._getOrReturnCtx(t,n),te(n,{validation:"emoji",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")M7.test(t.data)||(n=this._getOrReturnCtx(t,n),te(n,{validation:"uuid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")L7.test(t.data)||(n=this._getOrReturnCtx(t,n),te(n,{validation:"cuid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")P7.test(t.data)||(n=this._getOrReturnCtx(t,n),te(n,{validation:"cuid2",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")j7.test(t.data)||(n=this._getOrReturnCtx(t,n),te(n,{validation:"ulid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),te(n,{validation:"url",code:K.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),te(n,{validation:"regex",code:K.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),te(n,{code:K.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),te(n,{code:K.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),te(n,{code:K.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?q7(i).test(t.data)||(n=this._getOrReturnCtx(t,n),te(n,{code:K.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?U7(t.data,i.version)||(n=this._getOrReturnCtx(t,n),te(n,{validation:"ip",code:K.invalid_string,message:i.message}),r.dirty()):Ue.assertNever(i);return{status:r.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:K.invalid_string,...fe.errToObj(n)})}_addCheck(t){return new Ii({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...fe.errToObj(t)})}datetime(t){var r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,...fe.errToObj(t==null?void 0:t.message)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...fe.errToObj(r)})}nonempty(t){return this.min(1,fe.errToObj(t))}trim(){return new Ii({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ii({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ii({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ii.create=e=>{var t;return new Ii({checks:[],typeName:ge.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,..._e(e)})};function $7(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class ha extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ee.number){const i=this._getOrReturnCtx(t);return te(i,{code:K.invalid_type,expected:ee.number,received:i.parsedType}),Se}let r;const n=new zr;for(const i of this._def.checks)i.kind==="int"?Ue.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{code:K.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),te(r,{code:K.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),te(r,{code:K.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?$7(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),te(r,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{code:K.not_finite,message:i.message}),n.dirty()):Ue.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,fe.toString(r))}setLimit(t,r,n,i){return new ha({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:fe.toString(i)}]})}_addCheck(t){return new ha({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ue.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ha.create=e=>new ha({checks:[],typeName:ge.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,..._e(e)});class fa extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ee.bigint){const i=this._getOrReturnCtx(t);return te(i,{code:K.invalid_type,expected:ee.bigint,received:i.parsedType}),Se}let r;const n=new zr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),te(r,{code:K.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),te(r,{code:K.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),te(r,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Ue.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,fe.toString(r))}setLimit(t,r,n,i){return new fa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:fe.toString(i)}]})}_addCheck(t){return new fa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fa.create=e=>{var t;return new fa({checks:[],typeName:ge.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,..._e(e)})};class Cf extends Oe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ee.boolean){const r=this._getOrReturnCtx(t);return te(r,{code:K.invalid_type,expected:ee.boolean,received:r.parsedType}),Se}return dn(t.data)}}Cf.create=e=>new Cf({typeName:ge.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,..._e(e)});class Sl extends Oe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ee.date){const i=this._getOrReturnCtx(t);return te(i,{code:K.invalid_type,expected:ee.date,received:i.parsedType}),Se}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return te(i,{code:K.invalid_date}),Se}const r=new zr;let n;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),te(n,{code:K.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),te(n,{code:K.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ue.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Sl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Sl.create=e=>new Sl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ge.ZodDate,..._e(e)});class Hy extends Oe{_parse(t){if(this._getType(t)!==ee.symbol){const r=this._getOrReturnCtx(t);return te(r,{code:K.invalid_type,expected:ee.symbol,received:r.parsedType}),Se}return dn(t.data)}}Hy.create=e=>new Hy({typeName:ge.ZodSymbol,..._e(e)});class Tf extends Oe{_parse(t){if(this._getType(t)!==ee.undefined){const r=this._getOrReturnCtx(t);return te(r,{code:K.invalid_type,expected:ee.undefined,received:r.parsedType}),Se}return dn(t.data)}}Tf.create=e=>new Tf({typeName:ge.ZodUndefined,..._e(e)});class If extends Oe{_parse(t){if(this._getType(t)!==ee.null){const r=this._getOrReturnCtx(t);return te(r,{code:K.invalid_type,expected:ee.null,received:r.parsedType}),Se}return dn(t.data)}}If.create=e=>new If({typeName:ge.ZodNull,..._e(e)});class bc extends Oe{constructor(){super(...arguments),this._any=!0}_parse(t){return dn(t.data)}}bc.create=e=>new bc({typeName:ge.ZodAny,..._e(e)});class _l extends Oe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return dn(t.data)}}_l.create=e=>new _l({typeName:ge.ZodUnknown,..._e(e)});class ro extends Oe{_parse(t){const r=this._getOrReturnCtx(t);return te(r,{code:K.invalid_type,expected:ee.never,received:r.parsedType}),Se}}ro.create=e=>new ro({typeName:ge.ZodNever,..._e(e)});class Qy extends Oe{_parse(t){if(this._getType(t)!==ee.undefined){const r=this._getOrReturnCtx(t);return te(r,{code:K.invalid_type,expected:ee.void,received:r.parsedType}),Se}return dn(t.data)}}Qy.create=e=>new Qy({typeName:ge.ZodVoid,..._e(e)});class Ri extends Oe{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==ee.array)return te(r,{code:K.invalid_type,expected:ee.array,received:r.parsedType}),Se;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(te(r,{code:o?K.too_big:K.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(te(r,{code:K.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(te(r,{code:K.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new cs(r,o,r.path,a)))).then(o=>zr.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new cs(r,o,r.path,a)));return zr.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Ri({...this._def,minLength:{value:t,message:fe.toString(r)}})}max(t,r){return new Ri({...this._def,maxLength:{value:t,message:fe.toString(r)}})}length(t,r){return new Ri({...this._def,exactLength:{value:t,message:fe.toString(r)}})}nonempty(t){return this.min(1,t)}}Ri.create=(e,t)=>new Ri({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ge.ZodArray,..._e(t)});function vc(e){if(e instanceof It){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=no.create(vc(n))}return new It({...e._def,shape:()=>t})}else return e instanceof Ri?new Ri({...e._def,type:vc(e.element)}):e instanceof no?no.create(vc(e.unwrap())):e instanceof Ol?Ol.create(vc(e.unwrap())):e instanceof ds?ds.create(e.items.map(t=>vc(t))):e}class It extends Oe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ue.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ee.object){const l=this._getOrReturnCtx(t);return te(l,{code:K.invalid_type,expected:ee.object,received:l.parsedType}),Se}const{status:r,ctx:n}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof ro&&this._def.unknownKeys==="strip"))for(const l in n.data)s.includes(l)||o.push(l);const a=[];for(const l of s){const u=i[l],d=n.data[l];a.push({key:{status:"valid",value:l},value:u._parse(new cs(n,d,n.path,l)),alwaysSet:l in n.data})}if(this._def.catchall instanceof ro){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)a.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(l==="strict")o.length>0&&(te(n,{code:K.unrecognized_keys,keys:o}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=n.data[u];a.push({key:{status:"valid",value:u},value:l._parse(new cs(n,d,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of a){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>zr.mergeObjectSync(r,l)):zr.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(t){return fe.errToObj,new It({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=fe.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new It({...this._def,unknownKeys:"strip"})}passthrough(){return new It({...this._def,unknownKeys:"passthrough"})}extend(t){return new It({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new It({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ge.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new It({...this._def,catchall:t})}pick(t){const r={};return Ue.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new It({...this._def,shape:()=>r})}omit(t){const r={};return Ue.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new It({...this._def,shape:()=>r})}deepPartial(){return vc(this)}partial(t){const r={};return Ue.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new It({...this._def,shape:()=>r})}required(t){const r={};return Ue.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof no;)i=i._def.innerType;r[n]=i}}),new It({...this._def,shape:()=>r})}keyof(){return Y3(Ue.objectKeys(this.shape))}}It.create=(e,t)=>new It({shape:()=>e,unknownKeys:"strip",catchall:ro.create(),typeName:ge.ZodObject,..._e(t)}),It.strictCreate=(e,t)=>new It({shape:()=>e,unknownKeys:"strict",catchall:ro.create(),typeName:ge.ZodObject,..._e(t)}),It.lazycreate=(e,t)=>new It({shape:e,unknownKeys:"strip",catchall:ro.create(),typeName:ge.ZodObject,..._e(t)});class Rf extends Oe{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Ti(a.ctx.common.issues));return te(r,{code:K.invalid_union,unionErrors:o}),Se}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Ti(l));return te(r,{code:K.invalid_union,unionErrors:a}),Se}}get options(){return this._def.options}}Rf.create=(e,t)=>new Rf({options:e,typeName:ge.ZodUnion,..._e(t)});const Zy=e=>e instanceof Pf?Zy(e.schema):e instanceof Ai?Zy(e.innerType()):e instanceof jf?[e.value]:e instanceof pa?e.options:e instanceof Mf?Object.keys(e.enum):e instanceof Ff?Zy(e._def.innerType):e instanceof Tf?[void 0]:e instanceof If?[null]:null;class Gy extends Oe{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ee.object)return te(r,{code:K.invalid_type,expected:ee.object,received:r.parsedType}),Se;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(te(r,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const s of r){const o=Zy(s.shape[t]);if(!o)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Gy({typeName:ge.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,..._e(n)})}}function tN(e,t){const r=da(e),n=da(t);if(e===t)return{valid:!0,data:e};if(r===ee.object&&n===ee.object){const i=Ue.objectKeys(t),s=Ue.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const l=tN(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===ee.array&&n===ee.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],l=tN(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===ee.date&&n===ee.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Af extends Oe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(Yx(s)||Yx(o))return Se;const a=tN(s.value,o.value);return a.valid?((Xx(s)||Xx(o))&&r.dirty(),{status:r.value,value:a.data}):(te(n,{code:K.invalid_intersection_types}),Se)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Af.create=(e,t,r)=>new Af({left:e,right:t,typeName:ge.ZodIntersection,..._e(r)});class ds extends Oe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.array)return te(n,{code:K.invalid_type,expected:ee.array,received:n.parsedType}),Se;if(n.data.length<this._def.items.length)return te(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Se;!this._def.rest&&n.data.length>this._def.items.length&&(te(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,o)=>{const a=this._def.items[o]||this._def.rest;return a?a._parse(new cs(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>zr.mergeArray(r,s)):zr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ds({...this._def,rest:t})}}ds.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ds({items:e,typeName:ge.ZodTuple,rest:null,..._e(t)})};class Lf extends Oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.object)return te(n,{code:K.invalid_type,expected:ee.object,received:n.parsedType}),Se;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new cs(n,a,n.path,a)),value:o._parse(new cs(n,n.data[a],n.path,a))});return n.common.async?zr.mergeObjectAsync(r,i):zr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Oe?new Lf({keyType:t,valueType:r,typeName:ge.ZodRecord,..._e(n)}):new Lf({keyType:Ii.create(),valueType:t,typeName:ge.ZodRecord,..._e(r)})}}class Yy extends Oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.map)return te(n,{code:K.invalid_type,expected:ee.map,received:n.parsedType}),Se;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,l],u)=>({key:i._parse(new cs(n,a,n.path,[u,"key"])),value:s._parse(new cs(n,l,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Se;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Se;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}}}}Yy.create=(e,t,r)=>new Yy({valueType:t,keyType:e,typeName:ge.ZodMap,..._e(r)});class El extends Oe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.set)return te(n,{code:K.invalid_type,expected:ee.set,received:n.parsedType}),Se;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(te(n,{code:K.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(te(n,{code:K.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Se;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((l,u)=>s._parse(new cs(n,l,n.path,u)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,r){return new El({...this._def,minSize:{value:t,message:fe.toString(r)}})}max(t,r){return new El({...this._def,maxSize:{value:t,message:fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}El.create=(e,t)=>new El({valueType:e,minSize:null,maxSize:null,typeName:ge.ZodSet,..._e(t)});class wc extends Oe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ee.function)return te(r,{code:K.invalid_type,expected:ee.function,received:r.parsedType}),Se;function n(a,l){return Ky({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zy(),Ef].filter(u=>!!u),issueData:{code:K.invalid_arguments,argumentsError:l}})}function i(a,l){return Ky({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zy(),Ef].filter(u=>!!u),issueData:{code:K.invalid_return_type,returnTypeError:l}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof kc){const a=this;return dn(async function(...l){const u=new Ti([]),d=await a._def.args.parseAsync(l,s).catch(f=>{throw u.addIssue(n(l,f)),u}),c=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(c,s).catch(f=>{throw u.addIssue(i(c,f)),u})})}else{const a=this;return dn(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new Ti([n(l,u.error)]);const d=Reflect.apply(o,this,u.data),c=a._def.returns.safeParse(d,s);if(!c.success)throw new Ti([i(d,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new wc({...this._def,args:ds.create(t).rest(_l.create())})}returns(t){return new wc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new wc({args:t||ds.create([]).rest(_l.create()),returns:r||_l.create(),typeName:ge.ZodFunction,..._e(n)})}}class Pf extends Oe{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Pf.create=(e,t)=>new Pf({getter:e,typeName:ge.ZodLazy,..._e(t)});class jf extends Oe{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return te(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),Se}return{status:"valid",value:t.data}}get value(){return this._def.value}}jf.create=(e,t)=>new jf({value:e,typeName:ge.ZodLiteral,..._e(t)});function Y3(e,t){return new pa({values:e,typeName:ge.ZodEnum,..._e(t)})}class pa extends Oe{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return te(r,{expected:Ue.joinValues(n),received:r.parsedType,code:K.invalid_type}),Se}if(this._def.values.indexOf(t.data)===-1){const r=this._getOrReturnCtx(t),n=this._def.values;return te(r,{received:r.data,code:K.invalid_enum_value,options:n}),Se}return dn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t){return pa.create(t)}exclude(t){return pa.create(this.options.filter(r=>!t.includes(r)))}}pa.create=Y3;class Mf extends Oe{_parse(t){const r=Ue.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ee.string&&n.parsedType!==ee.number){const i=Ue.objectValues(r);return te(n,{expected:Ue.joinValues(i),received:n.parsedType,code:K.invalid_type}),Se}if(r.indexOf(t.data)===-1){const i=Ue.objectValues(r);return te(n,{received:n.data,code:K.invalid_enum_value,options:i}),Se}return dn(t.data)}get enum(){return this._def.values}}Mf.create=(e,t)=>new Mf({values:e,typeName:ge.ZodNativeEnum,..._e(t)});class kc extends Oe{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ee.promise&&r.common.async===!1)return te(r,{code:K.invalid_type,expected:ee.promise,received:r.parsedType}),Se;const n=r.parsedType===ee.promise?r.data:Promise.resolve(r.data);return dn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}kc.create=(e,t)=>new kc({type:e,typeName:ge.ZodPromise,..._e(t)});class Ai extends Oe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{te(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Se:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Se:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Of(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Of(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);Ue.assertNever(i)}}Ai.create=(e,t,r)=>new Ai({schema:e,typeName:ge.ZodEffects,effect:t,..._e(r)}),Ai.createWithPreprocess=(e,t,r)=>new Ai({schema:t,effect:{type:"preprocess",transform:e},typeName:ge.ZodEffects,..._e(r)});class no extends Oe{_parse(t){return this._getType(t)===ee.undefined?dn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}no.create=(e,t)=>new no({innerType:e,typeName:ge.ZodOptional,..._e(t)});class Ol extends Oe{_parse(t){return this._getType(t)===ee.null?dn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ol.create=(e,t)=>new Ol({innerType:e,typeName:ge.ZodNullable,..._e(t)});class Ff extends Oe{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ee.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ff.create=(e,t)=>new Ff({innerType:e,typeName:ge.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,..._e(t)});class Xy extends Oe{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Jy(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ti(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ti(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Xy.create=(e,t)=>new Xy({innerType:e,typeName:ge.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,..._e(t)});class eb extends Oe{_parse(t){if(this._getType(t)!==ee.nan){const r=this._getOrReturnCtx(t);return te(r,{code:K.invalid_type,expected:ee.nan,received:r.parsedType}),Se}return{status:"valid",value:t.data}}}eb.create=e=>new eb({typeName:ge.ZodNaN,..._e(e)});const V7=Symbol("zod_brand");class X3 extends Oe{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Df extends Oe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Se:i.status==="dirty"?(r.dirty(),Z3(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Se:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Df({in:t,out:r,typeName:ge.ZodPipeline})}}class tb extends Oe{_parse(t){const r=this._def.innerType._parse(t);return Of(r)&&(r.value=Object.freeze(r.value)),r}}tb.create=(e,t)=>new tb({innerType:e,typeName:ge.ZodReadonly,..._e(t)});const eR=(e,t={},r)=>e?bc.create().superRefine((n,i)=>{var s,o;if(!e(n)){const a=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,l=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):bc.create(),z7={object:It.lazycreate};var ge;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ge||(ge={}));const K7=(e,t={message:`Input not instance of ${e.name}`})=>eR(r=>r instanceof e,t),tR=Ii.create,rR=ha.create,J7=eb.create,H7=fa.create,nR=Cf.create,Q7=Sl.create,Z7=Hy.create,G7=Tf.create,Y7=If.create,X7=bc.create,eV=_l.create,tV=ro.create,rV=Qy.create,nV=Ri.create,iV=It.create,sV=It.strictCreate,oV=Rf.create,aV=Gy.create,lV=Af.create,uV=ds.create,cV=Lf.create,dV=Yy.create,hV=El.create,fV=wc.create,pV=Pf.create,mV=jf.create,gV=pa.create,yV=Mf.create,bV=kc.create,iR=Ai.create,vV=no.create,wV=Ol.create,kV=Ai.createWithPreprocess,xV=Df.create;var rN=Object.freeze({__proto__:null,defaultErrorMap:Ef,setErrorMap:R7,getErrorMap:zy,makeIssue:Ky,EMPTY_PATH:A7,addIssueToContext:te,ParseStatus:zr,INVALID:Se,DIRTY:Z3,OK:dn,isAborted:Yx,isDirty:Xx,isValid:Of,isAsync:Jy,get util(){return Ue},get objectUtil(){return Gx},ZodParsedType:ee,getParsedType:da,ZodType:Oe,ZodString:Ii,ZodNumber:ha,ZodBigInt:fa,ZodBoolean:Cf,ZodDate:Sl,ZodSymbol:Hy,ZodUndefined:Tf,ZodNull:If,ZodAny:bc,ZodUnknown:_l,ZodNever:ro,ZodVoid:Qy,ZodArray:Ri,ZodObject:It,ZodUnion:Rf,ZodDiscriminatedUnion:Gy,ZodIntersection:Af,ZodTuple:ds,ZodRecord:Lf,ZodMap:Yy,ZodSet:El,ZodFunction:wc,ZodLazy:Pf,ZodLiteral:jf,ZodEnum:pa,ZodNativeEnum:Mf,ZodPromise:kc,ZodEffects:Ai,ZodTransformer:Ai,ZodOptional:no,ZodNullable:Ol,ZodDefault:Ff,ZodCatch:Xy,ZodNaN:eb,BRAND:V7,ZodBranded:X3,ZodPipeline:Df,ZodReadonly:tb,custom:eR,Schema:Oe,ZodSchema:Oe,late:z7,get ZodFirstPartyTypeKind(){return ge},coerce:{string:e=>Ii.create({...e,coerce:!0}),number:e=>ha.create({...e,coerce:!0}),boolean:e=>Cf.create({...e,coerce:!0}),bigint:e=>fa.create({...e,coerce:!0}),date:e=>Sl.create({...e,coerce:!0})},any:X7,array:nV,bigint:H7,boolean:nR,date:Q7,discriminatedUnion:aV,effect:iR,enum:gV,function:fV,instanceof:K7,intersection:lV,lazy:pV,literal:mV,map:dV,nan:J7,nativeEnum:yV,never:tV,null:Y7,nullable:wV,number:rR,object:iV,oboolean:()=>nR().optional(),onumber:()=>rR().optional(),optional:vV,ostring:()=>tR().optional(),pipeline:xV,preprocess:kV,promise:bV,record:cV,set:hV,strictObject:sV,string:tR,symbol:Z7,transformer:iR,tuple:uV,undefined:G7,union:oV,unknown:eV,void:rV,NEVER:Se,ZodIssueCode:K,quotelessJson:I7,ZodError:Ti});const NV=rN.object({name:rN.preprocess(Z$,rN.string().min(1))}).required();function SV({list:e,onSubmit:t}){var s;const{register:r,handleSubmit:n,formState:{errors:i}}=S7({resolver:T7(NV),defaultValues:{name:e.name}});return W.jsxs("form",{onSubmit:n(async({name:o})=>{await Ut.lists.update(e,{name:o}),t()}),className:"flex",noValidate:!0,children:[W.jsx(e7,{placeholder:"Enter a name",className:ua({"border-red-500":(s=i.name)==null?void 0:s.message},"-mr-2 border-r-transparent pr-2"),...r("name",{required:!0})}),W.jsx(kf,{type:"submit",children:"Save"})]})}function _V({isVisible:e,onClose:t}){const r=b3(async()=>await Ut.getShoppingList()),[n,i]=Z.useState(!1),[s,o]=Z.useState(!1);if(r===void 0)return"Loading...";const a=Object.keys(r.purchasesByCategories).length!==0;return W.jsxs(W.Fragment,{children:[W.jsx(i7,{isVisible:n,onAbort:()=>i(!1),onConfirm:async()=>{await Ut.changeListState(r.activeList.id,"cancelled"),i(!1),t()}}),W.jsxs("aside",{className:ua({"-translate-x-full":e},"fixed left-full top-0 flex h-full w-[calc(100%-4rem)] flex-col bg-orange-100 transition-all duration-200 ease-in-out"),children:[W.jsxs("div",{className:"flex flex-1 flex-col overflow-y-auto px-4 pb-4 pt-7",children:[W.jsxs("div",{className:"mb-8 flex rounded-3xl bg-[#80485B] px-6 py-3 font-bold text-white",children:[W.jsx("img",{src:b$,alt:"spice bottle",className:"-mt-6 h-32 pr-7"}),W.jsxs("div",{children:[W.jsx("span",{className:"mb-[0.8em] block",children:"Didn't find what you need?"}),W.jsx("button",{className:"block rounded-xl bg-white px-[1.3em] text-sm leading-[2.5em] text-neutral-700 shadow",children:"Add item"})]})]}),(r.activeList.name||a)&&W.jsxs("div",{className:"mb-8 flex items-start justify-between",children:[W.jsx("h1",{className:"text-2xl font-bold text-neutral-700",children:r.activeList.name??"Shopping list"}),!s&&W.jsx("button",{className:"h-8",onClick:()=>o(!0),children:W.jsx(bU,{})})]}),a?W.jsx(W.Fragment,{children:W.jsx(s7,{purchasesByCategories:r.purchasesByCategories,isEditMode:s})}):W.jsx("div",{className:"absolute top-1/2 mt-auto self-center text-xl font-bold text-neutral-700",children:"No items"})]}),W.jsxs("div",{className:"sticky bottom-0 flex w-full justify-center bg-white p-4",children:[!a&&W.jsx("img",{src:t7,className:"absolute top-2 max-w-[200px] -translate-y-full"}),!r.activeList.name||s?W.jsx(SV,{list:r.activeList,onSubmit:()=>o(!1)}):W.jsxs(W.Fragment,{children:[W.jsx(kf,{variant:"transparent",className:"mr-2",onClick:()=>i(!0),children:"cancel"}),W.jsx(kf,{variant:"secondary",onClick:async()=>{await Ut.changeListState(r.activeList.id,"completed"),t()},children:"Complete"})]})]})]})]})}function EV({children:e}){const[t,r]=Z.useState(!0),n=b3(()=>Ut.getShoppingList());let i=0;return n&&(i=Object.values(n.purchasesByCategories).flat().filter(({isCompleted:s})=>!s).length),W.jsxs("div",{className:"flex",children:[W.jsxs("aside",{className:"sticky top-0 flex h-dvh flex-col items-center justify-between py-4",children:[W.jsx("img",{src:EU,alt:"shoppingify logo"}),W.jsx(_U,{onNavigate:()=>r(!1)}),W.jsxs("button",{className:"relative flex h-10 w-10 items-center justify-center rounded-full bg-amber-500 text-white",onClick:()=>r(s=>!s),children:[i!==0&&W.jsx("div",{className:"absolute -right-1 -top-1 w-5 rounded bg-rose-500 text-xs leading-5 text-white",children:i}),W.jsx(SU,{className:"z-10"})]})]}),W.jsx("div",{className:"flex-1",children:e}),W.jsx(_V,{isVisible:t,onClose:()=>r(!1)})]})}let sR,oR,aR,Bf,lR,uR,cR,dR,C,Nt,Wf,nN,rb,iN,hR;sR=new Qg({getParentRoute:()=>Bf,path:"/",component:()=>W.jsx("div",{className:"p-2",children:"Items route"})}),oR=new Qg({getParentRoute:()=>Bf,path:"/history",component:()=>W.jsx("div",{className:"p-2",children:"History route"})}),aR=new Qg({getParentRoute:()=>Bf,path:"/statistics",component:()=>W.jsx("div",{className:"p-2",children:"Statistics route"})}),Bf=new KB({component:()=>W.jsxs(W.Fragment,{children:[W.jsx(EV,{children:W.jsx(LI,{})}),!1]})}),lR=sR,uR=Bf.addChildren([lR,oR,aR]),cR=new tW({routeTree:uR}),dR=e=>typeof e=="function",C=function(e,t){if(typeof e=="function")return function(){return e(arguments)?t.apply(this,arguments):r=>t(r,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(r,n){return arguments.length>=2?t(r,n):function(i){return t(i,r)}};case 3:return function(r,n,i){return arguments.length>=3?t(r,n,i):function(s){return t(s,r,n)}};case 4:return function(r,n,i,s){return arguments.length>=4?t(r,n,i,s):function(o){return t(o,r,n,i)}};case 5:return function(r,n,i,s,o){return arguments.length>=5?t(r,n,i,s,o):function(a){return t(a,r,n,i,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const r=arguments;return function(n){return t(n,...r)}}}},Nt=e=>e,Wf=e=>()=>e,nN=Wf(!0),rb=Wf(!1),iN=Wf(void 0),yi=iN,hR=e=>{throw new Error("Called `absurd` function which should be uncallable")};function A(e,t,r,n,i,s,o,a,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return s(i(n(r(t(e)))));case 7:return o(s(i(n(r(t(e))))));case 8:return a(o(s(i(n(r(t(e)))))));case 9:return l(a(o(s(i(n(r(t(e))))))));default:{let u=arguments[0];for(let d=1;d<arguments.length;d++)u=arguments[d](u);return u}}}const nb="2.0.0-next.62",sN=Symbol.for(`effect/GlobalValue/globalStoreId/${nb}`);sN in globalThis||(globalThis[sN]=new Map);const oN=globalThis[sN],$e=(e,t)=>(oN.has(e)||oN.set(e,t()),oN.get(e)),qf=e=>typeof e=="string",xc=e=>typeof e=="number",aN=e=>typeof e=="boolean",lN=e=>typeof e=="bigint",uN=e=>typeof e=="symbol",Nc=dR,fR=e=>e===void 0,OV=e=>!1,pR=e=>typeof e=="object"&&e!==null,ib=e=>pR(e)||Nc(e),Ce=C(2,(e,t)=>ib(e)&&t in e),cN=C(2,(e,t)=>Ce(e,"_tag")&&e._tag===t),Sc=e=>e==null,CV=e=>e!=null,_c=e=>e instanceof Uint8Array,TV=e=>e instanceof Date,mR=e=>Ce(e,Symbol.iterator),gR=e=>pR(e)&&!Array.isArray(e),IV=e=>Ce(e,"then")&&"catch"in e&&Nc(e.then)&&Nc(e.catch),RV=e=>t=>!e(t),AV=335903614,LV=4150755663,PV=1481765933,jV=1284865837,MV=9007199254740992,FV=134217728;class yR{constructor(t,r,n,i){N(this,"_state");return Sc(r)&&Sc(t)?(r=Math.random()*4294967295>>>0,t=0):Sc(r)&&(r=t,t=0),Sc(i)&&Sc(n)?(i=this._state?this._state[3]:LV,n=this._state?this._state[2]:AV):Sc(i)&&(i=n,n=0),this._state=new Int32Array([0,0,n>>>0,((i||0)|1)>>>0]),this._next(),bR(this._state,this._state[0],this._state[1],t>>>0,r>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=t[3]|1}integer(t){if(!t)return this._next();if(t=t>>>0,!(t&t-1))return this._next()&t-1;let r=0;const n=(-t>>>0)%t>>>0;for(r=this._next();r<n;r=this._next());return r%t}number(){const t=(this._next()&67108863)*1,r=(this._next()&134217727)*1;return(t*FV+r)/MV}_next(){const t=this._state[0]>>>0,r=this._state[1]>>>0;DV(this._state,t,r,PV,jV),bR(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let n=t>>>18,i=(r>>>18|t<<14)>>>0;n=(n^t)>>>0,i=(i^r)>>>0;const s=(i>>>27|n<<5)>>>0,o=t>>>27,a=(-o>>>0&31)>>>0;return(s>>>o|s<<a)>>>0}}function DV(e,t,r,n,i){let s=(r>>>16)*(i&65535)>>>0,o=(r&65535)*(i>>>16)>>>0,a=(r&65535)*(i&65535)>>>0,l=(r>>>16)*(i>>>16)+((o>>>16)+(s>>>16))>>>0;o=o<<16>>>0,a=a+o>>>0,a>>>0<o>>>0&&(l=l+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(l=l+1>>>0),l=l+Math.imul(r,n)>>>0,l=l+Math.imul(t,i)>>>0,e[0]=l,e[1]=a}function bR(e,t,r,n,i){let s=t+n>>>0;const o=r+i>>>0;o>>>0<r>>>0&&(s=s+1|0),e[0]=s,e[1]=o}const dN=$e(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),BV=$e(Symbol.for("effect/Hash/pcgr"),()=>new yR),Fe=Symbol.for("effect/Hash"),ce=e=>{switch(typeof e){case"number":return hN(e);case"bigint":return Dn(e.toString(10));case"boolean":return Dn(String(e));case"symbol":return Dn(String(e));case"string":return Dn(e);case"undefined":return Dn("undefined");case"function":case"object":return e===null?Dn("null"):WV(e)?e[Fe]():Uf(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},Uf=e=>(dN.has(e)||dN.set(e,hN(BV.integer(Number.MAX_SAFE_INTEGER))),dN.get(e)),Le=e=>t=>t*53^e,sb=e=>e&3221225471|e>>>1&1073741824,WV=e=>Ce(e,Fe),hN=e=>{if(e!==e||e===1/0)return 0;let t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)t^=e/=4294967295;return sb(e)},Dn=e=>{let t=5381,r=e.length;for(;r;)t=t*33^e.charCodeAt(--r);return sb(t)},qV=(e,t)=>{let r=12289;for(let n=0;n<t.length;n++)r^=A(Dn(t[n]),Le(ce(e[t[n]])));return sb(r)},vR=e=>qV(e,Object.keys(e)),Ec=e=>{let t=6151;for(let r=0;r<e.length;r++)t=A(t,Le(ce(e[r])));return sb(t)},Ie=Symbol.for("effect/Equal");function De(){return arguments.length===1?e=>wR(e,arguments[0]):wR(arguments[0],arguments[1])}function wR(e,t){if(e===t)return!0;const r=typeof e;return r!==typeof t?!1:(r==="object"||r==="function")&&e!==null&&t!==null&&ob(e)&&ob(t)?ce(e)===ce(t)&&e[Ie](t):!1}const ob=e=>Ce(e,Ie),fN=()=>(e,t)=>De(e,t),pN=e=>(t,r)=>t===r||e(t,r),UV=(e,t)=>e===t,$V=()=>UV,VV=$V(),zV=C(2,(e,t)=>pN((r,n)=>e(t(r),t(n)))),KV=e=>pN((t,r)=>{if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1;return!0}),Ft=Symbol.for("nodejs.util.inspect.custom"),pr=e=>Ce(e,"toJSON")&&Nc(e.toJSON)&&e.toJSON.length===0?e.toJSON():Array.isArray(e)?e.map(pr):e,Ir=e=>JSON.stringify(e,null,2),ye=(e,t)=>{switch(t.length){case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let r=e;for(let n=0,i=t.length;n<i;n++)r=t[n](r);return r}}},ab="Async",kR="Commit",hn="Failure",lb="OnFailure",ub="OnSuccess",cb="OnSuccessAndFailure",fn="Success",xR="Sync",JV="Tag",$f="UpdateRuntimeFlags",db="While",NR="WithRuntime",hb="Yield",mN="RevertFlags",SR=Symbol.for("effect/Effect"),HV=Symbol.for("effect/Stream"),QV=Symbol.for("effect/Sink"),ZV=Symbol.for("effect/Channel"),Oc={_R:e=>e,_E:e=>e,_A:e=>e,_V:nb},GV={_R:e=>e,_E:e=>e,_In:e=>e,_L:e=>e,_Z:e=>e},YV={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},fb={[SR]:Oc,[HV]:Oc,[QV]:GV,[ZV]:YV,[Ie](e){return this===e},[Fe](){return Uf(this)},pipe(){return ye(this,arguments)}},gN={[Fe](){return vR(this)},[Ie](e){const t=Object.keys(this),r=Object.keys(e);if(t.length!==r.length)return!1;for(const n of t)if(!(n in e&&De(this[n],e[n])))return!1;return!0}},XV={...fb,_op:kR},ez={...XV,...gN},_R=Symbol.for("effect/Option"),ER={...fb,[_R]:{_A:e=>e},[Ft](){return this.toJSON()},toString(){return Ir(this.toJSON())}},tz=Object.assign(Object.create(ER),{_tag:"Some",_op:"Some",[Ie](e){return OR(e)&&TR(e)&&De(e.value,this.value)},[Fe](){return Le(ce(this._tag))(ce(this.value))},toJSON(){return{_id:"Option",_tag:this._tag,value:pr(this.value)}}}),rz=Object.assign(Object.create(ER),{_tag:"None",_op:"None",[Ie](e){return OR(e)&&CR(e)},[Fe](){return Le(ce(this._tag))},toJSON(){return{_id:"Option",_tag:this._tag}}}),OR=e=>Ce(e,_R),CR=e=>e._tag==="None",TR=e=>e._tag==="Some",yN=Object.create(rz),bN=e=>{const t=Object.create(tz);return t.value=e,t},IR=Symbol.for("effect/Either"),RR={...fb,[IR]:{_A:e=>e},[Ft](){return this.toJSON()},toString(){return Ir(this.toJSON())}},nz=Object.assign(Object.create(RR),{_tag:"Right",_op:"Right",[Ie](e){return vN(e)&&AR(e)&&De(e.right,this.right)},[Fe](){return Le(ce(this._tag))(ce(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:pr(this.right)}}}),iz=Object.assign(Object.create(RR),{_tag:"Left",_op:"Left",[Ie](e){return vN(e)&&wN(e)&&De(e.left,this.left)},[Fe](){return Le(ce(this._tag))(ce(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:pr(this.left)}}}),vN=e=>Ce(e,IR),wN=e=>e._tag==="Left",AR=e=>e._tag==="Right",sz=e=>{const t=Object.create(iz);return t.left=e,t},oz=e=>{const t=Object.create(nz);return t.right=e,t},az=e=>wN(e)?yN:bN(e.right),pb=e=>(t,r)=>t===r?0:e(t,r),lz=pb((e,t)=>e<t?-1:1),uz=e=>pb((t,r)=>e(r,t)),kN=C(2,(e,t)=>pb((r,n)=>e(t(r),t(n)))),cz=e=>pb((t,r)=>{const n=Math.min(t.length,r.length);let i=0;for(const s of e){if(i>=n)break;const o=s(t[i],r[i]);if(o!==0)return o;i++}return 0}),dz=(...e)=>cz(e),hz=e=>C(2,(t,r)=>e(t,r)===1),fz=e=>C(2,(t,r)=>t===r||e(t,r)>-1?t:r),de=()=>yN,xe=bN,Kr=CR,Jr=TR,hs=C(2,(e,{onNone:t,onSome:r})=>Kr(e)?t():r(e.value)),pz=az,Rt=C(2,(e,t)=>Kr(e)?t():e.value),xN=C(2,(e,t)=>Kr(e)?t():e),Cc=e=>e==null?de():xe(e),Cl=Rt(iN),io=C(2,(e,t)=>Kr(e)?de():xe(t(e.value))),LR=C(2,(e,t)=>Kr(e)?de():t(e.value)),mz=e=>C(2,(t,r)=>Kr(t)?!1:e(t.value,r)),gz=fN(),yz=mz(gz),Vt=oz,Hr=sz,bz=vN,vr=wN,so=AR,PR=C(2,(e,t)=>vr(e)?Hr(t(e.left)):Vt(e.right)),vz=C(2,(e,{onLeft:t,onRight:r})=>vr(e)?t(e.left):r(e.right)),wz=vz({onLeft:Nt,onRight:Nt}),jR=e=>e.length>0,kz=C(2,(e,t)=>{const r=[];for(const n of Object.keys(e))r.push(t(n,e[n]));return r}),xz=kz((e,t)=>[e,t]),Nz=(...e)=>e,Sz=(e,t)=>{const r=Math.max(1,Math.floor(e)),n=[t(0)];for(let i=1;i<r;i++)n.push(t(i));return n},St=e=>Array.isArray(e)?e:Array.from(e),mb=C(2,(e,t)=>[t,...e]),MR=C(2,(e,t)=>[...e,t]),FR=C(2,(e,t)=>St(e).concat(St(t))),_z=e=>e.length===0,Ez=_z,gb=jR,wr=jR,NN=(e,t)=>e<0||e>=t.length,Oz=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),Cz=C(2,(e,t)=>{const r=Math.floor(t);return NN(r,e)?de():xe(e[r])}),DR=C(2,(e,t)=>{const r=Math.floor(t);if(NN(r,e))throw new Error(`Index ${r} out of bounds`);return e[r]}),Tc=Cz(0),Bn=DR(0),Tz=e=>wr(e)?xe(BR(e)):de(),BR=e=>e[e.length-1],Ic=e=>e.slice(1),Iz=(e,t)=>{let r=0;for(const n of e){if(!t(n))break;r++}return r},Rz=C(2,(e,t)=>Bz(e,Iz(e,t))),Az=C(2,(e,t)=>{const r=St(e);return r.slice(Oz(t,r),r.length)}),Lz=C(3,(e,t,r)=>Pz(e,t,()=>r)),Pz=C(3,(e,t,r)=>Rt(jz(e,t,r),()=>Array.from(e))),jz=C(3,(e,t,r)=>{const n=Array.from(e);if(NN(t,n))return de();const i=r(n[t]);return n[t]=i,xe(n)}),WR=e=>Array.from(e).reverse(),Rc=C(2,(e,t)=>{const r=Array.from(e);return r.sort(t),r}),qR=C(2,(e,t)=>Mz(e,t,Nz)),Mz=C(3,(e,t,r)=>{const n=St(e),i=St(t);if(wr(n)&&wr(i)){const s=[r(Bn(n),Bn(i))],o=Math.min(n.length,i.length);for(let a=1;a<o;a++)s[a]=r(n[a],i[a]);return s}return[]}),Fz=e=>C(2,(t,r)=>{for(const n of t)if(e(r,n))return!0;return!1}),Dz=fN(),Bz=C(2,(e,t)=>{const r=Array.from(e),n=Math.floor(t);return wr(r)?n>=1?Wz(r,n):[[],r]:[r,[]]}),Wz=C(2,(e,t)=>{const r=Math.max(1,Math.floor(t));return r>=e.length?[qz(e),[]]:[mb(e.slice(1,r),Bn(e)),e.slice(r)]}),qz=e=>e.slice(),Uz=C(3,(e,t,r)=>{const n=St(e),i=St(t);return wr(n)?wr(i)?Vf(r)(FR(n,i)):n:i}),SN=C(2,(e,t)=>Uz(e,t,Dz)),$z=e=>{const t=Fz(e);return C(2,(r,n)=>St(r).filter(i=>!t(n,i)))},Ac=()=>[],Li=e=>[e],Rr=C(2,(e,t)=>e.map(t)),Lc=C(2,(e,t)=>{if(Ez(e))return[];const r=[];for(let n=0;n<e.length;n++)r.push(...t(e[n],n));return r}),Vz=Lc(Nt),yb=C(2,(e,t)=>{const r=St(e),n=[];for(let i=0;i<r.length;i++){const s=t(r[i],i);Jr(s)&&n.push(s.value)}return n}),zz=C(2,(e,t)=>{const r=St(e),n=[];for(let i=0;i<r.length;i++)t(r[i],i)&&n.push(r[i]);return n}),UR=C(2,(e,t)=>{const r=[],n=[],i=St(e);for(let s=0;s<i.length;s++)t(i[s],s)?n.push(i[s]):r.push(i[s]);return[r,n]}),$R=C(3,(e,t,r)=>St(e).reduce((n,i,s)=>r(n,i,s),t)),VR=(e,t)=>{const r=[];let n=e,i;for(;Jr(i=t(n));){const[s,o]=i.value;r.push(s),n=o}return r},_N=KV,Vf=C(2,(e,t)=>{const r=St(e);if(wr(r)){const n=[Bn(r)],i=Ic(r);for(const s of i)n.every(o=>!t(s,o))&&n.push(s);return n}return[]}),zR=e=>Vf(e,fN()),Tl=C(2,(e,t)=>St(e).join(t)),KR=Symbol.for("effect/Brand/Refined"),JR=Symbol.for("effect/Chunk");function Kz(e,t,r,n,i){for(let s=t;s<Math.min(e.length,t+i);s++)r[n+s-t]=e[s];return r}const HR=[],Jz=e=>pN((t,r)=>t.length===r.length&&zf(t).every((n,i)=>e(n,jc(r,i)))),Hz=Jz(De),Qz={[JR]:{_A:e=>e},toString(){return Ir(this.toJSON())},toJSON(){return{_id:"Chunk",values:zf(this).map(pr)}},[Ft](){return this.toJSON()},[Ie](e){return QR(e)&&Hz(this,e)},[Fe](){return Ec(zf(this))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return HR[Symbol.iterator]();default:return zf(this)[Symbol.iterator]()}},pipe(){return ye(this,arguments)}},rr=e=>{const t=Object.create(Qz);switch(t.backing=e,e._tag){case"IEmpty":{t.length=0,t.depth=0,t.left=t,t.right=t;break}case"IConcat":{t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break}case"IArray":{t.length=e.array.length,t.depth=0,t.left=fs,t.right=fs;break}case"ISingleton":{t.length=1,t.depth=0,t.left=fs,t.right=fs;break}case"ISlice":{t.length=e.length,t.depth=e.chunk.depth+1,t.left=fs,t.right=fs;break}}return t},QR=e=>Ce(e,JR),fs=rr({_tag:"IEmpty"}),Il=()=>fs,oo=e=>rr({_tag:"ISingleton",a:e}),ZR=e=>QR(e)?e:rr({_tag:"IArray",array:St(e)}),EN=(e,t,r)=>{switch(e.backing._tag){case"IArray":{Kz(e.backing.array,0,t,r,e.length);break}case"IConcat":{EN(e.left,t,r),EN(e.right,t,r+e.left.length);break}case"ISingleton":{t[r]=e.backing.a;break}case"ISlice":{let n=0,i=r;for(;n<e.length;)t[i]=jc(e,n),n+=1,i+=1;break}}},zf=e=>{switch(e.backing._tag){case"IEmpty":return HR;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return EN(e,t,0),e.backing={_tag:"IArray",array:t},e.left=fs,e.right=fs,e.depth=0,t}}},Pc=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return rr({_tag:"IArray",array:WR(e.backing.array)});case"IConcat":return rr({_tag:"IConcat",left:Pc(e.backing.right),right:Pc(e.backing.left)});case"ISlice":return GR(WR(zf(e)))}},GR=e=>rr({_tag:"IArray",array:e}),jc=C(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(t!==0)throw new Error("Index out of bounds");return e.backing.a}case"IArray":{if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t]}case"IConcat":return t<e.left.length?jc(e.left,t):jc(e.right,t-e.left.length);case"ISlice":return jc(e.backing.chunk,t+e.backing.offset)}}),Pi=C(2,(e,t)=>ma(oo(t),e)),ON=C(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return fs;switch(e.backing._tag){case"ISlice":return rr({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?ON(e.right,t-e.left.length):rr({_tag:"IConcat",left:ON(e.left,t),right:e.right});default:return rr({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),ma=C(2,(e,t)=>{if(e.backing._tag==="IEmpty")return t;if(t.backing._tag==="IEmpty")return e;const r=t.depth-e.depth;if(Math.abs(r)<=1)return rr({_tag:"IConcat",left:e,right:t});if(r<-1)if(e.left.depth>=e.right.depth){const n=ma(e.right,t);return rr({_tag:"IConcat",left:e.left,right:n})}else{const n=ma(e.right.right,t);if(n.depth===e.depth-3){const i=rr({_tag:"IConcat",left:e.right.left,right:n});return rr({_tag:"IConcat",left:e.left,right:i})}else{const i=rr({_tag:"IConcat",left:e.left,right:e.right.left});return rr({_tag:"IConcat",left:i,right:n})}}else if(t.right.depth>=t.left.depth){const n=ma(e,t.left);return rr({_tag:"IConcat",left:n,right:t.right})}else{const n=ma(e,t.left.left);if(n.depth===t.depth-3){const i=rr({_tag:"IConcat",left:n,right:t.left.right});return rr({_tag:"IConcat",left:i,right:t.right})}else{const i=rr({_tag:"IConcat",left:t.left.right,right:t.right});return rr({_tag:"IConcat",left:n,right:i})}}}),Zz=e=>e.length===0,Mc=e=>e.length>0,YR=e=>jc(e,0),Fc=YR,Rl=e=>ON(e,1),Al=5,CN=Math.pow(2,Al),Gz=CN-1,Yz=CN/2,Xz=CN/4;function eK(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Dc(e,t){return t>>>e&Gz}function Bc(e){return 1<<e}function XR(e,t){return eK(e&t-1)}class tK{constructor(t,r){N(this,"value");N(this,"previous");this.value=t,this.previous=r}}function Wc(e,t,r,n){let i=n;if(!e){const s=n.length;i=new Array(s);for(let o=0;o<s;++o)i[o]=n[o]}return i[t]=r,i}function e4(e,t,r){const n=r.length-1;let i=0,s=0,o=r;if(e)i=s=t;else for(o=new Array(n);i<t;)o[s++]=r[i++];for(++i;i<=n;)o[s++]=r[i++];return e&&(o.length=n),o}function rK(e,t,r,n){const i=n.length;if(e){let l=i;for(;l>=t;)n[l--]=n[l];return n[t]=r,n}let s=0,o=0;const a=new Array(i+1);for(;s<t;)a[o++]=n[s++];for(a[t]=r;s<i;)a[++o]=n[s++];return a}class ga{constructor(){N(this,"_tag","EmptyNode")}modify(t,r,n,i,s,o){const a=n(de());return Kr(a)?new ga:(++o.value,new Ll(t,i,s,a))}}function ji(e){return cN(e,"EmptyNode")}function nK(e){return ji(e)||e._tag==="LeafNode"||e._tag==="CollisionNode"}function bb(e,t){return ji(e)?!1:t===e.edit}class Ll{constructor(t,r,n,i){N(this,"edit");N(this,"hash");N(this,"key");N(this,"value");N(this,"_tag","LeafNode");this.edit=t,this.hash=r,this.key=n,this.value=i}modify(t,r,n,i,s,o){if(De(s,this.key)){const l=n(this.value);return l===this.value?this:Kr(l)?(--o.value,new ga):bb(this,t)?(this.value=l,this):new Ll(t,i,s,l)}const a=n(de());return Kr(a)?this:(++o.value,t4(t,r,this.hash,this,i,new Ll(t,i,s,a)))}}class TN{constructor(t,r,n){N(this,"edit");N(this,"hash");N(this,"children");N(this,"_tag","CollisionNode");this.edit=t,this.hash=r,this.children=n}modify(t,r,n,i,s,o){if(i===this.hash){const l=bb(this,t),u=this.updateCollisionList(l,t,this.hash,this.children,n,s,o);return u===this.children?this:u.length>1?new TN(t,this.hash,u):u[0]}const a=n(de());return Kr(a)?this:(++o.value,t4(t,r,this.hash,this,i,new Ll(t,i,s,a)))}updateCollisionList(t,r,n,i,s,o,a){const l=i.length;for(let d=0;d<l;++d){const c=i[d];if("key"in c&&De(o,c.key)){const f=c.value,m=s(f);return m===f?i:Kr(m)?(--a.value,e4(t,d,i)):Wc(t,d,new Ll(r,n,o,m),i)}}const u=s(de());return Kr(u)?i:(++a.value,Wc(t,l,new Ll(r,n,o,u),i))}}class qc{constructor(t,r,n){N(this,"edit");N(this,"mask");N(this,"children");N(this,"_tag","IndexedNode");this.edit=t,this.mask=r,this.children=n}modify(t,r,n,i,s,o){const a=this.mask,l=this.children,u=Dc(r,i),d=Bc(u),c=XR(a,d),f=a&d,m=bb(this,t);if(!f){const p=new ga().modify(t,r+Al,n,i,s,o);return p?l.length>=Yz?sK(t,u,p,a,l):new qc(t,a|d,rK(m,c,p,l)):this}const g=l[c],b=g.modify(t,r+Al,n,i,s,o);if(g===b)return this;let k=a,y;if(ji(b)){if(k&=~d,!k)return new ga;if(l.length<=2&&nK(l[c^1]))return l[c^1];y=e4(m,c,l)}else y=Wc(m,c,b,l);return m?(this.mask=k,this.children=y,this):new qc(t,k,y)}}class IN{constructor(t,r,n){N(this,"edit");N(this,"size");N(this,"children");N(this,"_tag","ArrayNode");this.edit=t,this.size=r,this.children=n}modify(t,r,n,i,s,o){let a=this.size;const l=this.children,u=Dc(r,i),d=l[u],c=(d||new ga).modify(t,r+Al,n,i,s,o);if(d===c)return this;const f=bb(this,t);let m;if(ji(d)&&!ji(c))++a,m=Wc(f,u,c,l);else if(!ji(d)&&ji(c)){if(--a,a<=Xz)return iK(t,a,u,l);m=Wc(f,u,new ga,l)}else m=Wc(f,u,c,l);return f?(this.size=a,this.children=m,this):new IN(t,a,m)}}function iK(e,t,r,n){const i=new Array(t-1);let s=0,o=0;for(let a=0,l=n.length;a<l;++a)if(a!==r){const u=n[a];u&&!ji(u)&&(i[s++]=u,o|=1<<a)}return new qc(e,o,i)}function sK(e,t,r,n,i){const s=[];let o=n,a=0;for(let l=0;o;++l)o&1&&(s[l]=i[a++]),o>>>=1;return s[t]=r,new IN(e,a+1,s)}function oK(e,t,r,n,i,s){if(r===i)return new TN(e,r,[s,n]);const o=Dc(t,r),a=Dc(t,i);if(o===a)return l=>new qc(e,Bc(o)|Bc(a),[l]);{const l=o<a?[n,s]:[s,n];return new qc(e,Bc(o)|Bc(a),l)}}function t4(e,t,r,n,i,s){let o,a=t;for(;;){const l=oK(e,a,r,n,i,s);if(typeof l=="function")o=new tK(l,o),a=a+Al;else{let u=l;for(;o!=null;)u=o.value(u),o=o.previous;return u}}}const r4="effect/HashMap",RN=Symbol.for(r4),aK={[RN]:RN,[Symbol.iterator](){return new vb(this,(e,t)=>[e,t])},[Fe](){let e=ce(r4);for(const t of this)e^=A(ce(t[0]),Le(ce(t[1])));return e},[Ie](e){if(cK(e)){if(e._size!==this._size)return!1;for(const t of this){const r=A(e,LN(t[0],ce(t[0])));if(Kr(r)||!De(t[1],r.value))return!1}return!0}return!1},toString(){return Ir(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(pr)}},[Ft](){return this.toJSON()},pipe(){return ye(this,arguments)}},AN=(e,t,r,n)=>{const i=Object.create(aK);return i._editable=e,i._edit=t,i._root=r,i._size=n,i};class vb{constructor(t,r){N(this,"map");N(this,"f");N(this,"v");this.map=t,this.f=r,this.v=n4(this.map._root,this.f,void 0)}next(){if(Kr(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=wb(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new vb(this.map,this.f)}}const wb=e=>e?i4(e[0],e[1],e[2],e[3],e[4]):de(),n4=(e,t,r=void 0)=>{switch(e._tag){case"LeafNode":return Jr(e.value)?xe({value:t(e.key,e.value.value),cont:r}):wb(r);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const n=e.children;return i4(n.length,n,0,t,r)}default:return wb(r)}},i4=(e,t,r,n,i)=>{for(;r<e;){const s=t[r++];if(s&&!ji(s))return n4(s,n,[e,t,r,n,i])}return wb(i)},lK=AN(!1,0,new ga,0),kb=()=>lK,uK=(...e)=>s4(e),s4=e=>{const t=a4(kb());for(const r of e)Kf(t,r[0],r[1]);return mK(t)},cK=e=>Ce(e,RN),dK=e=>e&&ji(e._root),hK=C(2,(e,t)=>LN(e,t,ce(t))),LN=C(3,(e,t,r)=>{let n=e._root,i=0;for(;;)switch(n._tag){case"LeafNode":return De(t,n.key)?n.value:de();case"CollisionNode":{if(r===n.hash){const s=n.children;for(let o=0,a=s.length;o<a;++o){const l=s[o];if("key"in l&&De(t,l.key))return l.value}}return de()}case"IndexedNode":{const s=Dc(i,r),o=Bc(s);if(n.mask&o){n=n.children[XR(n.mask,o)],i+=Al;break}return de()}case"ArrayNode":{if(n=n.children[Dc(i,r)],n){i+=Al;break}return de()}default:return de()}}),fK=C(2,(e,t)=>Jr(LN(e,t,ce(t)))),Kf=C(3,(e,t,r)=>l4(e,t,()=>xe(r))),pK=C(3,(e,t,r)=>e._editable?(e._root=t,e._size=r,e):t===e._root?e:AN(e._editable,e._edit,t,r)),o4=e=>new vb(e,t=>t),xb=e=>e._size,a4=e=>AN(!0,e._edit+1,e._root,e._size),mK=e=>(e._editable=!1,e),l4=C(3,(e,t,r)=>gK(e,t,ce(t),r)),gK=C(4,(e,t,r,n)=>{const i={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,n,r,t,i);return A(e,pK(s,i.value))}),u4=C(2,(e,t)=>l4(e,t,de)),yK=C(2,(e,t)=>Nb(e,kb(),(r,n,i)=>Kf(r,i,t(n,i)))),bK=C(2,(e,t)=>Nb(e,void 0,(r,n,i)=>t(n,i))),Nb=C(3,(e,t,r)=>{const n=e._root;if(n._tag==="LeafNode")return Jr(n.value)?r(t,n.value.value,n.key):t;if(n._tag==="EmptyNode")return t;const i=[n.children];let s;for(;s=i.pop();)for(let o=0,a=s.length;o<a;){const l=s[o++];l&&!ji(l)&&(l._tag==="LeafNode"?Jr(l.value)&&(t=r(t,l.value.value,l.key)):i.push(l.children))}return t}),c4="effect/HashSet",PN=Symbol.for(c4),vK={[PN]:PN,[Symbol.iterator](){return o4(this._keyMap)},[Fe](){return Le(ce(this._keyMap))(ce(c4))},[Ie](e){return wK(e)?xb(this._keyMap)===xb(e._keyMap)&&De(this._keyMap,e._keyMap):!1},toString(){return Ir(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(pr)}},[Ft](){return this.toJSON()},pipe(){return ye(this,arguments)}},Sb=e=>{const t=Object.create(vK);return t._keyMap=e,t},wK=e=>Ce(e,PN),kK=Sb(kb()),_b=()=>kK,xK=e=>{const t=jN(_b());for(const r of e)Jf(t,r);return MN(t)},NK=(...e)=>{const t=jN(_b());for(const r of e)Jf(t,r);return MN(t)},SK=C(2,(e,t)=>fK(e._keyMap,t)),_K=e=>xb(e._keyMap),jN=e=>Sb(a4(e._keyMap)),MN=e=>(e._keyMap._editable=!1,e),d4=C(2,(e,t)=>{const r=jN(e);return t(r),MN(r)}),Jf=C(2,(e,t)=>e._keyMap._editable?(Kf(t,!0)(e._keyMap),e):Sb(Kf(t,!0)(e._keyMap))),h4=C(2,(e,t)=>e._keyMap._editable?(u4(t)(e._keyMap),e):Sb(u4(t)(e._keyMap))),EK=C(2,(e,t)=>d4(e,r=>{for(const n of t)h4(r,n)})),OK=C(2,(e,t)=>d4(_b(),r=>{CK(e,n=>Jf(r,n));for(const n of t)Jf(r,n)})),CK=C(2,(e,t)=>bK(e._keyMap,(r,n)=>t(n))),TK=C(3,(e,t,r)=>Nb(e._keyMap,t,(n,i,s)=>r(n,s))),Pl=_b,IK=xK,FN=NK,RK=SK,f4=_K,Hf=Jf,p4=h4,m4=EK,Qf=OK,Eb=TK,Uc="Die",$c="Empty",Vc="Fail",Zf="Interrupt",zc="Parallel",Kc="Sequential",g4="effect/Cause",y4=Symbol.for(g4),AK={_E:e=>e},Jc={[y4]:AK,[Fe](){return A(ce(g4),Le(ce(qK(this))))},[Ie](e){return LK(e)&&WK(this,e)},pipe(){return ye(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:pr(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:pr(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:pr(this.left),right:pr(this.right)}}},toString(){return Ob(this)},[Ft](){return this.toJSON()}},Gf=(()=>{const e=Object.create(Jc);return e._tag=$c,e})(),DN=e=>{const t=Object.create(Jc);return t._tag=Vc,t.error=e,t},ao=e=>{const t=Object.create(Jc);return t._tag=Uc,t.defect=e,t},jl=e=>{const t=Object.create(Jc);return t._tag=Zf,t.fiberId=e,t},Yf=(e,t)=>{const r=Object.create(Jc);return r._tag=zc,r.left=e,r.right=t,r},oi=(e,t)=>{const r=Object.create(Jc);return r._tag=Kc,r.left=e,r.right=t,r},LK=e=>Ce(e,y4),b4=e=>e._tag===Uc,PK=e=>e._tag===$c?!0:Hc(e,!0,(t,r)=>{switch(r._tag){case $c:return xe(t);case Uc:case Vc:case Zf:return xe(!1);default:return de()}}),BN=e=>$N(void 0,$K)(e),jK=e=>Pc(Hc(e,Il(),(t,r)=>r._tag===Vc?xe(A(t,Pi(r.error))):de())),MK=e=>Pc(Hc(e,Il(),(t,r)=>r._tag===Uc?xe(A(t,Pi(r.defect))):de())),FK=e=>Hc(e,Pl(),(t,r)=>r._tag===Zf?xe(A(t,Hf(r.fiberId))):de()),DK=e=>qN(e,t=>t._tag===Vc?xe(t.error):de()),WN=e=>{const t=DK(e);switch(t._tag){case"None":return Vt(e);case"Some":return Hr(t.value)}},v4=e=>x4(e,{onEmpty:Gf,onFail:()=>Gf,onDie:t=>ao(t),onInterrupt:t=>jl(t),onSequential:oi,onParallel:Yf}),BK=e=>x4(e,{onEmpty:Gf,onFail:t=>ao(t),onDie:t=>ao(t),onInterrupt:t=>jl(t),onSequential:(t,r)=>oi(t,r),onParallel:(t,r)=>Yf(t,r)}),WK=(e,t)=>{let r=oo(e),n=oo(t);for(;Mc(r)&&Mc(n);){const[i,s]=A(Fc(r),Hc([Pl(),Il()],([l,u],d)=>{const[c,f]=UN(d);return xe([A(l,Qf(c)),A(u,ma(f))])})),[o,a]=A(Fc(n),Hc([Pl(),Il()],([l,u],d)=>{const[c,f]=UN(d);return xe([A(l,Qf(c)),A(u,ma(f))])}));if(!De(i,o))return!1;r=s,n=a}return!0},qK=e=>UK(oo(e),Il()),UK=(e,t)=>{for(;;){const[r,n]=A(e,$R([Pl(),Il()],([s,o],a)=>{const[l,u]=UN(a);return[A(s,Qf(l)),A(o,ma(u))]})),i=f4(r)>0?A(t,Pi(r)):t;if(Zz(n))return Pc(i);e=n,t=i}throw new Error("BUG: Cause.flattenCauseLoop - please report an issue at https://github.com/Effect-TS/effect/issues")},qN=C(2,(e,t)=>{const r=[e];for(;r.length>0;){const n=r.pop(),i=t(n);switch(i._tag){case"None":{switch(n._tag){case Kc:case zc:{r.push(n.right),r.push(n.left);break}}break}case"Some":return i}}return de()}),UN=e=>{let t=e;const r=[];let n=Pl(),i=Il();for(;t!==void 0;)switch(t._tag){case $c:{if(r.length===0)return[n,i];t=r.pop();break}case Vc:{if(n=Hf(n,t.error),r.length===0)return[n,i];t=r.pop();break}case Uc:{if(n=Hf(n,t.defect),r.length===0)return[n,i];t=r.pop();break}case Zf:{if(n=Hf(n,t.fiberId),r.length===0)return[n,i];t=r.pop();break}case Kc:{switch(t.left._tag){case $c:{t=t.right;break}case Kc:{t=oi(t.left.left,oi(t.left.right,t.right));break}case zc:{t=Yf(oi(t.left.left,t.right),oi(t.left.right,t.right));break}default:{i=Pi(i,t.right),t=t.left;break}}break}case zc:{r.push(t.right),t=t.left;break}}throw new Error("BUG: Cause.evaluateCauseLoop - please report an issue at https://github.com/Effect-TS/effect/issues")},$K={emptyCase:nN,failCase:rb,dieCase:rb,interruptCase:nN,sequentialCase:(e,t,r)=>t&&r,parallelCase:(e,t,r)=>t&&r},w4="SequentialCase",k4="ParallelCase",x4=C(2,(e,{onDie:t,onEmpty:r,onFail:n,onInterrupt:i,onParallel:s,onSequential:o})=>$N(e,void 0,{emptyCase:()=>r,failCase:(a,l)=>n(l),dieCase:(a,l)=>t(l),interruptCase:(a,l)=>i(l),sequentialCase:(a,l,u)=>o(l,u),parallelCase:(a,l,u)=>s(l,u)})),Hc=C(3,(e,t,r)=>{let n=t,i=e;const s=[];for(;i!==void 0;){const o=r(n,i);switch(n=Jr(o)?o.value:n,i._tag){case Kc:{s.push(i.right),i=i.left;break}case zc:{s.push(i.right),i=i.left;break}default:{i=void 0;break}}i===void 0&&s.length>0&&(i=s.pop())}return n}),$N=C(3,(e,t,r)=>{const n=[e],i=[];for(;n.length>0;){const o=n.pop();switch(o._tag){case $c:{i.push(Vt(r.emptyCase(t)));break}case Vc:{i.push(Vt(r.failCase(t,o.error)));break}case Uc:{i.push(Vt(r.dieCase(t,o.defect)));break}case Zf:{i.push(Vt(r.interruptCase(t,o.fiberId)));break}case Kc:{n.push(o.right),n.push(o.left),i.push(Hr({_tag:w4}));break}case zc:{n.push(o.right),n.push(o.left),i.push(Hr({_tag:k4}));break}}}const s=[];for(;i.length>0;){const o=i.pop();switch(o._tag){case"Left":{switch(o.left._tag){case w4:{const a=s.pop(),l=s.pop(),u=r.sequentialCase(t,a,l);s.push(u);break}case k4:{const a=s.pop(),l=s.pop(),u=r.parallelCase(t,a,l);s.push(u);break}}break}case"Right":{s.push(o.right);break}}}if(s.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),VK=e=>{const t=e.split(`
`),r=[];for(let n=0;n<t.length;n++)if(r.push(t[n].replace(/at .*effect_cutpoint.*\((.*)\)/,"at $1")),t[n].includes("effect_cutpoint"))return r.join(`
`);return r.join(`
`)},Ob=e=>BN(e)?"All fibers interrupted without errors.":O4(e).map(t=>{let r=t.message;if(t.stack&&(r+=`\r
${VK(t.stack)}`),t.span){let n=t.span,i=0;for(;n&&n._tag==="Span"&&i<10;)r+=`\r
    at ${n.name}`,n=Cl(n.parent),i++}return r}).join(`\r
`);class N4{constructor(t,r,n){N(this,"message");N(this,"stack");N(this,"span");this.message=t,this.stack=r,this.span=n}toJSON(){const t={message:this.message};return this.stack&&(t.stack=this.stack),this.span&&(t.span=this.span),t}}const S4=e=>typeof e=="string"?`Error: ${e}`:Ce(e,"toString")&&Nc(e.toString)&&e.toString!==Object.prototype.toString?e.toString():`Error: ${JSON.stringify(e)}`,_4=Symbol.for("effect/SpanAnnotation"),E4=e=>{var r;const t=Ce(e,_4)&&e[_4];return e instanceof Error?new N4(S4(e),(r=e.stack)==null?void 0:r.split(`
`).filter(n=>n.match(/at (.*)/)).join(`
`),t):new N4(S4(e),void 0,t)},O4=e=>$N(e,void 0,{emptyCase:()=>[],dieCase:(t,r)=>[E4(r)],failCase:(t,r)=>[E4(r)],interruptCase:()=>[],parallelCase:(t,r,n)=>[...r,...n],sequentialCase:(t,r,n)=>[...r,...n]}),C4=Symbol.for("effect/Context/Tag"),zK="effect/STM",KK=Symbol.for(zK),JK={...fb,_tag:"Tag",_op:"Tag",[KK]:Oc,[C4]:{_Service:e=>e,_Identifier:e=>e},toString(){return Ir(this.toJSON())},toJSON(){return{_id:"Tag",identifier:this.identifier,stack:this.stack}},[Ft](){return this.toJSON()},of(e){return e},context(e){return R4(this,e)}},VN=$e("effect/Context/Tag/tagRegistry",()=>new Map),HK=e=>{if(e&&VN.has(e))return VN.get(e);const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=t;const n=Object.create(JK);return Object.defineProperty(n,"stack",{get(){return r.stack}}),e&&(n.identifier=e,VN.set(e,n)),n},T4=Symbol.for("effect/Context"),QK={[T4]:{_Services:e=>e},[Ie](e){if(I4(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!De(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Fe](){return hN(this.unsafeMap.size)},pipe(){return ye(this,arguments)},toString(){return Ir(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(pr)}},[Ft](){return this.toJSON()}},Qc=e=>{const t=Object.create(QK);return t.unsafeMap=e,t},ZK=e=>{const t=new Error(`Service not found${e.identifier?`: ${String(e.identifier)}`:""}`);if(e.stack){const r=e.stack.split(`
`);if(r.length>2){const n=r[2].match(/at (.*)/);n&&(t.message=t.message+` (defined at ${n[1]})`)}}if(t.stack){const r=t.stack.split(`
`);r.splice(1,3),t.stack=r.join(`
`)}return t},I4=e=>Ce(e,T4),GK=e=>Ce(e,C4),YK=Qc(new Map),XK=()=>YK,R4=(e,t)=>Qc(new Map([[e,t]])),eJ=C(3,(e,t,r)=>{const n=new Map(e.unsafeMap);return n.set(t,r),Qc(n)}),A4=C(2,(e,t)=>{if(!e.unsafeMap.has(t))throw ZK(t);return e.unsafeMap.get(t)}),tJ=A4,rJ=C(2,(e,t)=>e.unsafeMap.has(t)?bN(e.unsafeMap.get(t)):yN),nJ=C(2,(e,t)=>{const r=new Map(e.unsafeMap);for(const[n,i]of t.unsafeMap)r.set(n,i);return Qc(r)}),Ve=HK,iJ=I4,L4=GK,Xf=XK,zN=R4,Wn=eJ,ep=tJ,sJ=A4,tp=rJ,Cb=nJ,P4=Symbol.for("effect/MutableRef"),oJ={[P4]:P4,toString(){return Ir(this.toJSON())},toJSON(){return{_id:"MutableRef",current:pr(this.current)}},[Ft](){return this.toJSON()},pipe(){return ye(this,arguments)}},Tb=e=>{const t=Object.create(oJ);return t.current=e,t},Ml=e=>e.current,aJ=e=>uJ(e,t=>t+1),Zc=C(2,(e,t)=>(e.current=t,e)),lJ=C(2,(e,t)=>(e.current=t,e.current)),uJ=C(2,(e,t)=>lJ(e,t(Ml(e)))),KN="effect/FiberId",rp=Symbol.for(KN),JN="None",HN="Runtime",cJ="Composite";let dJ=class{constructor(){N(this,eae,rp);N(this,"_tag",JN)}[(eae=rp,Fe)](){return A(ce(KN),Le(ce(this._tag)))}[Ie](e){return j4(e)&&e._tag===JN}toString(){return Ir(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[Ft](){return this.toJSON()}};class hJ{constructor(t,r){N(this,"id");N(this,"startTimeMillis");N(this,tae,rp);N(this,"_tag",HN);this.id=t,this.startTimeMillis=r}[(tae=rp,Fe)](){return A(ce(KN),Le(ce(this._tag)),Le(ce(this.id)),Le(ce(this.startTimeMillis)))}[Ie](t){return j4(t)&&t._tag===HN&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return Ir(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[Ft](){return this.toJSON()}}const fJ=new dJ,j4=e=>Ce(e,rp),QN=e=>{switch(e._tag){case JN:return Pl();case HN:return FN(e.id);case cJ:return A(QN(e.left),Qf(QN(e.right)))}},M4=$e(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>Tb(0)),F4=e=>Array.from(QN(e)).map(t=>`#${t}`).join(","),pJ=()=>{const e=Ml(M4);return A(M4,Zc(e+1)),new hJ(e,Date.now())},Ib=fJ,mJ=F4,D4=pJ,ZN=kb,gJ=uK,yJ=s4,bJ=dK,B4=hK,W4=Kf,q4=o4,vJ=xb,U4=yK,$4=Nb,np=Symbol.for("effect/List"),Rb=e=>Array.from(e),wJ=e=>zV(_N(e),Rb),kJ=wJ(De),xJ={[np]:np,_tag:"Cons",toString(){return Ir(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:Rb(this).map(pr)}},[Ft](){return this.toJSON()},[Ie](e){return z4(e)&&this._tag===e._tag&&kJ(this,e)},[Fe](){return Ec(Rb(this))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if(t._tag==="Nil")return e=!0,this.return();const r=t.head;return t=t.tail,{done:e,value:r}},return(r){return e||(e=!0),{done:!0,value:r}}}},pipe(){return ye(this,arguments)}},Ab=(e,t)=>{const r=Object.create(xJ);return r.head=e,r.tail=t,r},NJ={[np]:np,_tag:"Nil",toString(){return Ir(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[Ft](){return this.toJSON()},[Fe](){return Ec(Rb(this))},[Ie](e){return z4(e)&&this._tag===e._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return ye(this,arguments)}},V4=Object.create(NJ),z4=e=>Ce(e,np),lo=e=>e._tag==="Nil",K4=e=>e._tag==="Cons",SJ=()=>V4,Fl=(e,t)=>Ab(e,t),Gc=SJ,GN=e=>Ab(e,V4),_J=C(2,(e,t)=>OJ(t,e)),EJ=C(2,(e,t)=>Fl(t,e)),OJ=C(2,(e,t)=>{if(lo(e))return t;if(lo(t))return e;{const r=Ab(t.head,e);let n=r,i=t.tail;for(;!lo(i);){const s=Ab(i.head,e);n.tail=s,n=s,i=i.tail}return r}}),CJ=C(3,(e,t,r)=>{let n=t,i=e;for(;!lo(i);)n=r(n,i.head),i=i.tail;return n}),TJ=e=>{let t=Gc(),r=e;for(;!lo(r);)t=EJ(t,r.head),r=r.tail;return t},Yc=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=gN,e}(),IJ=Symbol.for("effect/DifferChunkPatch");function rle(e){return e}({...Yc.prototype,[IJ]:0});const RJ=Symbol.for("effect/DifferContextPatch");function J4(e){return e}const ip={...Yc.prototype,[RJ]:{_Value:J4,_Patch:J4}},AJ=Object.assign(Object.create(ip),{_tag:"Empty"}),LJ=Object.create(AJ),H4=()=>LJ,PJ=Object.assign(Object.create(ip),{_tag:"AndThen"}),jJ=(e,t)=>{const r=Object.create(PJ);return r.first=e,r.second=t,r},MJ=Object.assign(Object.create(ip),{_tag:"AddService"}),FJ=(e,t)=>{const r=Object.create(MJ);return r.tag=e,r.service=t,r},DJ=Object.assign(Object.create(ip),{_tag:"RemoveService"}),BJ=e=>{const t=Object.create(DJ);return t.tag=e,t},WJ=Object.assign(Object.create(ip),{_tag:"UpdateService"}),qJ=(e,t)=>{const r=Object.create(WJ);return r.tag=e,r.update=t,r},UJ=(e,t)=>{const r=new Map(e.unsafeMap);let n=H4();for(const[i,s]of t.unsafeMap.entries())if(r.has(i)){const o=r.get(i);r.delete(i),De(o,s)||(n=Lb(qJ(i,()=>s))(n))}else r.delete(i),n=Lb(FJ(i,s))(n);for(const[i]of r.entries())n=Lb(BJ(i))(n);return n},Lb=C(2,(e,t)=>jJ(e,t)),$J=C(2,(e,t)=>{if(e._tag==="Empty")return t;let r=!1,n=oo(e);const i=new Map(t.unsafeMap);for(;Mc(n);){const o=Fc(n),a=Rl(n);switch(o._tag){case"Empty":{n=a;break}case"AddService":{i.set(o.tag,o.service),n=a;break}case"AndThen":{n=Pi(Pi(a,o.second),o.first);break}case"RemoveService":{i.delete(o.tag),n=a;break}case"UpdateService":{i.set(o.tag,o.update(i.get(o.tag))),r=!0,n=a;break}}}if(!r)return Qc(i);const s=new Map;for(const[o]of t.unsafeMap)i.has(o)&&(s.set(o,i.get(o)),i.delete(o));for(const[o,a]of i)s.set(o,a);return Qc(s)}),VJ=Symbol.for("effect/DifferHashMapPatch");function nle(e){return e}({...Yc.prototype,[VJ]:0});const zJ=Symbol.for("effect/DifferHashSetPatch");function YN(e){return e}const Pb={...Yc.prototype,[zJ]:{_Value:YN,_Key:YN,_Patch:YN}},KJ=Object.assign(Object.create(Pb),{_tag:"Empty"}),JJ=Object.create(KJ),Q4=()=>JJ,HJ=Object.assign(Object.create(Pb),{_tag:"AndThen"}),QJ=(e,t)=>{const r=Object.create(HJ);return r.first=e,r.second=t,r},ZJ=Object.assign(Object.create(Pb),{_tag:"Add"}),GJ=e=>{const t=Object.create(ZJ);return t.value=e,t},YJ=Object.assign(Object.create(Pb),{_tag:"Remove"}),XJ=e=>{const t=Object.create(YJ);return t.value=e,t},eH=(e,t)=>{const[r,n]=Eb([e,Q4()],([i,s],o)=>RK(o)(i)?[p4(o)(i),s]:[i,XN(GJ(o))(s)])(t);return Eb(n,(i,s)=>XN(XJ(s))(i))(r)},XN=C(2,(e,t)=>QJ(e,t)),tH=C(2,(e,t)=>{if(e._tag==="Empty")return t;let r=t,n=oo(e);for(;Mc(n);){const i=Fc(n),s=Rl(n);switch(i._tag){case"Empty":{n=s;break}case"AndThen":{n=Pi(i.first)(Pi(i.second)(s));break}case"Add":{r=Hf(i.value)(r),n=s;break}case"Remove":r=p4(i.value)(r),n=s}}return r}),rH=Symbol.for("effect/DifferOrPatch");function ile(e){return e}({...Yc.prototype,[rH]:0});const nH=Symbol.for("effect/DifferReadonlyArrayPatch");function Z4(e){return e}const sp={...Yc.prototype,[nH]:{_Value:Z4,_Patch:Z4}},iH=Object.assign(Object.create(sp),{_tag:"Empty"}),sH=Object.create(iH),G4=()=>sH,oH=Object.assign(Object.create(sp),{_tag:"AndThen"}),aH=(e,t)=>{const r=Object.create(oH);return r.first=e,r.second=t,r},lH=Object.assign(Object.create(sp),{_tag:"Append"}),uH=e=>{const t=Object.create(lH);return t.values=e,t},cH=Object.assign(Object.create(sp),{_tag:"Slice"}),dH=(e,t)=>{const r=Object.create(cH);return r.from=e,r.until=t,r},hH=Object.assign(Object.create(sp),{_tag:"Update"}),fH=(e,t)=>{const r=Object.create(hH);return r.index=e,r.patch=t,r},pH=e=>{let t=0,r=G4();for(;t<e.oldValue.length&&t<e.newValue.length;){const n=e.oldValue[t],i=e.newValue[t],s=e.differ.diff(n,i);De(s,e.differ.empty)||(r=jb(r,fH(t,s))),t=t+1}return t<e.oldValue.length&&(r=jb(r,dH(0,t))),t<e.newValue.length&&(r=jb(r,uH(Az(t)(e.newValue)))),r},jb=C(2,(e,t)=>aH(e,t)),mH=C(3,(e,t,r)=>{if(e._tag==="Empty")return t;let n=t.slice(),i=Li(e);for(;gb(i);){const s=Bn(i),o=Ic(i);switch(s._tag){case"Empty":{i=o;break}case"AndThen":{o.unshift(s.first,s.second),i=o;break}case"Append":{n.push(...s.values),i=o;break}case"Slice":{n=n.slice(s.from,s.until),i=o;break}case"Update":{n[s.index]=r.patch(s.patch,n[s.index]),i=o;break}}}return n}),gH=Symbol.for("effect/Differ"),yH={[gH]:{_P:Nt,_V:Nt}},Xc=e=>{const t=Object.create(yH);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},bH=()=>Xc({empty:H4(),combine:(e,t)=>Lb(t)(e),diff:(e,t)=>UJ(e,t),patch:(e,t)=>$J(t)(e)}),vH=()=>Xc({empty:Q4(),combine:(e,t)=>XN(t)(e),diff:(e,t)=>eH(e,t),patch:(e,t)=>tH(t)(e)}),wH=e=>Xc({empty:G4(),combine:(t,r)=>jb(t,r),diff:(t,r)=>pH({oldValue:t,newValue:r,differ:e}),patch:(t,r)=>mH(t,r,e)}),Y4=()=>kH((e,t)=>t),kH=e=>Xc({empty:Nt,combine:(t,r)=>t===Nt?r:r===Nt?t:n=>r(t(n)),diff:(t,r)=>De(t,r)?Nt:Wf(r),patch:(t,r)=>e(r,t(r))}),op=255,X4=8,eS=e=>e&op,tS=e=>e>>X4&op,ap=(e,t)=>(e&op)+((t&e&op)<<X4),xH=ap(0,0),NH=e=>ap(e,e),SH=e=>ap(e,0),_H=C(2,(e,t)=>ap(eS(e)&~t,tS(e))),EH=C(2,(e,t)=>e|t),OH=e=>~e>>>0&op,CH=0,ed=1,TH=2,eA=4,rS=16,tA=32,IH=e=>Mb(e,tA),RH=C(2,(e,t)=>e|t),ya=e=>rA(e)&&!LH(e),rA=e=>Mb(e,ed),Mb=C(2,(e,t)=>(e&t)!==0),nA=(...e)=>e.reduce((t,r)=>t|r,0),AH=nA(CH),iA=e=>Mb(e,eA),LH=e=>Mb(e,rS),td=C(2,(e,t)=>ap(e^t,t)),rd=C(2,(e,t)=>e&(OH(eS(t))|tS(t))|eS(t)&tS(t)),sA=Xc({empty:xH,diff:(e,t)=>td(e,t),combine:(e,t)=>EH(t)(e),patch:(e,t)=>rd(t,e)}),PH=NH,oA=SH,aA=_H,lA=(e,t)=>({_tag:"Par",left:e,right:t}),Fb=(e,t)=>({_tag:"Seq",left:e,right:t}),jH=e=>{let t=GN(e),r=Gc();for(;;){const[n,i]=CJ(t,[uA(),Gc()],([s,o],a)=>{const[l,u]=MH(a);return[cA(s,l),_J(o,u)]});if(r=FH(r,n),lo(i))return TJ(r);t=i}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},MH=e=>{let t=e,r=uA(),n=Gc(),i=Gc();for(;;)switch(t._tag){case"Empty":{if(lo(n))return[r,i];t=n.head,n=n.tail;break}case"Par":{n=Fl(t.right,n),t=t.left;break}case"Seq":{const s=t.left,o=t.right;switch(s._tag){case"Empty":{t=o;break}case"Par":{const a=s.left,l=s.right;t=lA(Fb(a,o),Fb(l,o));break}case"Seq":{const a=s.left,l=s.right;t=Fb(a,Fb(l,o));break}case"Single":{t=s,i=Fl(o,i);break}}break}case"Single":{if(r=cA(r,WH(t.dataSource,t.blockedRequest)),lo(n))return[r,i];t=n.head,n=n.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},FH=(e,t)=>{if(lo(e))return GN(iS(t));if(qH(t))return e;const r=JH(e.head),n=UH(t);return r.length===1&&n.length===1&&De(r[0],n[0])?Fl(KH(e.head,iS(t)),e.tail):Fl(iS(t),e)},DH=Symbol.for("effect/RequestBlock/RequestBlockParallel"),BH={_R:e=>e};class nS{constructor(t){N(this,"map");N(this,rae,BH);this.map=t}}rae=DH;const uA=()=>new nS(ZN()),WH=(e,t)=>new nS(gJ([e,Array.of(t)])),cA=(e,t)=>new nS($4(e.map,t.map,(r,n,i)=>W4(r,i,hs(B4(r,i),{onNone:()=>n,onSome:s=>[...s,...n]})))),qH=e=>bJ(e.map),UH=e=>Array.from(q4(e.map)),iS=e=>zH(U4(e.map,t=>Array.of(t))),$H=Symbol.for("effect/RequestBlock/RequestBlockSequential"),VH={_R:e=>e};class dA{constructor(t){N(this,"map");N(this,nae,VH);this.map=t}}nae=$H;const zH=e=>new dA(e),KH=(e,t)=>new dA($4(t.map,e.map,(r,n,i)=>W4(r,i,hs(B4(r,i),{onNone:()=>[],onSome:s=>[...s,...n]})))),JH=e=>Array.from(q4(e.map)),HH=e=>Array.from(e.map),lp="Pending",sS="Done",QH="effect/Deferred",ZH=Symbol.for(QH),GH={_E:e=>e,_A:e=>e},oS=e=>({_tag:lp,joiners:e}),hA=e=>({_tag:sS,effect:e}),ai=e=>(Object.defineProperty(e,"name",{value:"effect_cutpoint"}),e),fA=Symbol.for("effect/Tracer"),YH=e=>({[fA]:fA,...e}),aS=Ve(Symbol.for("effect/Tracer")),pA=Ve(Symbol.for("effect/ParentSpan")),XH=$e("effect/Tracer/SpanId.ids",()=>Tb(0));class eQ{constructor(t,r,n,i,s){N(this,"name");N(this,"parent");N(this,"context");N(this,"links");N(this,"startTime");N(this,"_tag","Span");N(this,"spanId");N(this,"traceId","native");N(this,"sampled",!0);N(this,"status");N(this,"attributes");N(this,"events",[]);N(this,"end",(t,r)=>{this.status={_tag:"Ended",endTime:t,exit:r,startTime:this.status.startTime}});N(this,"attribute",(t,r)=>{this.attributes.set(t,r)});N(this,"event",(t,r,n)=>{this.events.push([t,r,n??{}])});this.name=t,this.parent=r,this.context=n,this.links=i,this.startTime=s,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.spanId=`span${aJ(XH)}`}}const tQ=YH({span:(e,t,r,n,i)=>new eQ(e,t,r,n,i),context:e=>e()}),rQ="effect/EffectError",nQ=Symbol.for(rQ),iQ=e=>Ce(e,nQ),mA=(e,t)=>{const r=new pn("Blocked");return r.i0=e,r.i1=t,r},sQ=e=>{const t=new pn("RunBlocked");return t.i0=e,t},Db=Symbol.for("effect/Effect");class oQ{constructor(t,r){N(this,"patch");N(this,"op");N(this,"_op",mN);this.patch=t,this.op=r}}class pn{constructor(t){N(this,"_op");N(this,"i0");N(this,"i1");N(this,"i2");N(this,"trace");N(this,iae,Oc);this._op=t}[(iae=Db,Ie)](t){return this===t}[Fe](){return Uf(this)}pipe(){return ye(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,i0:pr(this.i0),i1:pr(this.i1),i2:pr(this.i2)}}toString(){return Ir(this.toJSON())}[Ft](){return this.toJSON()}}class gA{constructor(t){N(this,"_op");N(this,"i0");N(this,"i1");N(this,"i2");N(this,"trace");N(this,sae,Oc);this._op=t,this._tag=t}[(sae=Db,Ie)](t){return this===t}[Fe](){return Uf(this)}get cause(){return this.i0}pipe(){return ye(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return Ir(this.toJSON())}[Ft](){return this.toJSON()}}class yA{constructor(t){N(this,"_op");N(this,"i0");N(this,"i1");N(this,"i2");N(this,"trace");N(this,oae,Oc);this._op=t,this._tag=t}[(oae=Db,Ie)](t){return this===t}[Fe](){return Uf(this)}get value(){return this.i0}pipe(){return ye(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:pr(this.value)}}toString(){return Ir(this.toJSON())}[Ft](){return this.toJSON()}}const lS=e=>Ce(e,Db),mn=e=>{ai(e);const t=new pn(NR);return t.i0=e,t},uS=C(3,(e,t,r)=>ba(n=>X(e,i=>X(id(_t(()=>n(t(i)))),s=>_t(()=>r(i,s)).pipe(ms({onFailure:o=>{switch(s._tag){case hn:return ir(Yf(s.i0,o));case fn:return ir(o)}},onSuccess:()=>s})))))),Mi=C(2,(e,t)=>X(e,()=>Re(t))),Dl=e=>Mi(e,void 0),ps=(e,t=Ib)=>_t(()=>{ai(e);let r,n;function i(l){r?r(l):n===void 0&&(n=l)}const s=new pn(ab);s.i0=l=>{r=l,n&&l(n)},s.i1=t;let o,a;return e.length!==1?(a=new AbortController,o=e(i,a.signal)):o=e(i),o||a?SA(s,l=>(a&&a.abort(),o??mr)):s}),cS=(e,t=Ib)=>ps(r=>{const n=e(r);if(so(n))r(n.right);else return n.left},t),dS=C(2,(e,t)=>{const r=new pn(lb);return r.i0=e,r.i1=t,ai(t),r}),hS=C(2,(e,t)=>Bb(e,{onFailure:t,onSuccess:Re})),bA=e=>(...t)=>e(...t),aQ=C(3,(e,t,r)=>dS(e,n=>{const i=WN(n);switch(i._tag){case"Left":return t(i.left)?r(i.left):ir(n);case"Right":return ir(i.right)}})),fS=Symbol.for("effect/SpanAnnotation"),vA=Symbol.for("effect/OriginalAnnotation"),lQ=(e,t)=>Jr(t)?new Proxy(e,{has(r,n){return n===fS||n===vA||n in r},get(r,n){return n===fS?t.value:n===vA?e:r[n]}}):e,uQ=e=>cQ(()=>ao(new $Q(e))),nd=e=>Bb(e,{onFailure:t=>Re(Hr(t)),onSuccess:t=>Re(Vt(t))}),id=e=>fQ(e,{onFailure:ut,onSuccess:sr}),nr=e=>ib(e)&&!(fS in e)?mn(t=>ir(DN(lQ(e,sZ(t))))):ir(DN(e)),wA=e=>X(le(e),nr),ir=e=>{const t=new gA(hn);return t.i0=e,t},cQ=e=>X(le(e),ir),kA=mn(e=>Re(e.id())),dQ=e=>mn(t=>e(t.id())),X=C(2,(e,t)=>{ai(t);const r=new pn(ub);return r.i0=e,r.i1=t,r}),hQ=e=>{const t=new pn("OnStep");return t.i0=e,t},pS=e=>X(e,Nt),fQ=C(2,(e,{onFailure:t,onSuccess:r})=>ms(e,{onFailure:n=>Re(t(n)),onSuccess:n=>Re(r(n))})),ms=C(2,(e,{onFailure:t,onSuccess:r})=>{const n=new pn(cb);return n.i0=e,n.i1=t,n.i2=r,ai(t),ai(r),n}),Bb=C(2,(e,{onFailure:t,onSuccess:r})=>ms(e,{onFailure:n=>{const i=jK(n);return MK(n).length>0?ir(BK(n)):i.length>0?t(YR(i)):ir(n)},onSuccess:r})),uo=C(2,(e,t)=>_t(()=>{const r=St(e),n=new Array(r.length);let i=0;return Mi(vS({while:()=>i<r.length,body:()=>t(r[i],i),step:s=>{n[i++]=s}}),n)})),Wb=C(2,(e,t)=>_t(()=>{const r=St(e);let n=0;return vS({while:()=>n<r.length,body:()=>t(r[n],n),step:()=>{n++}})})),xA=e=>{const t=new pn($f);return t.i0=PH(ed),t.i1=()=>e,t},lt=C(2,(e,t)=>X(e,r=>le(()=>t(r)))),NA=C(2,(e,{onFailure:t,onSuccess:r})=>Bb(e,{onFailure:n=>wA(()=>t(n)),onSuccess:n=>le(()=>r(n))})),mS=C(2,(e,t)=>ms(e,{onFailure:r=>{const n=WN(r);switch(n._tag){case"Left":return wA(()=>t(n.left));case"Right":return ir(n.right)}},onSuccess:Re})),gS=C(2,(e,t)=>ba(r=>ms(r(e),{onFailure:n=>{const i=ut(n);return ms(t(i),{onFailure:s=>ut(oi(n,s)),onSuccess:()=>i})},onSuccess:n=>{const i=sr(n);return gs(t(i),i)}}))),SA=C(2,(e,t)=>gS(e,VA({onFailure:r=>BN(r)?Dl(t(FK(r))):mr,onSuccess:()=>mr}))),Re=e=>{const t=new yA(fn);return t.i0=e,t},_t=e=>X(le(e),Nt),le=e=>{ai(e);const t=new pn(xR);return t.i0=e,t},yS=C(2,(e,t)=>X(e,r=>{const n=typeof t=="function"?t(r):t;return lS(n)?Mi(n,r):IV(n)?ps(i=>{n.then(s=>i(Re(r))).catch(s=>i(nr(new dp(s))))}):Re(r)})),pQ=e=>mn(t=>{const r=t.getFiberRef(xS),n=A(r,Rt(()=>t.scope()));return e(up(xS,xe(n)))}),bS=e=>{const t=new pn($f);return t.i0=oA(ed),t.i1=()=>e,t},ba=e=>{ai(e);const t=new pn($f);return t.i0=oA(ed),t.i1=r=>rA(r)?e(xA):e(bS),t},mr=Re(void 0),mQ=e=>{const t=new pn($f);return t.i0=e,t.i1=void 0,t},gQ=C(2,(e,t)=>X(t,r=>r?A(e,lt(xe)):Re(de()))),vS=e=>{const t=new pn(db);return t.i0=e.while,t.i1=e.body,t.i2=e.step,ai(e.body),ai(e.step),ai(e.while),t},wS=e=>{const t=new pn(hb);return typeof(e==null?void 0:e.priority)<"u"?MQ(t,e.priority):t},_A=C(2,(e,t)=>X(e,r=>lt(t,n=>[r,n]))),EA=C(2,(e,t)=>X(e,r=>Mi(t,r))),gs=C(2,(e,t)=>X(e,()=>t)),yQ=C(3,(e,t,r)=>X(e,n=>lt(t,i=>r(n,i)))),bQ=e=>X(kA,t=>A(e,vQ(t))),vQ=C(2,(e,t)=>X(e.interruptAsFork(t),()=>e.await)),wQ={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return ye(this,arguments)}},kQ={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return ye(this,arguments)}},xQ={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return ye(this,arguments)}},NQ={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return ye(this,arguments)}},OA={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return ye(this,arguments)}},CA={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return ye(this,arguments)}},SQ={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return ye(this,arguments)}},_Q={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return ye(this,arguments)}},EQ="effect/FiberRef",OQ=Symbol.for(EQ),CQ={_A:e=>e},qb=e=>IA(e,t=>[t,t]),kS=C(2,(e,t)=>X(qb(e),t)),TA=C(2,(e,t)=>IA(e,()=>[void 0,t])),IA=C(2,(e,t)=>mn(r=>{const[n,i]=t(r.getFiberRef(e));return r.setFiberRef(e,i),Re(n)})),up=C(3,(e,t,r)=>uS(EA(qb(t),TA(t,r)),()=>e,n=>TA(t,n))),TQ=C(3,(e,t,r)=>kS(t,n=>up(e,t,r(n)))),qn=(e,t)=>sd(e,{differ:Y4(),fork:(t==null?void 0:t.fork)??Nt,join:t==null?void 0:t.join}),IQ=e=>{const t=vH();return sd(e,{differ:t,fork:t.empty})},RQ=e=>{const t=wH(Y4());return sd(e,{differ:t,fork:t.empty})},RA=e=>{const t=bH();return sd(e,{differ:t,fork:t.empty})},sd=(e,t)=>({[OQ]:CQ,initial:e,diff:(r,n)=>t.differ.diff(r,n),combine:(r,n)=>t.differ.combine(r,n),patch:r=>n=>t.differ.patch(r,n),fork:t.fork,join:t.join??((r,n)=>n),pipe(){return ye(this,arguments)}}),AQ=e=>sd(e,{differ:sA,fork:sA.empty}),va=$e(Symbol.for("effect/FiberRef/currentContext"),()=>RA(Xf())),cp=$e(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>qn(0)),AA=$e(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>qn(2048)),LQ=$e(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>qn(ZN())),PQ=$e(Symbol.for("effect/FiberRef/currentLogLevel"),()=>qn(OA)),jQ=$e(Symbol.for("effect/FiberRef/currentLogSpan"),()=>qn(Gc())),MQ=C(2,(e,t)=>up(e,cp,t)),FQ=$e(Symbol.for("effect/FiberRef/currentConcurrency"),()=>qn("unbounded")),DQ=$e(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>qn(!0)),BQ=$e(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>qn(xe(CA))),LA=$e(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>RQ(Ac())),xS=$e(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>qn(de(),{fork:()=>de(),join:(e,t)=>e})),Ub=$e(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>qn(Gf,{fork:()=>Gf,join:(e,t)=>e})),NS=Symbol.for("effect/Scope"),PA=Symbol.for("effect/CloseableScope"),SS=(e,t)=>e.addFinalizer(t),$b=(e,t)=>e.close(t),_S=(e,t)=>e.fork(t),jA=C(2,(e,t)=>lt(qQ(e,t),hs({onNone:()=>()=>mr,onSome:r=>n=>WQ(r,n)(e)}))),WQ=C(3,(e,t,r)=>_t(()=>{switch(e.state._tag){case"Exited":return mr;case"Running":{const n=e.state.finalizers.get(t);return e.state.finalizers.delete(t),n!=null?e.state.update(n)(r):mr}}})),qQ=C(2,(e,t)=>_t(()=>{switch(e.state._tag){case"Exited":return e.state.nextKey+=1,Mi(t(e.state.exit),de());case"Running":{const r=e.state.nextKey;return e.state.finalizers.set(r,t),e.state.nextKey+=1,Re(xe(r))}}})),UQ=le(()=>({state:{_tag:"Running",nextKey:0,finalizers:new Map,update:Nt}})),MA=function(){class e extends globalThis.Error{commit(){return nr(this)}toString(){return this.message?`${this.name}: ${this.message}`:this.name}toJSON(){return{...this}}[Ft](){const r=this.stack;return r?`${this.toString()}
${r.split(`
`).slice(1).join(`
`)}`:this.toString()}}return Object.assign(e.prototype,ez),e}(),FA=(e,t)=>{class r extends MA{constructor(){super(...arguments);N(this,"_tag",t)}}return Object.assign(r.prototype,e),r.prototype.name=t,r},DA=Symbol.for("effect/Cause/errors/RuntimeException"),$Q=FA({[DA]:DA},"RuntimeException"),VQ=Symbol.for("effect/Cause/errors/InterruptedException"),zQ=e=>Ce(e,VQ),BA=Symbol.for("effect/Cause/errors/NoSuchElement"),WA=FA({[BA]:BA},"NoSuchElementException"),qA=Symbol.for("effect/Cause/errors/UnknownException"),dp=function(){class e extends MA{constructor(n,i){super(i??(Ce(n,"message")&&qf(n.message)?n.message:void 0));N(this,"error");N(this,"_tag","UnknownException");this.error=n}}return Object.assign(e.prototype,{[qA]:qA,name:"UnknownException"}),e}(),KQ=e=>e._tag==="Failure",JQ=C(2,(e,t)=>{switch(e._tag){case hn:return ut(e.i0);case fn:return sr(t)}}),ES=e=>JQ(e,void 0),hp=(e,t)=>GQ(e,t!=null&&t.parallel?Yf:oi),UA=e=>ut(ao(e)),$A=e=>ut(DN(e)),ut=e=>{const t=new gA(hn);return t.i0=e,t},HQ=e=>ut(jl(e)),OS=C(2,(e,t)=>{switch(e._tag){case hn:return ut(e.i0);case fn:return sr(t(e.i0))}}),VA=C(2,(e,{onFailure:t,onSuccess:r})=>{switch(e._tag){case hn:return t(e.i0);case fn:return r(e.i0)}}),QQ=C(2,(e,{onFailure:t,onSuccess:r})=>{switch(e._tag){case hn:return t(e.i0);case fn:return r(e.i0)}}),sr=e=>{const t=new yA(fn);return t.i0=e,t},ys=sr(void 0),ZQ=C(3,(e,t,{onFailure:r,onSuccess:n})=>{switch(e._tag){case hn:switch(t._tag){case fn:return ut(e.i0);case hn:return ut(r(e.i0,t.i0))}case fn:switch(t._tag){case fn:return sr(n(e.i0,t.i0));case hn:return ut(t.i0)}}}),GQ=(e,t)=>{const r=ZR(e);return Mc(r)?A(Rl(r),$R(A(Fc(r),OS(oo)),(n,i)=>A(n,ZQ(i,{onSuccess:(s,o)=>A(s,Pi(o)),onFailure:t}))),OS(Pc),OS(n=>Array.from(n)),xe):de()},zA=e=>({[ZH]:GH,state:Tb(oS([])),blockingOn:e,pipe(){return ye(this,arguments)}}),YQ=()=>X(kA,e=>XQ(e)),XQ=e=>le(()=>zA(e)),KA=e=>cS(t=>{const r=Ml(e.state);switch(r._tag){case sS:return Vt(r.effect);case lp:return A(e.state,Zc(oS([t,...r.joiners]))),Hr(rZ(e,t))}},e.blockingOn),JA=C(2,(e,t)=>le(()=>{const r=Ml(e.state);switch(r._tag){case sS:return!1;case lp:{A(e.state,Zc(hA(t)));for(let n=0;n<r.joiners.length;n++)r.joiners[n](t);return!0}}})),eZ=C(2,(e,t)=>JA(e,ir(t))),tZ=C(2,(e,t)=>JA(e,Re(t))),HA=(e,t)=>{const r=Ml(e.state);if(r._tag===lp){A(e.state,Zc(hA(t)));for(let n=r.joiners.length-1;n>=0;n--)r.joiners[n](t)}},rZ=(e,t)=>le(()=>{const r=Ml(e.state);r._tag===lp&&A(e.state,Zc(oS(r.joiners.filter(n=>n!==t))))}),nZ=qb(va),QA=()=>nZ,od=e=>X(QA(),e),CS=C(2,(e,t)=>up(va,t)(e)),TS=C(2,(e,t)=>TQ(va,r=>Cb(r,t))(e)),iZ=C(2,(e,t)=>od(r=>CS(e,t(r)))),sZ=e=>{const t=e.getFiberRef(va).unsafeMap.get(pA);return t!==void 0&&t._tag==="Span"?xe(t):de()},IS=Symbol.for("effect/Duration"),oZ=BigInt(1e3),RS=BigInt(1e9),ZA=/^(-?\d+(?:\.\d+)?)\s+(nanos|micros|millis|seconds|minutes|hours|days|weeks)$/,wa=e=>{if(YA(e))return e;if(xc(e))return LS(e);if(lN(e))return AS(e);if(Array.isArray(e)){if(e.length===2&&xc(e[0])&&xc(e[1]))return AS(BigInt(e[0])*RS+BigInt(e[1]))}else{ZA.lastIndex=0;const t=ZA.exec(e);if(t){const[r,n,i]=t,s=Number(n);switch(i){case"nanos":return AS(BigInt(n));case"micros":return cZ(BigInt(n));case"millis":return LS(s);case"seconds":return dZ(s);case"minutes":return hZ(s);case"hours":return fZ(s);case"days":return pZ(s);case"weeks":return mZ(s)}}}throw new Error("Invalid duration input")},GA={_tag:"Millis",millis:0},aZ={_tag:"Infinity"},lZ={[IS]:IS,[Fe](){return vR(this.value)},[Ie](e){return YA(e)&&wZ(this,e)},toString(){return`Duration(${kZ(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:yZ(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[Ft](){return this.toJSON()},pipe(){return ye(this,arguments)}},co=e=>{const t=Object.create(lZ);return xc(e)?isNaN(e)||e<0?t.value=GA:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(e*1e6))}:t.value=aZ:e<BigInt(0)?t.value=GA:t.value={_tag:"Nanos",nanos:e},t},YA=e=>Ce(e,IS),uZ=co(0),AS=e=>co(e),cZ=e=>co(e*oZ),LS=e=>co(e),dZ=e=>co(e*1e3),hZ=e=>co(e*6e4),fZ=e=>co(e*36e5),pZ=e=>co(e*864e5),mZ=e=>co(e*6048e5),PS=e=>{const t=wa(e);switch(t.value._tag){case"Infinity":return 1/0;case"Nanos":return Number(t.value.nanos)/1e6;case"Millis":return t.value.millis}},gZ=e=>{const t=wa(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(t.value.millis*1e6))}},yZ=e=>{const t=wa(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/RS),Number(t.value.nanos%RS)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},XA=C(3,(e,t,r)=>{const n=wa(e),i=wa(t);if(n.value._tag==="Infinity"||i.value._tag==="Infinity")return r.onMillis(PS(n),PS(i));if(n.value._tag==="Nanos"||i.value._tag==="Nanos"){const s=n.value._tag==="Nanos"?n.value.nanos:BigInt(Math.round(n.value.millis*1e6)),o=i.value._tag==="Nanos"?i.value.nanos:BigInt(Math.round(i.value.millis*1e6));return r.onNanos(s,o)}return r.onMillis(n.value.millis,i.value.millis)}),bZ=(e,t)=>XA(e,t,{onMillis:(r,n)=>r===n,onNanos:(r,n)=>r===n}),vZ=C(2,(e,t)=>XA(e,t,{onMillis:(r,n)=>r>=n,onNanos:(r,n)=>r>=n})),wZ=C(2,(e,t)=>bZ(wa(e),wa(t))),kZ=e=>{const t=wa(e),r=[];if(t.value._tag==="Infinity")return"Infinity";const n=gZ(t);n%1000000n&&r.push(`${n%1000000n}ns`);const i=n/1000000n;i%1000n!==0n&&r.push(`${i%1000n}ms`);const s=i/1000n;s%60n!==0n&&r.push(`${s%60n}s`);const o=s/60n;o%60n!==0n&&r.push(`${o%60n}m`);const a=o/60n;a%24n!==0n&&r.push(`${a%24n}h`);const l=a/24n;return l!==0n&&r.push(`${l}d`),r.reverse().join(" ")},xZ=KQ,eL=e=>e+1,NZ=e=>e-1,ho=lz,tL=Symbol.for("effect/MutableHashMap"),SZ={[tL]:tL,[Symbol.iterator](){return new jS(this)},toString(){return Ir(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(pr)}},[Ft](){return this.toJSON()},pipe(){return ye(this,arguments)}};class jS{constructor(t){N(this,"self");N(this,"referentialIterator");N(this,"bucketIterator");this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new _Z(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new jS(this.self)}}class _Z{constructor(t){N(this,"backing");N(this,"currentBucket");this.backing=t}next(){if(this.currentBucket===void 0){const r=this.backing.next();if(r.done)return r;this.currentBucket=r.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const EZ=()=>{const e=Object.create(SZ);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},Bl=C(2,(e,t)=>{if(ob(t)===!1)return e.referential.has(t)?xe(e.referential.get(t)):de();const r=t[Fe](),n=e.buckets.get(r);return n===void 0?de():OZ(e,n,t)}),OZ=(e,t,r,n=!1)=>{for(let i=0,s=t.length;i<s;i++)if(r[Ie](t[i][0])){const o=t[i][1];return n&&(t.splice(i,1),e.bucketsSize--),xe(o)}return de()},fp=C(2,(e,t)=>Jr(Bl(e,t))),pp=C(3,(e,t,r)=>{if(ob(t)===!1)return e.referential.set(t,r),e;const n=t[Fe](),i=e.buckets.get(n);return i===void 0?(e.buckets.set(n,[[t,r]]),e.bucketsSize++,e):(CZ(e,i,t),i.push([t,r]),e.bucketsSize++,e)}),CZ=(e,t,r)=>{for(let n=0,i=t.length;n<i;n++)if(r[Ie](t[n][0])){t.splice(n,1),e.bucketsSize--;return}},rL=typeof process>"u"?!1:!!(process!=null&&process.isBun),TZ=rL?e=>clearInterval(e):e=>clearTimeout(e),nL=rL?(e,t)=>{const r=setInterval(()=>{e(),clearInterval(r)},t);return r}:(e,t)=>setTimeout(e,t),IZ="effect/Clock",MS=Symbol.for(IZ),FS=Ve(MS),RZ=2**31-1,iL={unsafeSchedule(e,t){const r=PS(t);if(r>RZ)return rb;let n=!1;const i=nL(()=>{n=!0,e()},r);return()=>(TZ(i),!n)}},sL=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;const t="timeOrigin"in performance&&typeof performance.timeOrigin=="number"?BigInt(Math.round(performance.timeOrigin*1e6)):BigInt(Date.now())*e-BigInt(Math.round(performance.now()*1e6));return()=>t+BigInt(Math.round(performance.now()*1e6))}(),AZ=function(){const e=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!e)return sL;const t=sL()-e.bigint();return()=>t+e.bigint()}();class LZ{constructor(){N(this,aae,MS);N(this,"currentTimeMillis",le(()=>this.unsafeCurrentTimeMillis()));N(this,"currentTimeNanos",le(()=>this.unsafeCurrentTimeNanos()))}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return AZ()}scheduler(){return Re(iL)}sleep(t){return cS(r=>{const n=iL.unsafeSchedule(()=>r(mr),t);return Hr(Dl(le(n)))})}}aae=MS;const PZ=()=>new LZ,oL="And",aL="Or",lL="InvalidData",uL="MissingData",cL="SourceUnavailable",dL="Unsupported",jZ="effect/ConfigError",hL=Symbol.for(jZ),ad={[hL]:hL},fL=(e,t)=>{const r=Object.create(ad);return r._tag=oL,r.left=e,r.right=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),r},pL=(e,t)=>{const r=Object.create(ad);return r._tag=aL,r.left=e,r.right=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),r},MZ=(e,t,r={pathDelim:"."})=>{const n=Object.create(ad);return n._tag=lL,n.path=e,n.message=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`(Invalid data at ${A(this.path,Tl(r.pathDelim))}: "${this.message}")`}}),n},Wl=(e,t,r={pathDelim:"."})=>{const n=Object.create(ad);return n._tag=uL,n.path=e,n.message=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`(Missing data at ${A(this.path,Tl(r.pathDelim))}: "${this.message}")`}}),n},FZ=(e,t,r,n={pathDelim:"."})=>{const i=Object.create(ad);return i._tag=cL,i.path=e,i.message=t,i.cause=r,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Source unavailable at ${A(this.path,Tl(n.pathDelim))}: "${this.message}")`}}),i},DZ=(e,t,r={pathDelim:"."})=>{const n=Object.create(ad);return n._tag=dL,n.path=e,n.message=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${A(this.path,Tl(r.pathDelim))}: "${this.message}")`}}),n},ql=C(2,(e,t)=>{switch(e._tag){case oL:return fL(ql(e.left,t),ql(e.right,t));case aL:return pL(ql(e.left,t),ql(e.right,t));case lL:return MZ([...t,...e.path],e.message);case uL:return Wl([...t,...e.path],e.message);case cL:return FZ([...t,...e.path],e.message,e.cause);case dL:return DZ([...t,...e.path],e.message)}}),BZ={_tag:"Empty"},DS=C(2,(e,t)=>{let r=GN(t),n=e;for(;K4(r);){const i=r.head;switch(i._tag){case"Empty":{r=r.tail;break}case"AndThen":{r=Fl(i.first,Fl(i.second,r.tail));break}case"MapName":{n=Rr(n,i.f),r=r.tail;break}case"Nested":{n=mb(n,i.name),r=r.tail;break}case"Unnested":{if(A(Tc(n),yz(i.name)))n=Ic(n),r=r.tail;else return Hr(Wl(n,`Expected ${i.name} to be in path in ConfigProvider#unnested`));break}}}return Vt(n)}),WZ="Constant",qZ="Fail",UZ="Fallback",$Z="Described",VZ="Lazy",zZ="MapOrFail",KZ="Nested",JZ="Primitive",HZ="Sequence",QZ="HashMap",ZZ="ZipWith",Vb=(e,t)=>[...e,...t],GZ="effect/ConfigProvider",BS=Symbol.for(GZ),YZ=Ve(BS),XZ="effect/ConfigProviderFlat",mL=Symbol.for(XZ),eG=e=>({[BS]:BS,pipe(){return ye(this,arguments)},...e}),tG=e=>({[mL]:mL,patch:e.patch,load:(t,r,n=!0)=>e.load(t,r,n),enumerateChildren:e.enumerateChildren}),rG=e=>eG({load:t=>X(li(e,Ac(),t,!1),r=>hs(Tc(r),{onNone:()=>nr(Wl(Ac(),`Expected a single value having structure: ${t}`)),onSome:Re})),flattened:e}),nG=(e={})=>{const{pathDelim:t,seqDelim:r}=Object.assign({},{pathDelim:"_",seqDelim:","},e),n=o=>A(o,Tl(t)),i=o=>o.split(t),s=()=>typeof process<"u"&&"env"in process&&typeof process.env=="object"?process.env:{};return rG(tG({load:(o,a,l=!0)=>{const u=n(o),d=s(),c=u in d?xe(d[u]):de();return A(c,mS(()=>Wl(o,`Expected ${u} to exist in the process context`)),X(f=>lG(f,o,a,r,l)))},enumerateChildren:o=>le(()=>{const a=s(),l=Object.keys(a),u=Array.from(l).map(d=>i(d.toUpperCase())).filter(d=>{for(let c=0;c<o.length;c++){const f=A(o,DR(c)),m=d[c];if(m===void 0||f!==m)return!1}return!0}).flatMap(d=>d.slice(o.length,o.length+1));return IK(u)}),patch:BZ}))},iG=(e,t,r,n)=>{const i=VR(r.length,l=>l>=n.length?de():xe([e(l),l+1])),s=VR(n.length,l=>l>=r.length?de():xe([t(l),l+1])),o=Vb(r,i),a=Vb(n,s);return[o,a]},sG=(e,t)=>{let r=t;if(r._tag==="Nested"){const n=e.slice();for(;r._tag==="Nested";)n.push(r.name),r=r.config;return n}return e},li=(e,t,r,n)=>{const i=r;switch(i._tag){case WZ:return Re(Li(i.value));case $Z:return _t(()=>li(e,t,i.config,n));case qZ:return nr(Wl(t,i.message));case UZ:return A(_t(()=>li(e,t,i.first,n)),hS(s=>i.condition(s)?A(li(e,t,i.second,n),hS(o=>nr(pL(s,o)))):nr(s)));case VZ:return _t(()=>li(e,t,i.config(),n));case zZ:return _t(()=>A(li(e,t,i.original,n),X(uo(s=>A(i.mapOrFail(s),mS(ql(sG(t,i.original))))))));case KZ:return _t(()=>li(e,Vb(t,Li(i.name)),i.config,n));case JZ:return A(DS(t,e.patch),X(s=>A(e.load(s,i,n),X(o=>{if(o.length===0){const a=A(Tz(s),Rt(()=>"<n/a>"));return nr(Wl([],`Expected ${i.description} with name ${a}`))}return Re(o)}))));case HZ:return A(DS(t,e.patch),X(s=>A(e.enumerateChildren(s),X(dG),X(o=>o.length===0?_t(()=>lt(li(e,s,i.config,!0),Li)):A(uo(o,a=>li(e,MR(t,`[${a}]`),i.config,!0)),lt(a=>{const l=Vz(a);return l.length===0?Li(Ac()):Li(l)}))))));case QZ:return _t(()=>A(DS(t,e.patch),X(s=>A(e.enumerateChildren(s),X(o=>A(o,uo(a=>li(e,Vb(s,Li(a)),i.valueConfig,n)),lt(a=>{if(a.length===0)return Li(ZN());const l=a.map(u=>Array.from(u));return A(uG(l),Rr(u=>yJ(qR(St(o),u))))})))))));case ZZ:return _t(()=>A(li(e,t,i.left,n),nd,X(s=>A(li(e,t,i.right,n),nd,X(o=>{if(vr(s)&&vr(o))return nr(fL(s.left,o.left));if(vr(s)&&so(o))return nr(s.left);if(so(s)&&vr(o))return nr(o.left);if(so(s)&&so(o)){const a=A(t,Tl(".")),l=oG(t,a),[u,d]=iG(l,l,A(s.right,Rr(Vt)),A(o.right,Rr(Vt)));return A(u,qR(d),uo(([c,f])=>A(_A(c,f),lt(([m,g])=>i.zip(m,g)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},oG=(e,t)=>r=>Hr(Wl(e,`The element at index ${r} in a sequence at path "${t}" was missing`)),aG=(e,t)=>e.split(new RegExp(`\\s*${cG(t)}\\s*`)),lG=(e,t,r,n,i)=>i?A(aG(e,n),uo(s=>r.parse(s.trim())),mS(ql(t))):A(r.parse(e),NA({onFailure:ql(t),onSuccess:Li})),uG=e=>Object.keys(e[0]).map(t=>e.map(r=>r[t])),cG=e=>e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),dG=e=>A(uo(e,fG),NA({onFailure:()=>Ac(),onSuccess:Rc(ho)}),nd,lt(wz)),hG=/^(\[(\d+)\])$/,fG=e=>{const t=e.match(hG);if(t!==null){const r=t[2];return A(r!==void 0&&r.length>0?xe(r):de(),LR(pG))}return de()},pG=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?de():xe(t)},WS=Symbol.for("effect/Console"),gL=Ve(WS),mG={[WS]:WS,assert(e,...t){return le(()=>{console.assert(e,...t)})},clear:le(()=>{console.clear()}),count(e){return le(()=>{console.count(e)})},countReset(e){return le(()=>{console.countReset(e)})},debug(...e){return le(()=>{console.debug(...e)})},dir(e,t){return le(()=>{console.dir(e,t)})},dirxml(...e){return le(()=>{console.dirxml(...e)})},error(...e){return le(()=>{console.error(...e)})},group(e){return e!=null&&e.collapsed?le(()=>console.groupCollapsed(e==null?void 0:e.label)):le(()=>console.group(e==null?void 0:e.label))},groupEnd:le(()=>{console.groupEnd()}),info(...e){return le(()=>{console.info(...e)})},log(...e){return le(()=>{console.log(...e)})},table(e,t){return le(()=>{console.table(e,t)})},time(e){return le(()=>console.time(e))},timeEnd(e){return le(()=>console.timeEnd(e))},timeLog(e,...t){return le(()=>{console.timeLog(e,...t)})},trace(...e){return le(()=>{console.trace(...e)})},warn(...e){return le(()=>{console.warn(...e)})},unsafe:console},gG="effect/Random",qS=Symbol.for(gG),yG=Ve(qS);class bG{constructor(t){N(this,"seed");N(this,lae,qS);N(this,"PRNG");this.seed=t,this.PRNG=new yR(t)}get next(){return le(()=>this.PRNG.number())}get nextBoolean(){return lt(this.next,t=>t>.5)}get nextInt(){return le(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,r){return lt(this.next,n=>(r-t)*n+t)}nextIntBetween(t,r){return le(()=>this.PRNG.integer(r-t)+t)}shuffle(t){return vG(t,r=>this.nextIntBetween(0,r))}}lae=qS;const vG=(e,t)=>_t(()=>A(le(()=>Array.from(e)),X(r=>{const n=[];for(let i=r.length;i>=2;i=i-1)n.push(i);return A(n,Wb(i=>A(t(i),lt(s=>wG(r,i-1,s)))),Mi(ZR(r)))}))),wG=(e,t,r)=>{const n=e[t];return e[t]=e[r],e[r]=n,e},kG=e=>new bG(e),xG=A(Xf(),Wn(FS,PZ()),Wn(gL,mG),Wn(yG,kG(Math.random()*4294967296>>>0)),Wn(YZ,nG()),Wn(aS,tQ)),mp=$e(Symbol.for("effect/DefaultServices/currentServices"),()=>RA(xG));function NG(e){return new ka(e)}function SG(){return NG(new Map)}const yL=Symbol.for("effect/FiberRefs");class ka{constructor(t){N(this,"locals");N(this,uae,yL);this.locals=t}pipe(){return ye(this,arguments)}}uae=yL;const _G=(e,t,r,n=!1)=>{const i=e;let s=t,o=r,a=n,l;for(;l===void 0;)if(wr(s)&&wr(o)){const u=Bn(s)[0],d=Ic(s),c=Bn(o)[0],f=Bn(o)[1],m=Ic(o);u.startTimeMillis<c.startTimeMillis?(o=m,a=!0):u.startTimeMillis>c.startTimeMillis?s=d:u.id<c.id?(o=m,a=!0):u.id>c.id?s=d:l=[f,a]}else l=[i.initial,!0];return l},EG=C(3,(e,t,r)=>{const n=new Map(e.locals);return r.locals.forEach((i,s)=>{const o=i[0][1];if(!i[0][0][Ie](t)){if(!n.has(s)){if(De(o,s.initial))return;n.set(s,[[t,s.join(s.initial,o)]]);return}const a=n.get(s),[l,u]=_G(s,a,i);if(u){const d=s.diff(l,o),c=a[0][1],f=s.join(c,s.patch(d)(c));if(!De(c,f)){let m;const g=a[0][0];g[Ie](t)?m=[[g,f],...a.slice(1)]:m=[[t,f],...a],n.set(s,m)}}}}),new ka(n)}),OG=C(2,(e,t)=>{const r=new Map;return bL(e,r,t),new ka(r)}),bL=(e,t,r)=>{e.locals.forEach((n,i)=>{const s=n[0][1],o=i.patch(i.fork)(s);De(s,o)?t.set(i,n):t.set(i,[[r,o],...n])})},vL=C(2,(e,t)=>{const r=new Map(e.locals);return r.delete(t),new ka(r)}),US=C(2,(e,t)=>e.locals.has(t)?xe(Bn(e.locals.get(t))[1]):de()),$S=C(2,(e,t)=>A(US(e,t),Rt(()=>t.initial))),VS=C(2,(e,{fiberId:t,fiberRef:r,value:n})=>{if(e.locals.size===0)return new ka(new Map([[r,[[t,n]]]]));const i=new Map(e.locals);return zS(i,t,r,n),new ka(i)}),zS=(e,t,r,n)=>{const i=e.get(r)??[];let s;if(wr(i)){const[o,a]=Bn(i);if(o[Ie](t)){if(De(a,n))return;s=[[t,n],...i.slice(1)]}else s=[[t,n],...i]}else s=[[t,n]];e.set(r,s)},CG=C(2,(e,{entries:t,forkAs:r})=>{if(e.locals.size===0)return new ka(new Map(t));const n=new Map(e.locals);return r!==void 0&&bL(e,n,r),t.forEach(([i,s])=>{s.length===1?zS(n,s[0][0],i,s[0][1]):s.forEach(([o,a])=>{zS(n,o,i,a)})}),new ka(n)}),TG=$S,IG=CG,RG=SG,AG=wQ,LG=kQ,PG=xQ,jG=NQ,MG=OA,FG=CA,DG=SQ,BG=_Q,WG=A(ho,kN(e=>e.ordinal)),qG=hz(WG),UG=e=>{switch(e){case"All":return AG;case"Debug":return FG;case"Error":return PG;case"Fatal":return LG;case"Info":return MG;case"Trace":return DG;case"None":return BG;case"Warning":return jG}},$G=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`,VG=$G,wL=Symbol.for("effect/Ref"),kL={_A:e=>e};class zG{constructor(t){N(this,"ref");N(this,cae,kL);this.ref=t}modify(t){return le(()=>{const r=Ml(this.ref),[n,i]=t(r);return r!==i&&Zc(i)(this.ref),n})}pipe(){return ye(this,arguments)}}cae=wL;const xL=e=>new zG(Tb(e)),NL=e=>le(()=>xL(e)),KS=e=>e.modify(t=>[t,t]),SL=C(2,(e,t)=>e.modify(()=>[void 0,t])),KG=C(2,(e,t)=>e.modify(t)),_L=C(2,(e,t)=>e.modify(r=>[void 0,t(r)])),EL="Empty",OL="Add",CL="Remove",TL="Update",IL="AndThen",JG={_tag:EL},RL=(e,t)=>{const r=new Map(e.locals);let n=JG;for(const[i,s]of t.locals.entries()){const o=Bn(s)[1],a=r.get(i);if(a!==void 0){const l=Bn(a)[1];De(l,o)||(n=JS({_tag:TL,fiberRef:i,patch:i.diff(l,o)})(n))}else n=JS({_tag:OL,fiberRef:i,value:o})(n);r.delete(i)}for(const[i]of r.entries())n=JS({_tag:CL,fiberRef:i})(n);return n},JS=C(2,(e,t)=>({_tag:IL,first:e,second:t})),AL=C(3,(e,t,r)=>{let n=r,i=Li(e);for(;wr(i);){const s=Bn(i),o=Ic(i);switch(s._tag){case EL:{i=o;break}case OL:{n=VS(n,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),i=o;break}case CL:{n=vL(n,s.fiberRef),i=o;break}case TL:{const a=$S(n,s.fiberRef);n=VS(n,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),i=o;break}case IL:{i=mb(s.first)(mb(s.second)(o));break}}}return n}),LL="effect/MetricLabel",HS=Symbol.for(LL);class HG{constructor(t,r){N(this,"key");N(this,"value");N(this,dae,HS);N(this,"_hash");this.key=t,this.value=r,this._hash=Dn(LL+this.key+this.value)}[(dae=HS,Fe)](){return this._hash}[Ie](t){return ZG(t)&&this.key===t.key&&this.value===t.value}pipe(){return ye(this,arguments)}}const QG=(e,t)=>new HG(e,t),ZG=e=>Ce(e,HS);class QS{constructor(t){N(this,"self");N(this,"called",!1);this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new QS(this.self)}}const GG=C(2,(e,t)=>dS(e,bA(r=>{const n=qN(r,i=>b4(i)?xe(i):de());switch(n._tag){case"None":return ir(r);case"Some":return t(n.value.defect)}}))),YG=C(2,(e,t)=>dS(e,bA(r=>{const n=qN(r,i=>b4(i)?xe(i):de());switch(n._tag){case"None":return ir(r);case"Some":{const i=t(n.value.defect);return i._tag==="Some"?i.value:ir(r)}}}))),XG=C(3,(e,t,r)=>aQ(e,cN(t),r)),eY=e=>uY(e,iY,RL);class tY{constructor(t){N(this,"value");this.value=t}[Symbol.iterator](){return new QS(this)}}const rY=function(){let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return new tY(e)},nY=function(){let e;return arguments.length===1?e=arguments[0]:e=arguments[1].bind(arguments[0]),ai(e),_t(()=>{const t=e(rY),r=t.next(),n=i=>i.done?Re(i.value):A(i.value.value,X(s=>n(t.next(s))));return n(r)})},iY=mn(e=>Re(e.getFiberRefs())),sY=e=>Bb(e,{onFailure:t=>Re(t),onSuccess:Re}),oY=e=>hY((t,r)=>A(e,AL(t,r))),aY=e=>e.length>=1?ps((t,r)=>{e(r).then(n=>t(sr(n))).catch(n=>t(UA(n)))}):ps(t=>{e().then(r=>t(sr(r))).catch(r=>t(UA(r)))}),lY=C(3,(e,t,r)=>od(n=>CS(e,Wn(n,t,r)))),uY=C(3,(e,t,r)=>X(t,n=>X(e,i=>lt(t,s=>[r(n,s),i])))),cY=C(2,(e,t)=>ms(e,{onFailure:r=>{const n=WN(r);switch(n._tag){case"Left":return gs(t(n.left),ir(r));case"Right":return ir(r)}},onSuccess:Re})),dY=e=>{let t,r;return typeof e=="function"?t=e:(t=e.try,r=e.catch),t.length>=1?ps((n,i)=>{try{t(i).then(s=>n(sr(s))).catch(s=>n(nr(r?r(s):new dp(s))))}catch(s){n(nr(r?r(s):new dp(s)))}}):ps(n=>{try{t().then(i=>n(sr(i))).catch(i=>n(nr(r?r(i):new dp(i))))}catch(i){n(nr(r?r(i):new dp(i)))}})},hY=e=>mn(t=>(t.setFiberRefs(e(t.id(),t.getFiberRefs())),mr)),PL=SR,jL="Sequential",ML="Parallel",fY="ParallelN",FL={_tag:jL},pY={_tag:ML},mY=e=>({_tag:fY,parallelism:e}),gY=e=>e._tag===jL,yY=e=>e._tag===ML,ZS=FL,GS=pY,YS=mY,XS=RL,e_=AL,zb="effect/FiberStatus",Ul=Symbol.for(zb),t_="Done",DL="Running",BL="Suspended";class bY{constructor(){N(this,hae,Ul);N(this,"_tag",t_)}[(hae=Ul,Fe)](){return A(ce(zb),Le(ce(this._tag)))}[Ie](t){return r_(t)&&t._tag===t_}}class vY{constructor(t){N(this,"runtimeFlags");N(this,fae,Ul);N(this,"_tag",DL);this.runtimeFlags=t}[(fae=Ul,Fe)](){return A(ce(zb),Le(ce(this._tag)),Le(ce(this.runtimeFlags)))}[Ie](t){return r_(t)&&t._tag===DL&&this.runtimeFlags===t.runtimeFlags}}class wY{constructor(t,r){N(this,"runtimeFlags");N(this,"blockingOn");N(this,pae,Ul);N(this,"_tag",BL);this.runtimeFlags=t,this.blockingOn=r}[(pae=Ul,Fe)](){return A(ce(zb),Le(ce(this._tag)),Le(ce(this.runtimeFlags)),Le(ce(this.blockingOn)))}[Ie](t){return r_(t)&&t._tag===BL&&this.runtimeFlags===t.runtimeFlags&&De(this.blockingOn,t.blockingOn)}}const kY=new bY,xY=e=>new vY(e),NY=(e,t)=>new wY(e,t),r_=e=>Ce(e,Ul),SY=e=>e._tag===t_,_Y=kY,WL=xY,EY=NY,OY=SY;class qL{constructor(){N(this,"buckets",[])}scheduleTask(t,r){let n,i;for(i=0;i<this.buckets.length&&this.buckets[i][0]<=r;i++)n=this.buckets[i];if(n)n[1].push(t);else{const s=[];for(let o=0;o<i;o++)s.push(this.buckets[o]);s.push([r,[t]]);for(let o=i;o<this.buckets.length;o++)s.push(this.buckets[o]);this.buckets=s}}}class CY{constructor(t){N(this,"maxNextTickBeforeTimer");N(this,"running",!1);N(this,"tasks",new qL);this.maxNextTickBeforeTimer=t}starveInternal(t){const r=this.tasks.buckets;this.tasks.buckets=[];for(const[n,i]of r)for(let s=0;s<i.length;s++)i[s]();this.tasks.buckets.length===0?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?nL(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(AA)?t.getFiberRef(cp):!1}scheduleTask(t,r){this.tasks.scheduleTask(t,r),this.running||(this.running=!0,this.starve())}}const UL=$e(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new CY(2048));class TY{constructor(){N(this,"tasks",new qL);N(this,"deferred",!1)}scheduleTask(t,r){this.deferred?UL.scheduleTask(t,r):this.tasks.scheduleTask(t,r)}shouldYield(t){return t.currentOpCount>t.getFiberRef(AA)?t.getFiberRef(cp):!1}flush(){for(;this.tasks.buckets.length>0;){const t=this.tasks.buckets;this.tasks.buckets=[];for(const[r,n]of t)for(let i=0;i<n.length;i++)n[i]()}this.deferred=!0}}const Kb=$e(Symbol.for("effect/FiberRef/currentScheduler"),()=>qn(UL)),$L=$e(Symbol.for("effect/FiberRef/currentRequestMap"),()=>qn(new Map)),VL=(e,t,r,n)=>{switch(e){case void 0:return t();case"unbounded":return r();case"inherit":return kS(FQ,i=>i==="unbounded"?r():i>1?n(i):t());default:return e>1?n(e):t()}},n_="InterruptSignal",i_="Stateful",s_="Resume",o_="YieldNow",a_=e=>({_tag:n_,cause:e}),Jb=e=>({_tag:i_,onFiber:e}),ld=e=>({_tag:s_,effect:e}),IY=()=>({_tag:o_}),RY="effect/FiberScope",Hb=Symbol.for(RY);class AY{constructor(){N(this,mae,Hb);N(this,"fiberId",Ib);N(this,"roots",new Set)}add(t,r){this.roots.add(r),r.addObserver(()=>{this.roots.delete(r)})}}mae=Hb;class LY{constructor(t,r){N(this,"fiberId");N(this,"parent");N(this,gae,Hb);this.fiberId=t,this.parent=r}add(t,r){this.parent.tell(Jb(n=>{n.addChild(r),r.addObserver(()=>{n.removeChild(r)})}))}}gae=Hb;const PY=e=>new LY(e.id(),e),l_=$e(Symbol.for("effect/FiberScope/Global"),()=>new AY),jY="effect/Fiber",MY=Symbol.for(jY),FY={_E:e=>e,_A:e=>e},DY="effect/Fiber",BY=Symbol.for(DY),WY=e=>e.await,qY=e=>EA(pS(e.await),e.inheritAll),$l="effect/FiberCurrent",UY="effect/Logger",$Y=Symbol.for(UY),VY={_Message:e=>e,_Output:e=>e},u_=e=>({[$Y]:VY,log:e,pipe(){return ye(this,arguments)}}),zY=u_(({annotations:e,cause:t,date:r,fiberId:n,logLevel:i,message:s,spans:o})=>{const a=r.getTime();let l=[`timestamp=${r.toISOString()}`,`level=${i.label}`,`fiber=${F4(n)}`].join(" ");const u=c_(s);if(u.length>0&&(l=l+" message=",l=d_(u,l)),t!=null&&t._tag!=="Empty"&&(l=l+" cause=",l=d_(Ob(t),l)),K4(o)){l=l+" ";let d=!0;for(const c of o)d?d=!1:l=l+" ",l=l+A(c,VG(a))}if(A(e,vJ)>0){l=l+" ";let d=!0;for(const[c,f]of e)d?d=!1:l=l+" ",l=l+HY(c),l=l+"=",l=d_(c_(f),l)}return l}),c_=e=>{try{return typeof e=="object"?JSON.stringify(e):String(e)}catch{return String(e)}},KY=e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,JY=/^[^\s"=]+$/,d_=(e,t)=>t+(e.match(JY)?e:KY(e)),HY=e=>e.replace(/[\s="]/g,"_"),zL="effect/MetricBoundaries",h_=Symbol.for(zL);class QY{constructor(t){N(this,"values");N(this,yae,h_);N(this,"_hash");this.values=t,this._hash=A(Dn(zL),Le(Ec(this.values)))}[(yae=h_,Fe)](){return this._hash}[Ie](t){return ZY(t)&&De(this.values,t.values)}pipe(){return ye(this,arguments)}}const ZY=e=>Ce(e,h_),GY=e=>{const t=A(e,FR(oo(Number.POSITIVE_INFINITY)),zR);return new QY(t)},YY=e=>A(Sz(e.count-1,t=>e.start*Math.pow(e.factor,t)),GR,GY),XY="effect/MetricKeyType",KL=Symbol.for(XY),JL="effect/MetricKeyType/Counter",f_=Symbol.for(JL),eX="effect/MetricKeyType/Frequency",tX=Symbol.for(eX),rX="effect/MetricKeyType/Gauge",nX=Symbol.for(rX),HL="effect/MetricKeyType/Histogram",p_=Symbol.for(HL),iX="effect/MetricKeyType/Summary",sX=Symbol.for(iX),QL={_In:e=>e,_Out:e=>e};class oX{constructor(t,r){N(this,"incremental");N(this,"bigint");N(this,bae,QL);N(this,vae,f_);N(this,"_hash");this.incremental=t,this.bigint=r,this._hash=Dn(JL)}[(bae=KL,vae=f_,Fe)](){return this._hash}[Ie](t){return ZL(t)}pipe(){return ye(this,arguments)}}class aX{constructor(t){N(this,"boundaries");N(this,wae,QL);N(this,kae,p_);N(this,"_hash");this.boundaries=t,this._hash=A(Dn(HL),Le(ce(this.boundaries)))}[(wae=KL,kae=p_,Fe)](){return this._hash}[Ie](t){return GL(t)&&De(this.boundaries,t.boundaries)}pipe(){return ye(this,arguments)}}const lX=e=>new oX((e==null?void 0:e.incremental)??!1,(e==null?void 0:e.bigint)??!1),uX=e=>new aX(e),ZL=e=>Ce(e,f_),cX=e=>Ce(e,tX),dX=e=>Ce(e,nX),GL=e=>Ce(e,p_),hX=e=>Ce(e,sX),fX="effect/MetricKey",YL=Symbol.for(fX),pX={_Type:e=>e},mX=_N(De);class m_{constructor(t,r,n,i=[]){N(this,"name");N(this,"keyType");N(this,"description");N(this,"tags");N(this,xae,pX);N(this,"_hash");this.name=t,this.keyType=r,this.description=n,this.tags=i,this._hash=A(Dn(this.name+this.description),Le(ce(this.keyType)),Le(Ec(this.tags)))}[(xae=YL,Fe)](){return this._hash}[Ie](t){return gX(t)&&this.name===t.name&&De(this.keyType,t.keyType)&&De(this.description,t.description)&&mX(this.tags,t.tags)}pipe(){return ye(this,arguments)}}const gX=e=>Ce(e,YL),yX=(e,t)=>new m_(e,lX(t),Cc(t==null?void 0:t.description)),bX=(e,t,r)=>new m_(e,uX(t),Cc(r)),vX=C(2,(e,t)=>t.length===0?e:new m_(e.name,e.keyType,e.description,SN(e.tags,t))),wX="effect/MetricState",gp=Symbol.for(wX),XL="effect/MetricState/Counter",g_=Symbol.for(XL),eP="effect/MetricState/Frequency",y_=Symbol.for(eP),tP="effect/MetricState/Gauge",b_=Symbol.for(tP),rP="effect/MetricState/Histogram",v_=Symbol.for(rP),nP="effect/MetricState/Summary",w_=Symbol.for(nP),yp={_A:e=>e};class kX{constructor(t){N(this,"count");N(this,Nae,yp);N(this,Sae,g_);this.count=t}[(Nae=gp,Sae=g_,Fe)](){return A(ce(XL),Le(ce(this.count)))}[Ie](t){return AX(t)&&this.count===t.count}pipe(){return ye(this,arguments)}}const xX=_N(De);class NX{constructor(t){N(this,"occurrences");N(this,_ae,yp);N(this,Eae,y_);N(this,"_hash");this.occurrences=t}[(_ae=gp,Eae=y_,Fe)](){return this._hash!==void 0?this._hash:(this._hash=A(Dn(eP),Le(Ec(St(this.occurrences.entries())))),this._hash)}[Ie](t){return LX(t)&&xX(St(this.occurrences.entries()),St(t.occurrences.entries()))}pipe(){return ye(this,arguments)}}class SX{constructor(t){N(this,"value");N(this,Oae,yp);N(this,Cae,b_);this.value=t}[(Oae=gp,Cae=b_,Fe)](){return A(ce(tP),Le(ce(this.value)))}[Ie](t){return PX(t)&&this.value===t.value}pipe(){return ye(this,arguments)}}class _X{constructor(t,r,n,i,s){N(this,"buckets");N(this,"count");N(this,"min");N(this,"max");N(this,"sum");N(this,Tae,yp);N(this,Iae,v_);this.buckets=t,this.count=r,this.min=n,this.max=i,this.sum=s}[(Tae=gp,Iae=v_,Fe)](){return A(ce(rP),Le(ce(this.buckets)),Le(ce(this.count)),Le(ce(this.min)),Le(ce(this.max)),Le(ce(this.sum)))}[Ie](t){return jX(t)&&De(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return ye(this,arguments)}}class EX{constructor(t,r,n,i,s,o){N(this,"error");N(this,"quantiles");N(this,"count");N(this,"min");N(this,"max");N(this,"sum");N(this,Rae,yp);N(this,Aae,w_);this.error=t,this.quantiles=r,this.count=n,this.min=i,this.max=s,this.sum=o}[(Rae=gp,Aae=w_,Fe)](){return A(ce(nP),Le(ce(this.error)),Le(ce(this.quantiles)),Le(ce(this.count)),Le(ce(this.min)),Le(ce(this.max)),Le(ce(this.sum)))}[Ie](t){return MX(t)&&this.error===t.error&&De(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return ye(this,arguments)}}const OX=e=>new kX(e),CX=e=>new NX(e),TX=e=>new SX(e),IX=e=>new _X(e.buckets,e.count,e.min,e.max,e.sum),RX=e=>new EX(e.error,e.quantiles,e.count,e.min,e.max,e.sum),AX=e=>Ce(e,g_),LX=e=>Ce(e,y_),PX=e=>Ce(e,b_),jX=e=>Ce(e,v_),MX=e=>Ce(e,w_),FX="effect/MetricHook",DX=Symbol.for(FX),BX={_In:e=>e,_Out:e=>e},bp=e=>({[DX]:BX,pipe(){return ye(this,arguments)},...e}),iP=BigInt(0),WX=e=>{let t=e.keyType.bigint?iP:0;const r=e.keyType.incremental?e.keyType.bigint?n=>n>=iP:n=>n>=0:n=>!0;return bp({get:()=>OX(t),update:n=>{r(n)&&(t=t+n)}})},qX=e=>{const t=new Map;return bp({get:()=>CX(t),update:r=>{const n=t.get(r)??0;t.set(r,n+1)}})},UX=(e,t)=>{let r=t;return bp({get:()=>TX(r),update:n=>{r=n}})},$X=e=>{const t=e.keyType.boundaries.values,r=t.length,n=new Uint32Array(r+1),i=new Float32Array(r);let s=0,o=0,a=Number.MAX_VALUE,l=Number.MIN_VALUE;A(t,Rc(ho),Rr((c,f)=>{i[f]=c}));const u=c=>{let f=0,m=r;for(;f!==m;){const g=Math.floor(f+(m-f)/2),b=i[g];c<=b?m=g:f=g,m===f+1&&(c<=i[f]?m=f:f=m)}n[f]=n[f]+1,s=s+1,o=o+c,c<a&&(a=c),c>l&&(l=c)},d=()=>{const c=Array(r);let f=0;for(let m=0;m<r;m++){const g=i[m],b=n[m];f=f+b,c[m]=[g,f]}return c};return bp({get:()=>IX({buckets:d(),count:s,min:a,max:l,sum:o}),update:u})},VX=e=>{const{error:t,maxAge:r,maxSize:n,quantiles:i}=e.keyType,s=A(i,Rc(ho)),o=Array(n);let a=0,l=0,u=0,d=Number.MAX_VALUE,c=Number.MIN_VALUE;const f=g=>{const b=[];let k=0;for(;k!==n-1;){const y=o[k];if(y!=null){const[p,w]=y,x=LS(g-p);vZ(x,uZ)&&x<=r&&b.push(w)}k=k+1}return zX(t,s,Rc(b,ho))},m=(g,b)=>{if(n>0){a=a+1;const k=a%n;o[k]=[b,g]}l=l+1,u=u+g,g<d&&(d=g),g>c&&(c=g)};return bp({get:()=>RX({error:t,quantiles:f(Date.now()),count:l,min:d,max:c,sum:u}),update:([g,b])=>m(g,b)})},zX=(e,t,r)=>{const n=r.length;if(!wr(t))return Ac();const i=t[0],s=t.slice(1),o=sP(e,n,de(),0,i,r),a=Li(o);return s.forEach(l=>{a.push(sP(e,n,o.value,o.consumed,l,o.rest))}),Rr(a,l=>[l.quantile,l.value])},sP=(e,t,r,n,i,s)=>{let o=e,a=t,l=r,u=n,d=i,c=s,f=e,m=t,g=r,b=n,k=i,y=s;for(;;){if(!wr(c))return{quantile:d,value:de(),consumed:u,rest:[]};if(d===1)return{quantile:d,value:xe(BR(c)),consumed:u+c.length,rest:[]};const p=Rz(c,S=>S<=c[0]),w=d*a,x=o/2*w,_=u+p[0].length,E=Math.abs(_-w);if(_<w-x){f=o,m=a,g=Tc(c),b=_,k=d,y=p[1],o=f,a=m,l=g,u=b,d=k,c=y;continue}if(_>w+x)return{quantile:d,value:l,consumed:u,rest:c};switch(l._tag){case"None":{f=o,m=a,g=Tc(c),b=_,k=d,y=p[1],o=f,a=m,l=g,u=b,d=k,c=y;continue}case"Some":{const S=Math.abs(w-l.value);if(E<S){f=o,m=a,g=Tc(c),b=_,k=d,y=p[1],o=f,a=m,l=g,u=b,d=k,c=y;continue}return{quantile:d,value:xe(l.value),consumed:u,rest:c}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},KX="effect/MetricPair",JX=Symbol.for(KX),HX={_Type:e=>e},QX=(e,t)=>({[JX]:HX,metricKey:e,metricState:t,pipe(){return ye(this,arguments)}}),ZX="effect/MetricRegistry",oP=Symbol.for(ZX);class GX{constructor(){N(this,Lae,oP);N(this,"map",EZ())}snapshot(){const t=[];for(const[r,n]of this.map)t.push(QX(r,n.get()));return t}get(t){const r=A(this.map,Bl(t),Cl);if(r==null){if(ZL(t.keyType))return this.getCounter(t);if(dX(t.keyType))return this.getGauge(t);if(cX(t.keyType))return this.getFrequency(t);if(GL(t.keyType))return this.getHistogram(t);if(hX(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return r}getCounter(t){let r=A(this.map,Bl(t),Cl);if(r==null){const n=WX(t);A(this.map,fp(t))||A(this.map,pp(t,n)),r=n}return r}getFrequency(t){let r=A(this.map,Bl(t),Cl);if(r==null){const n=qX();A(this.map,fp(t))||A(this.map,pp(t,n)),r=n}return r}getGauge(t){let r=A(this.map,Bl(t),Cl);if(r==null){const n=UX(t,t.keyType.bigint?BigInt(0):0);A(this.map,fp(t))||A(this.map,pp(t,n)),r=n}return r}getHistogram(t){let r=A(this.map,Bl(t),Cl);if(r==null){const n=$X(t);A(this.map,fp(t))||A(this.map,pp(t,n)),r=n}return r}getSummary(t){let r=A(this.map,Bl(t),Cl);if(r==null){const n=VX(t);A(this.map,fp(t))||A(this.map,pp(t,n)),r=n}return r}}Lae=oP;const YX=()=>new GX,XX="effect/Metric",eee=Symbol.for(XX),tee={_Type:e=>e,_In:e=>e,_Out:e=>e},aP=$e(Symbol.for("effect/Metric/globalMetricRegistry"),()=>YX()),lP=function(e,t,r){return Object.assign(n=>yS(n,i=>le(()=>t(i,[]))),{[eee]:tee,keyType:e,unsafeUpdate:t,unsafeValue:r,register(){return this.unsafeValue([]),this},pipe(){return ye(this,arguments)}})},Qb=(e,t)=>uP(yX(e,t)),uP=e=>{let t;const r=new WeakMap,n=i=>{if(i.length===0)return t!==void 0||(t=aP.get(e)),t;let s=r.get(i);return s!==void 0||(s=aP.get(vX(e,i)),r.set(i,s)),s};return lP(e.keyType,(i,s)=>n(s).update(i),i=>n(i).get())},ree=(e,t,r)=>uP(bX(e,t,r)),nee=C(3,(e,t,r)=>iee(e,[QG(t,r)])),iee=C(2,(e,t)=>lP(e.keyType,(r,n)=>e.unsafeUpdate(r,SN(t,n)),r=>e.unsafeValue(SN(t,r)))),see="effect/Request",oee=Symbol.for(see),sle={_E:e=>e,_A:e=>e};({...gN,[oee]:0});const aee=C(2,(e,t)=>kS($L,r=>le(()=>{if(r.has(e)){const n=r.get(e);n.state.completed||(n.state.completed=!0,HA(n.result,t))}}))),lee="effect/Supervisor",Zb=Symbol.for(lee),k_={_T:e=>e},EE=class EE{constructor(t,r){N(this,"underlying");N(this,"value0");N(this,Pae,k_);this.underlying=t,this.value0=r}get value(){return this.value0}onStart(t,r,n,i){this.underlying.onStart(t,r,n,i)}onEnd(t,r){this.underlying.onEnd(t,r)}onEffect(t,r){this.underlying.onEffect(t,r)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new EE(this,A(this.value,lt(t)))}zip(t){return new Yb(this,t)}};Pae=Zb;let Gb=EE;const OE=class OE{constructor(t,r){N(this,"left");N(this,"right");N(this,"_tag","Zip");N(this,jae,k_);this.left=t,this.right=r}get value(){return _A(this.left.value,this.right.value)}onStart(t,r,n,i){this.left.onStart(t,r,n,i),this.right.onStart(t,r,n,i)}onEnd(t,r){this.left.onEnd(t,r),this.right.onEnd(t,r)}onEffect(t,r){this.left.onEffect(t,r),this.right.onEffect(t,r)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Gb(this,A(this.value,lt(t)))}zip(t){return new OE(this,t)}};jae=Zb;let Yb=OE;const cP=e=>Ce(e,Zb)&&cN(e,"Zip");class uee{constructor(t){N(this,"effect");N(this,Mae,k_);this.effect=t}get value(){return this.effect}onStart(t,r,n,i){}onEnd(t,r){}onEffect(t,r){}onSuspend(t){}onResume(t){}map(t){return new Gb(this,A(this.value,lt(t)))}zip(t){return new Yb(this,t)}onRun(t,r){return t()}}Mae=Zb;const cee=e=>new uee(e),Xb=$e("effect/Supervisor/none",()=>cee(mr)),dee=Xc,dP="Empty",hP="AddSupervisor",fP="RemoveSupervisor",pP="AndThen",vp={_tag:dP},e0=(e,t)=>({_tag:pP,first:e,second:t}),hee=(e,t)=>fee(t,oo(e)),fee=(e,t)=>{let r=e,n=t;for(;Mc(n);){const i=Fc(n);switch(i._tag){case dP:{n=Rl(n);break}case hP:{r=r.zip(i.supervisor),n=Rl(n);break}case fP:{r=x_(r,i.supervisor),n=Rl(n);break}case pP:{n=Pi(i.first)(Pi(i.second)(Rl(n)));break}}}return r},x_=(e,t)=>De(e,t)?Xb:cP(e)?x_(e.left,t).zip(x_(e.right,t)):e,t0=e=>De(e,Xb)?Pl():cP(e)?A(t0(e.left),Qf(t0(e.right))):FN(e),pee=(e,t)=>{if(De(e,t))return vp;const r=t0(e),n=t0(t),i=A(n,m4(r),Eb(vp,(o,a)=>e0(o,{_tag:hP,supervisor:a}))),s=A(r,m4(n),Eb(vp,(o,a)=>e0(o,{_tag:fP,supervisor:a})));return e0(i,s)},mee=dee({empty:vp,patch:hee,combine:e0,diff:pee}),gee=Qb("effect_fiber_started"),mP=Qb("effect_fiber_active"),yee=Qb("effect_fiber_successes"),bee=Qb("effect_fiber_failures"),vee=nee(ree("effect_fiber_lifetimes",YY({start:.5,factor:2,count:35})),"time_unit","milliseconds"),wp="Continue",wee="Done",gP="Yield",kee={_E:e=>e,_A:e=>e},kp=e=>{throw new Error(`BUG: FiberRuntime - ${JSON.stringify(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},xa=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),fo=$e("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),r0={[ub]:(e,t,r)=>t.i1(r),OnStep:(e,t,r)=>sr(sr(r)),[cb]:(e,t,r)=>t.i2(r),[mN]:(e,t,r)=>(e.patchRuntimeFlags(e._runtimeFlags,t.patch),ya(e._runtimeFlags)&&e.isInterrupted()?ut(e.getInterruptedCause()):sr(r)),[db]:(e,t,r)=>(t.i2(r),t.i0()?(e.pushStack(t),t.i1()):mr)},xee={[n_]:(e,t,r,n)=>(e.processNewInterruptSignal(n.cause),ya(t)?ut(n.cause):r),[s_]:(e,t,r,n)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[i_]:(e,t,r,n)=>(n.onFiber(e,WL(t)),r),[o_]:(e,t,r,n)=>X(wS(),()=>r)},Nee=e=>Wb(jH(e),t=>Vl(HH(t),([r,n])=>{const i=new Map;for(const s of n)for(const o of s)i.set(o.request,o);return up(Bee(r.runAll(n),n.flat()),$L,i)},!1,!1));class yP{constructor(t,r,n){N(this,Fae,FY);N(this,Dae,kee);N(this,"_fiberRefs");N(this,"_fiberId");N(this,"_runtimeFlags");N(this,"_queue",new Array);N(this,"_children",null);N(this,"_observers",new Array);N(this,"_running",!1);N(this,"_stack",[]);N(this,"_asyncInterruptor",null);N(this,"_asyncBlockingOn",null);N(this,"_exitValue",null);N(this,"_steps",[]);N(this,"_supervisor");N(this,"_scheduler");N(this,"_tracer");N(this,"currentOpCount",0);N(this,"isYielding",!1);N(this,"run",()=>{this.drainQueueOnCurrentThread()});if(this._runtimeFlags=n,this._fiberId=t,this._fiberRefs=r,this._supervisor=this.getFiberRef(OP),this._scheduler=this.getFiberRef(Kb),iA(n)){const i=this.getFiberRef(LA);gee.unsafeUpdate(1,i),mP.unsafeUpdate(1,i)}this._tracer=ep(this.getFiberRef(mp),aS)}pipe(){return ye(this,arguments)}id(){return this._fiberId}resume(t){this.tell(ld(t))}get status(){return this.ask((t,r)=>r)}get runtimeFlags(){return this.ask((t,r)=>OY(r)?t._runtimeFlags:r.runtimeFlags)}scope(){return PY(this)}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Ub)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return _t(()=>{const r=zA(this._fiberId);return this.tell(Jb((n,i)=>{HA(r,le(()=>t(n,i)))})),KA(r)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return ps(t=>{const r=n=>t(Re(n));return this.tell(Jb((n,i)=>{n._exitValue!==null?r(this._exitValue):n.addObserver(r)})),le(()=>this.tell(Jb((n,i)=>{n.removeObserver(r)})))},this.id())}get inheritAll(){return mn((t,r)=>{const n=t.id(),i=t.getFiberRefs(),s=r.runtimeFlags,o=this.getFiberRefs(),a=EG(i,n,o);t.setFiberRefs(a);const l=t.getFiberRef(EP),u=A(td(s,l),aA(ed),aA(rS));return mQ(u)})}get poll(){return le(()=>Cc(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return le(()=>this.tell(a_(jl(t))))}unsafeInterruptAsFork(t){this.tell(a_(jl(t)))}addObserver(t){this._exitValue!==null?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(r=>r!==t)}getFiberRefs(){return this.setFiberRef(EP,this._runtimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=vL(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,r){this._fiberRefs=VS(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:r}),this.refreshRefCache()}refreshRefCache(){this._tracer=ep(this.getFiberRef(mp),aS),this._supervisor=this.getFiberRef(OP),this._scheduler=this.getFiberRef(Kb)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let r=wp;const n=globalThis[$l];globalThis[$l]=this;try{for(;r===wp;)r=this._queue.length===0?wee:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[$l]=n}this._queue.length>0&&!this._running?(this._running=!0,r===gP?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this._scheduler.scheduleTask(this.run,this.getFiberRef(cp))}drainQueueWhileRunning(t,r){let n=r;for(;this._queue.length>0;){const i=this._queue.splice(0,1)[0];n=xee[i._tag](this,t,n,i)}return n}isInterrupted(){return!PK(this.getFiberRef(Ub))}addInterruptedCause(t){const r=this.getFiberRef(Ub);this.setFiberRef(Ub,oi(r,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let t=!1;for(const r of this._children)r.tell(a_(jl(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let r=!1;return vS({while:()=>!r,body:()=>{const n=t.next();return n.done?le(()=>{r=!0}):Dl(n.value.await)},step:()=>{}})}return null}reportExitValue(t){if(iA(this._runtimeFlags)){const r=this.getFiberRef(LA),n=this.id().startTimeMillis,i=Date.now();switch(vee.unsafeUpdate(i-n,r),mP.unsafeUpdate(-1,r),t._tag){case fn:{yee.unsafeUpdate(1,r);break}case hn:{bee.unsafeUpdate(1,r);break}}}if(t._tag==="Failure"){const r=this.getFiberRef(BQ);!BN(t.cause)&&r._tag==="Some"&&this.log("Fiber terminated with a non handled error",t.cause,r)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let r=this._observers.length-1;r>=0;r--)this._observers[r](t)}getLoggers(){return this.getFiberRef(Cee)}log(t,r,n){const i=Jr(n)?n.value:this.getFiberRef(PQ),s=this.getFiberRef(See);if(qG(s,i))return;const o=this.getFiberRef(jQ),a=this.getFiberRef(LQ),l=this.getLoggers(),u=this.getFiberRefs();if(f4(l)>0){const d=ep(this.getFiberRef(mp),FS),c=new Date(d.unsafeCurrentTimeMillis());for(const f of l)f.log({fiberId:this.id(),logLevel:i,message:t,cause:r,context:u,spans:o,annotations:a,date:c})}}evaluateMessageWhileSuspended(t){switch(t._tag){case o_:return gP;case n_:return this.processNewInterruptSignal(t.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(ut(t.cause)),this._asyncInterruptor=null),wp;case s_:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),wp;case i_:return t.onFiber(this,this._exitValue!==null?_Y:EY(this._runtimeFlags,this._asyncBlockingOn)),wp;default:return kp(t)}}evaluateEffect(t){this._supervisor.onResume(this);try{let r=ya(this._runtimeFlags)&&this.isInterrupted()?ut(this.getInterruptedCause()):t;for(;r!==null;){const n=r,i=this.runLoop(n);if(i===xa){const s=fo.currentOp;fo.currentOp=null,s._op===hb?IH(this._runtimeFlags)?(this.tell(IY()),this.tell(ld(ys)),r=null):r=ys:s._op===ab&&(r=null)}else{this._runtimeFlags=A(this._runtimeFlags,RH(rS));const s=this.interruptAllChildren();s!==null?r=X(s,()=>i):(this._queue.length===0?this.setExitValue(i):this.tell(ld(i)),r=null)}}}finally{this._supervisor.onSuspend(this)}}start(t){if(this._running)this.tell(ld(t));else{this._running=!0;const r=globalThis[$l];globalThis[$l]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[$l]=r,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(ld(t))}patchRuntimeFlags(t,r){const n=rd(t,r);return globalThis[$l]=this,this._runtimeFlags=n,n}initiateAsync(t,r){let n=!1;const i=s=>{n||(n=!0,this.tell(ld(s)))};ya(t)&&(this._asyncInterruptor=i);try{r(i)}catch(s){i(ir(ao(s)))}}pushStack(t){this._stack.push(t),t._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this._runtimeFlags})}popStack(){const t=this._stack.pop();if(t)return t._op==="OnStep"&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==lb)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==ub&&t._op!==db)return t;t=this.popStack()}}[(Fae=MY,Dae=BY,JV)](t){return lt(qb(va),r=>sJ(r,t))}Left(t){return nr(t.left)}None(t){return nr(new WA)}Right(t){return sr(t.right)}Some(t){return sr(t.value)}[xR](t){const r=t.i0(),n=this.getNextSuccessCont();return n!==void 0?(n._op in r0||kp(n),r0[n._op](this,n,r)):(fo.currentOp=sr(r),xa)}[fn](t){const r=t,n=this.getNextSuccessCont();return n!==void 0?(n._op in r0||kp(n),r0[n._op](this,n,r.i0)):(fo.currentOp=r,xa)}[hn](t){const r=t.i0,n=this.getNextFailCont();if(n!==void 0)switch(n._op){case lb:case cb:return ya(this._runtimeFlags)&&this.isInterrupted()?ut(v4(r)):n.i1(r);case"OnStep":return ya(this._runtimeFlags)&&this.isInterrupted()?ut(v4(r)):sr(ut(r));case mN:return this.patchRuntimeFlags(this._runtimeFlags,n.patch),ya(this._runtimeFlags)&&this.isInterrupted()?ut(oi(r,this.getInterruptedCause())):ut(r);default:kp(n)}else return fo.currentOp=ut(r),xa}[NR](t){return t.i0(this,WL(this._runtimeFlags))}Blocked(t){const r=this.getFiberRefs(),n=this._runtimeFlags;if(this._steps.length>0){const i=[],s=this._steps[this._steps.length-1];let o=this.popStack();for(;o&&o._op!=="OnStep";)i.push(o),o=this.popStack();this.setFiberRefs(s.refs),this._runtimeFlags=s.flags;const a=XS(s.refs,r),l=td(s.flags,n);return sr(mA(t.i0,mn(u=>{for(;i.length>0;)u.pushStack(i.pop());return u.setFiberRefs(e_(u.id(),u.getFiberRefs())(a)),u._runtimeFlags=rd(l)(u._runtimeFlags),t.i1})))}return ba(i=>X(wP(sQ(t.i0)),()=>i(t.i1)))}RunBlocked(t){return Nee(t.i0)}[$f](t){const r=t.i0,n=this._runtimeFlags,i=rd(n,r);if(ya(i)&&this.isInterrupted())return ut(this.getInterruptedCause());if(this.patchRuntimeFlags(this._runtimeFlags,r),t.i1){const s=td(i,n);return this.pushStack(new oQ(s,t)),t.i1(n)}else return ys}[ub](t){return this.pushStack(t),t.i0}OnStep(t){return this.pushStack(t),t.i0}[lb](t){return this.pushStack(t),t.i0}[cb](t){return this.pushStack(t),t.i0}[ab](t){return this._asyncBlockingOn=t.i1,this.initiateAsync(this._runtimeFlags,t.i0),fo.currentOp=t,xa}[hb](t){return this.isYielding=!1,fo.currentOp=t,xa}[db](t){const r=t.i0,n=t.i1;return r()?(this.pushStack(t),n()):ys}[kR](t){return t.commit()}runLoop(t){let r=t;for(this.currentOpCount=0;;){if(this._runtimeFlags&TH&&this._supervisor.onEffect(this,r),this._queue.length>0&&(r=this.drainQueueWhileRunning(this._runtimeFlags,r)),!this.isYielding){this.currentOpCount+=1;const n=this._scheduler.shouldYield(this);if(n!==!1){this.isYielding=!0,this.currentOpCount=0;const i=r;r=X(wS({priority:n}),()=>i)}}try{if((!("_op"in r)||!(r._op in this))&&kp(r),r=this._tracer.context(()=>nb!==r[PL]._V?uQ(`Cannot execute an Effect versioned ${r[PL]._V} with a Runtime of version ${nb}`):this[r._op](r),this),r===xa){const n=fo.currentOp;return n._op===hb||n._op===ab?xa:(fo.currentOp=null,n._op===fn||n._op===hn?n:ut(ao(n)))}}catch(n){iQ(n)?r=ut(n.cause):zQ(n)?r=ut(oi(ao(n),jl(Ib))):r=ut(ao(n))}}}}const See=$e("effect/FiberRef/currentMinimumLogLevel",()=>qn(UG("Info"))),_ee=e=>{const t=TG(e,mp);return ep(t,gL).unsafe},Eee=$e(Symbol.for("effect/Logger/defaultLogger"),()=>u_(e=>{const t=zY.log(e);_ee(e.context).log(t)})),Oee=$e(Symbol.for("effect/Logger/tracerLogger"),()=>u_(({annotations:e,cause:t,context:r,fiberId:n,logLevel:i,message:s})=>{const o=LR(US(r,va),tp(pA)),a=io(US(r,mp),u=>ep(u,FS));if(o._tag==="None"||o.value._tag==="ExternalSpan"||a._tag==="None")return;const l=Object.fromEntries(U4(e,u=>c_(u)));l["effect.fiberId"]=mJ(n),l["effect.logLevel"]=i.label,t!==null&&t._tag!=="Empty"&&(l["effect.cause"]=Ob(t)),o.value.event(String(s),a.value.unsafeCurrentTimeNanos(),l)})),Cee=$e(Symbol.for("effect/FiberRef/currentLoggers"),()=>IQ(FN(Eee,Oee))),Tee=e=>{if(Array.isArray(e)||mR(e))return[e,de()];const t=Object.keys(e),r=t.length;return[t.map(n=>e[n]),xe(n=>{const i={};for(let s=0;s<r;s++)i[t[s]]=n[s];return i})]},Iee=(e,t,r)=>{const n=[];for(const i of e)n.push(nd(i));return X(ud(n,Nt,{concurrency:r==null?void 0:r.concurrency,batching:r==null?void 0:r.batching}),i=>{const s=de(),o=i.length,a=new Array(o),l=new Array(o);let u=!1;for(let d=0;d<o;d++){const c=i[d];c._tag==="Left"?(a[d]=xe(c.left),u=!0):(l[d]=c.right,a[d]=s)}return u?t._tag==="Some"?nr(t.value(a)):nr(a):r!=null&&r.discard?mr:t._tag==="Some"?Re(t.value(l)):Re(l)})},Ree=(e,t,r)=>{const n=[];for(const i of e)n.push(nd(i));return r!=null&&r.discard?ud(n,Nt,{concurrency:r==null?void 0:r.concurrency,batching:r==null?void 0:r.batching,discard:!0}):lt(ud(n,Nt,{concurrency:r==null?void 0:r.concurrency,batching:r==null?void 0:r.batching}),i=>t._tag==="Some"?t.value(i):i)},bP=(e,t)=>{const[r,n]=Tee(e);return(t==null?void 0:t.mode)==="validate"?Iee(r,n,t):(t==null?void 0:t.mode)==="either"?Ree(r,n,t):n._tag==="Some"?lt(ud(r,Nt,t),n.value):ud(r,Nt,t)},ud=C(e=>mR(e[0]),(e,t,r)=>mn(n=>{const i=(r==null?void 0:r.batching)===!0||(r==null?void 0:r.batching)==="inherit"&&n.getFiberRef(DQ);return r!=null&&r.discard?VL(r.concurrency,()=>cd(ZS)(s=>i?Vl(e,(o,a)=>s(t(o,a)),!0,!1,1):Wb(e,(o,a)=>s(t(o,a)))),()=>cd(GS)(s=>Vl(e,(o,a)=>s(t(o,a)),i,!1)),s=>cd(YS(s))(o=>Vl(e,(a,l)=>o(t(a,l)),i,!1,s))):VL(r==null?void 0:r.concurrency,()=>cd(ZS)(s=>i?N_(e,1,(o,a)=>s(t(o,a)),!0):uo(e,(o,a)=>s(t(o,a)))),()=>cd(GS)(s=>vP(e,(o,a)=>s(t(o,a)),i)),s=>cd(YS(s))(o=>N_(e,s,(a,l)=>o(t(a,l)),i)))})),vP=(e,t,r)=>_t(()=>{const n=St(e),i=new Array(n.length);return gs(Vl(n,(s,o)=>X(t(s,o),a=>le(()=>i[o]=a)),r,!1),Re(i))}),Vl=(e,t,r,n,i)=>ba(s=>pQ(o=>mn(a=>{let l=Array.from(e).reverse(),u=l.length;if(u===0)return mr;let d=0,c=!1;const f=i?Math.min(l.length,i):l.length,m=new Set,g=new Array,b=()=>m.forEach(R=>{R._scheduler.scheduleTask(()=>{R.unsafeInterruptAsFork(a.id())},0)}),k=new Array,y=new Array,p=new Array,w=()=>{const R=g.filter(({exit:T})=>T._tag==="Failure").sort((T,I)=>T.index<I.index?-1:T.index===I.index?0:1).map(({exit:T})=>T);return R.length===0&&R.push(ys),R},x=R=>{const T=bS(o(R)),I=Lee(T,a,a._runtimeFlags,l_);return a._scheduler.scheduleTask(()=>{I.resume(T)},0),I},_=()=>{n||(u-=l.length,l=[]),c=!0,b()},E=r?hQ:id,S=x(ps(R=>{const T=(M,L)=>{M._op==="Blocked"?p.push(M):(g.push({index:L,exit:M}),M._op==="Failure"&&!c&&_())},I=()=>{if(l.length>0){const M=l.pop();let L=d++;const V=()=>{const G=l.pop();return L=d++,X(wS(),()=>X(E(s(t(G,L))),q))},q=G=>l.length>0&&(T(G,L),l.length>0)?V():Re(G),ie=X(E(s(t(M,L))),q),ue=x(ie);k.push(ue),m.add(ue),c&&ue._scheduler.scheduleTask(()=>{ue.unsafeInterruptAsFork(a.id())},0),ue.addObserver(G=>{let D;if(G._op==="Failure"?D=G:D=G.i0,y.push(ue),m.delete(ue),T(D,L),g.length===u)R(Re(Rt(hp(w(),{parallel:!0}),()=>ys)));else if(p.length+g.length===u){const j=p.map(Q=>Q.i0).reduce(lA);R(Re(mA(j,Vl([Rt(hp(w(),{parallel:!0}),()=>ys),...p.map(Q=>Q.i1)],Q=>Q,r,!0,i))))}else I()})}};for(let M=0;M<f;M++)I()}));return Dl(yS(pS(SA(s(qY(S)),()=>(_(),WY(S)))),()=>uo(y,R=>R.inheritAll)))}))),N_=(e,t,r,n)=>_t(()=>{const i=St(e),s=new Array(i.length);return gs(Vl(i,(o,a)=>lt(r(o,a),l=>s[a]=l),n,!1,t),Re(s))}),wP=e=>Pee(e,l_),Aee=(e,t,r,n=null)=>{const i=kP(e,t,r,n);return i.resume(e),i},Lee=(e,t,r,n=null)=>kP(e,t,r,n),kP=(e,t,r,n=null)=>{const i=D4(),s=t.getFiberRefs(),o=OG(s,i),a=new yP(i,o,r),l=$S(o,va),u=a._supervisor;return u.onStart(l,e,xe(t),a),a.addObserver(d=>u.onEnd(d,a)),(n!==null?n:A(t.getFiberRef(xS),Rt(()=>t.scope()))).add(r,a),a},Pee=(e,t)=>mn((r,n)=>Re(Aee(e,r,n.runtimeFlags,t))),xP=e=>od(t=>hs(tp(t,dd),{onNone:()=>e,onSome:r=>{switch(r.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return X(_S(r,GS),n=>n0(e,n))}}})),NP=e=>t=>od(r=>hs(tp(r,dd),{onNone:()=>t,onSome:n=>n.strategy._tag==="ParallelN"&&n.strategy.parallelism===e?t:X(_S(n,YS(e)),i=>n0(t,i))})),cd=e=>t=>od(r=>hs(tp(r,dd),{onNone:()=>t(Nt),onSome:n=>{const i=e._tag==="Parallel"?xP:e._tag==="Sequential"?SP:NP(e.parallelism);switch(n.strategy._tag){case"Parallel":return i(t(xP));case"Sequential":return i(t(SP));case"ParallelN":return i(t(NP(n.strategy.parallelism)))}}})),jee=e=>X(dd,e),SP=e=>od(t=>hs(tp(t,dd),{onNone:()=>e,onSome:r=>{switch(r.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return X(_S(r,ZS),n=>n0(e,n))}}})),Mee=C(e=>lS(e[1]),(e,t,r)=>_P(e,t,(n,i)=>i,r)),_P=C(e=>lS(e[1]),(e,t,r,n)=>lt(bP([e,t],{concurrency:n!=null&&n.concurrent?2:1,batching:n==null?void 0:n.batching}),([i,s])=>r(i,s))),Fee=(e,t)=>r=>_t(()=>{switch(r.state._tag){case"Exited":return mr;case"Running":{const n=r.state.finalizers,i=r.state.update,s=Array.from(n.keys()).sort((o,a)=>a-o).map(o=>n.get(o));return r.state={_tag:"Exited",nextKey:r.state.nextKey,exit:t,update:i},gY(e)?A(s,uo(o=>id(i(o)(t))),X(o=>A(hp(o),io(ES),Rt(()=>ys)))):yY(e)?A(vP(s,o=>id(i(o)(t)),!1),X(o=>A(hp(o,{parallel:!0}),io(ES),Rt(()=>ys)))):A(N_(s,e.parallelism,o=>id(i(o)(t)),!1),X(o=>A(hp(o,{parallel:!0}),io(ES),Rt(()=>ys))))}}}),dd=Ve(NS),S_=(e=FL)=>lt(UQ,t=>({[NS]:NS,[PA]:PA,strategy:e,pipe(){return ye(this,arguments)},fork:r=>bS(A(S_(r),X(n=>A(jA(t,i=>$b(n,i)),yS(i=>SS(n,i)),Mi(n))))),close:r=>Dl(Fee(e,r)(t)),addFinalizer:r=>Dl(jA(r)(t))})),n0=C(2,(e,t)=>iZ(e,Cb(zN(dd,t)))),Dee=e=>sd(e,{differ:mee,fork:vp}),EP=AQ(AH),OP=Dee(Xb),CP=C(2,(e,t)=>ba(r=>ms(r(e),{onFailure:n=>ms(t,{onFailure:i=>ir(oi(n,i)),onSuccess:()=>ir(n)}),onSuccess:n=>Mi(t,n)}))),Bee=(e,t)=>dQ(r=>X(X(wP(xA(e)),n=>ps(i=>{const s=t.map(l=>l.listeners.count),o=()=>{s.every(l=>l===0)&&(a.forEach(l=>l()),i(bQ(n)))};n.addObserver(l=>{a.forEach(u=>u()),i(l)});const a=t.map((l,u)=>{const d=c=>{s[u]=c,o()};return l.listeners.addObserver(d),()=>l.listeners.removeObserver(d)});return o(),le(()=>{a.forEach(l=>l())})})),()=>_t(()=>{const n=t.flatMap(i=>i.state.completed?[]:[i]);return Wb(n,i=>aee(i.request,HQ(r)))}))),__=VV,Wee=(e,t)=>r=>r.startsWith(e,t),TP=(e,t)=>{switch(t._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(e);case"SymbolKeyword":return Object.getOwnPropertySymbols(e);case"Refinement":return TP(e,t.from)}},i0=e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)),IP=e=>{let t=!1,r;return()=>(t||(r=e(),t=!0),r)},RP=Symbol.for("@effect/schema/annotation/Brand"),AP=Symbol.for("@effect/schema/annotation/Type"),LP=Symbol.for("@effect/schema/annotation/Message"),E_=Symbol.for("@effect/schema/annotation/Identifier"),Na=Symbol.for("@effect/schema/annotation/Title"),xp=Symbol.for("@effect/schema/annotation/Description"),qee=Symbol.for("@effect/schema/annotation/Examples"),Uee=Symbol.for("@effect/schema/annotation/Default"),$ee=Symbol.for("@effect/schema/annotation/JSONSchema"),Vee=Symbol.for("@effect/schema/annotation/Documentation"),s0=C(2,(e,t)=>Object.prototype.hasOwnProperty.call(e.annotations,t)?xe(e.annotations[t]):de()),zee=s0(LP),Kee=s0(Na),PP=s0(E_),Jee=s0(xp),jP=(e,t,r,n={})=>({_tag:"Declaration",typeParameters:e,type:t,decode:r,annotations:n}),MP=(e,t={})=>({_tag:"Literal",literal:e,annotations:t}),Np=e=>e._tag==="Literal",Hee=MP(null),Qee=(e,t={})=>({_tag:"UniqueSymbol",symbol:e,annotations:t}),Zee=e=>e._tag==="UniqueSymbol",O_={_tag:"NeverKeyword",annotations:{[Na]:"never"}},Gee={_tag:"UnknownKeyword",annotations:{[Na]:"unknown"}},Yee=e=>e._tag==="UnknownKeyword",Xee={_tag:"AnyKeyword",annotations:{[Na]:"any"}},ete=e=>e._tag==="AnyKeyword",tte={_tag:"StringKeyword",annotations:{[Na]:"string",[xp]:"a string"}},o0=e=>e._tag==="StringKeyword",rte={_tag:"NumberKeyword",annotations:{[Na]:"number",[xp]:"a number"}},C_=e=>e._tag==="NumberKeyword",nte={_tag:"BooleanKeyword",annotations:{[Na]:"boolean",[xp]:"a boolean"}},FP=e=>e._tag==="BooleanKeyword",DP=e=>e._tag==="BigIntKeyword",T_=e=>e._tag==="SymbolKeyword",BP=(e,t)=>({type:e,isOptional:t}),WP=(e,t,r,n={})=>({_tag:"Tuple",elements:e,rest:t,isReadonly:r,annotations:n}),bs=(e,t,r,n,i={})=>({name:e,type:t,isOptional:r,isReadonly:n,annotations:i}),qP=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return qP(e.from);default:return!1}},UP=(e,t,r)=>{if(qP(e))return{parameter:e,type:t,isReadonly:r};throw new Error("An index signature parameter type must be 'string', 'symbol', a template literal type or a refinement of the previous types")},ui=(e,t,r={})=>{const n={};for(let s=0;s<e.length;s++){const o=e[s].name;if(Object.prototype.hasOwnProperty.call(n,o))throw new Error(`Duplicate property signature ${String(o)}`);n[o]=null}const i={string:!1,symbol:!1};for(let s=0;s<t.length;s++){const o=QP(t[s].parameter);if(o0(o)){if(i.string)throw new Error("Duplicate index signature for type `string`");i.string=!0}else if(T_(o)){if(i.symbol)throw new Error("Duplicate index signature for type `symbol`");i.symbol=!0}}return{_tag:"TypeLiteral",propertySignatures:cte(e),indexSignatures:t,annotations:r}},po=e=>e._tag==="TypeLiteral",ite=e=>e.length>1,zl=(e,t={})=>{const r=pte(e);return ite(r)?{_tag:"Union",types:fte(r),annotations:t}:wr(r)?r[0]:O_},$P=e=>e._tag==="Union",VP=(e,t={})=>({_tag:"Suspend",f:IP(e),annotations:t}),I_=(e,t,r={})=>Sp(e)?Kl(e.from,I_(e.to,t,r),e.transformation,e.annotations):{_tag:"Refinement",from:e,filter:t,annotations:r},ste=e=>e._tag==="Refinement",Kl=(e,t,r,n={})=>({_tag:"Transform",from:e,to:t,transformation:r,annotations:n}),Sp=e=>e._tag==="Transform",ote=(e,t)=>({_tag:"FinalTransformation",decode:e,encode:t}),ate=(e,t)=>({_tag:"FinalPropertySignatureTransformation",decode:e,encode:t}),lte=(e,t,r)=>({from:e,to:t,propertySignatureTransformation:r}),a0=e=>{const t={};for(const r of e){const n=r.from;if(t[n])throw new Error(`Duplicate property signature transformation ${String(n)}`);t[n]=!0}return{_tag:"TypeLiteralTransformation",propertySignatureTransformations:e}},R_=e=>e._tag==="TypeLiteralTransformation",ute=(e,t)=>({...e,annotations:{...e.annotations,...t}}),zP=e=>{switch(e._tag){case"TypeLiteral":return e.propertySignatures;case"Suspend":return zP(e.f())}throw new Error(`getPropertySignatures: unsupported schema (${e._tag})`)},A_=e=>e.map(t=>bs(t.name,Ar(t.type),t.isOptional,t.isReadonly,t.annotations)),L_=e=>e.map(t=>UP(t.parameter,Ar(t.type),t.isReadonly)),Ar=e=>{switch(e._tag){case"Declaration":return jP(e.typeParameters.map(Ar),Ar(e.type),e.decode,e.annotations);case"Tuple":return WP(e.elements.map(t=>BP(Ar(t.type),t.isOptional)),io(e.rest,Rr(Ar)),e.isReadonly,e.annotations);case"TypeLiteral":return ui(A_(e.propertySignatures),L_(e.indexSignatures),e.annotations);case"Union":return zl(e.types.map(Ar),e.annotations);case"Suspend":return VP(()=>Ar(e.f()),e.annotations);case"Refinement":return I_(Ar(e.from),e.filter,e.annotations);case"Transform":return Ar(e.to)}return e},l0=e=>hs(PP(e),{onNone:()=>{},onSome:t=>({[E_]:t})}),vs=e=>{switch(e._tag){case"Declaration":return jP(e.typeParameters.map(vs),vs(e.type),e.decode,e.annotations);case"Tuple":return WP(e.elements.map(t=>BP(vs(t.type),t.isOptional)),io(e.rest,Rr(vs)),e.isReadonly,l0(e));case"TypeLiteral":return ui(e.propertySignatures.map(t=>bs(t.name,vs(t.type),t.isOptional,t.isReadonly)),e.indexSignatures.map(t=>UP(t.parameter,vs(t.type),t.isReadonly)),l0(e));case"Union":return zl(e.types.map(vs),l0(e));case"Suspend":return VP(()=>vs(e.f()),l0(e));case"Refinement":case"Transform":return vs(e.from)}return e},KP=e=>{switch(e._tag){case"Declaration":return KP(e.type);case"NeverKeyword":return 0;case"Literal":case"UndefinedKeyword":case"VoidKeyword":case"UniqueSymbol":return 1;case"BooleanKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3;case"ObjectKeyword":return 5;case"UnknownKeyword":case"AnyKeyword":return 6;default:return 4}},cte=Rc(A(ho,kN(e=>KP(e.type)))),JP=dz(ho,ho,ho),dte=fz(JP),HP=[0,0,0],hte=e=>e.reduce(dte,HP),_p=e=>{switch(e._tag){case"Tuple":{const t=e.elements.length,r=Jr(e.rest)?e.rest.value.length:0;return[2,t,r]}case"TypeLiteral":{const t=e.propertySignatures.length,r=e.indexSignatures.length;return t+r===0?[-4,0,0]:[4,t,r]}case"Declaration":{const[t,r,n]=_p(e.type);return[6,r,n]}case"Suspend":return[8,0,0];case"Union":return hte(e.types.map(_p));case"Refinement":{const[t,r,n]=_p(e.from);return[t+1,r,n]}case"Transform":return _p(e.from);case"ObjectKeyword":return[-2,0,0];case"UnknownKeyword":case"AnyKeyword":return[-4,0,0];default:return HP}},fte=Rc(uz(kN(JP,_p))),pte=e=>{let t=A(e,Lc(n=>{switch(n._tag){case"NeverKeyword":return[];case"Union":return n.types;default:return[n]}}));if(t.some(ete))return[Xee];if(t.some(Yee))return[Gee];let r;return(r=t.findIndex(o0))!==-1&&(t=t.filter((n,i)=>i===r||!o0(n)&&!(Np(n)&&typeof n.literal=="string"))),(r=t.findIndex(C_))!==-1&&(t=t.filter((n,i)=>i===r||!C_(n)&&!(Np(n)&&typeof n.literal=="number"))),(r=t.findIndex(FP))!==-1&&(t=t.filter((n,i)=>i===r||!FP(n)&&!(Np(n)&&typeof n.literal=="boolean"))),(r=t.findIndex(DP))!==-1&&(t=t.filter((n,i)=>i===r||!DP(n)&&!(Np(n)&&typeof n.literal=="bigint"))),(r=t.findIndex(T_))!==-1&&(t=t.filter((n,i)=>i===r||!T_(n)&&!Zee(n))),t},QP=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return e;case"Refinement":return QP(e.from)}},mte=Symbol.for("@effect/schema/TypeId/GreaterThan"),gte=Symbol.for("@effect/schema/TypeId/LessThan"),yte=Symbol.for("@effect/schema/TypeId/Int"),bte=Symbol.for("@effect/schema/TypeId/Between"),vte=Symbol.for("@effect/schema/TypeId/MinLength"),wte=Symbol.for("@effect/schema/TypeId/MaxLength"),kte=Symbol.for("@effect/schema/ArbitraryHookId"),xte=Symbol.for("@effect/schema/PrettyHookId"),Nte=Symbol.for("@effect/schema/EquivalenceHookId");class Ste{constructor(t){N(this,"permits");N(this,"waiters",new Array);N(this,"taken",0);N(this,"take",t=>cS(r=>{if(this.free<t){const n=()=>{if(this.free>=t){const i=this.waiters.findIndex(s=>s===n);i!==-1&&this.waiters.splice(i,1),this.taken+=t,r(Re(t))}};return this.waiters.push(n),Hr(le(()=>{const i=this.waiters.findIndex(s=>s===n);i!==-1&&this.waiters.splice(i,1)}))}return this.taken+=t,Vt(Re(t))}));N(this,"release",t=>mn(r=>(this.taken-=t,r.getFiberRef(Kb).scheduleTask(()=>{this.waiters.forEach(n=>n())},r.getFiberRef(cp)),mr)));N(this,"withPermits",t=>r=>ba(n=>X(n(this.take(t)),i=>CP(n(r),this.release(i)))));this.permits=t}get free(){return this.permits-this.taken}}const _te=e=>new Ste(e),Ete="effect/Ref/SynchronizedRef",Ote=Symbol.for(Ete),Cte={_A:e=>e};class Tte{constructor(t,r){N(this,"ref");N(this,"withLock");N(this,Bae,Cte);N(this,Wae,kL);this.ref=t,this.withLock=r}modify(t){return this.modifyEffect(r=>Re(t(r)))}modifyEffect(t){return this.withLock(A(X(KS(this.ref),t),X(([r,n])=>Mi(SL(this.ref,n),r))))}pipe(){return ye(this,arguments)}}Bae=Ote,Wae=wL;const Ite=e=>le(()=>Rte(e)),Rte=e=>{const t=xL(e),r=_te(1);return new Tte(t,r.withPermits(1))},Ate="Fresh",Lte="FromEffect",Pte="Suspend",jte="Provide",Mte="ProvideMerge",Fte="ZipWith",ZP=e=>(t,r)=>{const n=D4(),i=t,s=[[va,[[n,e.context]]]];r!=null&&r.scheduler&&s.push([Kb,[[n,r.scheduler]]]);let o=IG(e.fiberRefs,{entries:s,forkAs:n});r!=null&&r.updateRefs&&(o=r.updateRefs(o,n));const a=new yP(n,o,e.runtimeFlags),l=a._supervisor;return l!==Xb&&(l.onStart(e.context,i,de(),a),a.addObserver(u=>l.onEnd(u,a))),l_.add(e.runtimeFlags,a),a.start(i),a},Dte=e=>t=>{const r=qte(e)(t);if(r._tag==="Failure")throw YP(r.i0);return r.i0},Bte=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const r=new Error;Error.stackTraceLimit=t;const n=`Fiber #${e.id().id} cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work`,i="AsyncFiberException";return Object.defineProperties(r,{_tag:{value:i},fiber:{value:e},message:{value:n},name:{value:i},toString:{get(){return()=>n}},[Ft]:{get(){return()=>n}}}),r},GP=Symbol.for("effect/Runtime/FiberFailure"),Wte=Symbol.for("effect/Runtime/FiberFailure/Cause"),YP=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const r=new Error;Error.stackTraceLimit=t;const n=O4(e);if(n.length>0){const i=n[0];r.name=i.message.split(":")[0],r.message=i.message.substring(r.name.length+2),r.stack=Ob(e)}return r[GP]=GP,r[Wte]=e,r.toJSON=()=>({_id:"FiberFailure",cause:e.toJSON()}),r.toString=()=>Ir(r.toJSON()),r[Ft]=()=>r.toJSON(),r},XP=e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return $A(t.left);case"Right":return sr(t.right);case"Some":return sr(t.value);case"None":return $A(WA())}},qte=e=>t=>{const r=XP(t);if(r)return r;const n=new TY,i=ZP(e)(t,{scheduler:n});n.flush();const s=i.unsafePoll();if(s)return s;throw Bte(i)},Ute=e=>t=>$te(e)(t).then(r=>{switch(r._tag){case fn:return r.i0;case hn:throw YP(r.i0)}}),$te=e=>t=>new Promise(r=>{const n=XP(t);n&&r(n),ZP(e)(t).addObserver(i=>{r(i)})});class Vte{constructor(t,r,n){N(this,"context");N(this,"runtimeFlags");N(this,"fiberRefs");this.context=t,this.runtimeFlags=r,this.fiberRefs=n}pipe(){return ye(this,arguments)}}const zte=e=>new Vte(e.context,e.runtimeFlags,e.fiberRefs),Kte=nA(ed,tA,eA),u0=zte({context:Xf(),runtimeFlags:Kte,fiberRefs:RG()}),Jte=Ute(u0),Hte=Dte(u0),Qte=C(2,(e,t)=>e.modifyEffect(t)),Zte="effect/Layer",ej=Symbol.for(Zte),Gte={_RIn:e=>e,_E:e=>e,_ROut:e=>e},Ep={[ej]:Gte,pipe(){return ye(this,arguments)}},Yte="effect/Layer/MemoMap",P_=Symbol.for(Yte),Xte=e=>Ce(e,ej),ere=e=>e._tag===Ate;class tre{constructor(t){N(this,"ref");N(this,qae);this.ref=t,this[P_]=P_}getOrElseMemoize(t,r){return A(Qte(this.ref,n=>{const i=n.get(t);if(i!==void 0){const[s,o]=i,a=A(s,X(([l,u])=>A(oY(l),Mi(u))),gS(VA({onFailure:()=>mr,onSuccess:()=>SS(r,o)})));return Re([a,n])}return A(NL(0),X(s=>A(YQ(),X(o=>A(NL(()=>mr),lt(a=>{const l=ba(d=>A(S_(),X(c=>A(d(X(rj(t,c,!0),f=>eY(f(this)))),id,X(f=>{switch(f._tag){case hn:return A(eZ(o,f.i0),gs($b(c,f)),gs(ir(f.i0)));case fn:return A(SL(a,m=>A($b(c,m),gQ(KG(s,g=>[g===1,g-1])),Dl)),gs(_L(s,m=>m+1)),gs(SS(r,m=>A(le(()=>n.delete(t)),gs(KS(a)),X(g=>g(m))))),gs(tZ(o,f.i0)),Mi(f.i0[1]))}}))))),u=[A(KA(o),gS(QQ({onFailure:()=>mr,onSuccess:()=>_L(s,d=>d+1)}))),d=>A(KS(a),X(c=>c(d)))];return[l,ere(t)?n:n.set(t,u)]}))))))}),pS)}}qae=P_;const rre=_t(()=>lt(Ite(new Map),e=>new tre(e))),tj=C(2,(e,t)=>X(rre,r=>X(rj(e,t),n=>n(r)))),rj=(e,t,r=!1)=>{const n=e;switch(n._tag){case"Locally":return le(()=>i=>n.f(i.getOrElseMemoize(n.self,t)));case"ExtendScope":return le(()=>i=>jee(s=>i.getOrElseMemoize(n.layer,s)));case"Fold":return le(()=>i=>A(i.getOrElseMemoize(n.layer,t),ms({onFailure:s=>i.getOrElseMemoize(n.failureK(s),t),onSuccess:s=>i.getOrElseMemoize(n.successK(s),t)})));case"Fresh":return le(()=>i=>A(n.layer,tj(t)));case"FromEffect":return le(r?()=>i=>n.effect:()=>i=>i.getOrElseMemoize(e,t));case"Provide":return le(()=>i=>A(i.getOrElseMemoize(n.first,t),X(s=>A(i.getOrElseMemoize(n.second,t),CS(s)))));case"Scoped":return le(r?()=>i=>n0(n.effect,t):()=>i=>i.getOrElseMemoize(e,t));case"Suspend":return le(()=>i=>i.getOrElseMemoize(n.evaluate(),t));case"ProvideMerge":return le(()=>i=>A(i.getOrElseMemoize(n.first,t),yQ(i.getOrElseMemoize(n.second,t),n.zipK)));case"ZipWith":return le(()=>i=>A(i.getOrElseMemoize(n.first,t),_P(i.getOrElseMemoize(n.second,t),n.zipK,{concurrent:!0})))}},nre=()=>j_(QA()),ire=C(2,(e,t)=>{const r=L4(e),n=r?e:t;return j_(lt(r?t:e,i=>zN(n,i)))});function j_(e){const t=Object.create(Ep);return t._tag=Lte,t.effect=e,t}let M_,nj,ij,F_,sj,oj,aj,lj,uj,c0,ci,cj,ws,hd,fd,Un,D_,B_,dj,pd,hj,ze,fj,pj,mj,Jl,ct,gj,d0,yj,Fi,W_,bj,q_,md,vj,wj,di,Hl,U_,$_,Op;M_=C(2,(e,t)=>oj(e,t,(r,n)=>Cb(r,n))),nj=(...e)=>{let t=e[0];for(let r=1;r<e.length;r++)t=M_(t,e[r]);return t},ij=C(2,(e,t)=>{const r=L4(e);return j_(Re(zN(r?e:t,r?t:e)))}),F_=e=>{const t=Object.create(Ep);return t._tag=Pte,t.evaluate=e,t},sj=C(2,(e,t)=>F_(()=>{const r=Object.create(Ep);return r._tag=jte,r.first=Object.create(Ep,{_tag:{value:Mte,enumerable:!0},first:{value:nre(),enumerable:!0},second:{value:t},zipK:{value:(n,i)=>A(n,Cb(i))}}),r.second=e,r})),oj=C(3,(e,t,r)=>F_(()=>{const n=Object.create(Ep);return n._tag=Fte,n.first=e,n.second=t,n.zipK=r,n})),aj=C(2,(e,t)=>uS(S_(),r=>X(tj(t,r),n=>TS(e,n)),(r,n)=>$b(r,n))),lj=C(2,(e,t)=>{const r=XS(u0.fiberRefs,t.fiberRefs),n=td(u0.runtimeFlags,t.runtimeFlags);return ba(i=>mn(s=>{const o=s.getFiberRefs(),a=e_(s.id(),o)(r),l=s._runtimeFlags,u=rd(n)(l),d=XS(a,o),c=td(u,l);return s.setFiberRefs(a),s._runtimeFlags=u,CP(TS(i(e),t.context),mn(f=>(f.setFiberRefs(e_(f.id(),f.getFiberRefs())(d)),f._runtimeFlags=rd(c)(f._runtimeFlags),mr)))}))}),uj=C(2,(e,t)=>Xte(t)?aj(e,t):iJ(t)?TS(e,t):lj(e,t)),c0=bP,ci=ud,cj=ps,ws=nr,Ye=nY,Qa=aY,hd=Re,fd=_t,rn=le,Un=mr,D_=hS,B_=GG,dj=YG,pd=XG,hj=dY,ze=lt,fj=sY,pj=uS,Ha=uj,mj=lY,Jl=nd,ct=X,gj=cY,d0=Jte,Zi=Hte,yj=Mee,Fi=(e,t=[])=>({value:e,forest:t}),W_=e=>bj(Fi("error(s) found",e.map(Op))),bj=e=>e.value+q_(`
`,e.forest),q_=(e,t)=>{let r="";const n=t.length;let i;for(let s=0;s<n;s++){i=t[s];const o=s===n-1;r+=e+(o?"\u2514":"\u251C")+"\u2500 "+i.value,r+=q_(e+(n>1&&!o?"\u2502  ":"   "),i.forest)}return r},md=e=>{if(qf(e))return JSON.stringify(e);if(xc(e)||e==null||aN(e)||uN(e)||TV(e))return String(e);if(lN(e))return String(e)+"n";if(!Array.isArray(e)&&Ce(e,"toString")&&Nc(e.toString)&&e.toString!==Object.prototype.toString)return e.toString();try{return JSON.stringify(e)}catch{return String(e)}},vj=e=>{switch(e.type._tag){case"StringKeyword":return"${string}";case"NumberKeyword":return"${number}"}},wj=e=>e.head+e.spans.map(t=>vj(t)+t.literal).join(""),di=e=>PP(e).pipe(xN(()=>Kee(e)),xN(()=>Jee(e))),Hl=e=>{switch(e._tag){case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"UndefinedKeyword":case"SymbolKeyword":case"ObjectKeyword":case"AnyKeyword":case"UnknownKeyword":case"VoidKeyword":case"NeverKeyword":return Rt(di(e),()=>e._tag);case"Literal":return Rt(di(e),()=>md(e.literal));case"UniqueSymbol":return Rt(di(e),()=>md(e.symbol));case"Union":return[...new Set(e.types.map(Hl))].join(" or ");case"TemplateLiteral":return Rt(di(e),()=>wj(e));case"Tuple":return Rt(di(e),()=>"<anonymous tuple or array schema>");case"TypeLiteral":return Rt(di(e),()=>"<anonymous type literal schema>");case"Enums":return Rt(di(e),()=>e.enums.map((t,r)=>JSON.stringify(r)).join(" | "));case"Suspend":return Rt(di(e),()=>"<anonymous suspended schema>");case"Declaration":return Rt(di(e),()=>"<anonymous declaration schema>");case"Refinement":return Rt(di(e),()=>"<anonymous refinement schema>");case"Transform":return Rt(di(e),()=>`${Hl(e.from)} <-> ${Hl(e.to)}`)}},U_=(e,t)=>e.length===1&&e[0].forest.length!==0&&t[0]._tag!=="UnionMember",$_=e=>zee(e.expected).pipe(io(t=>t(e.actual)),xN(()=>e.message),Rt(()=>`Expected ${Hl(e.expected)}, actual ${md(e.actual)}`)),Op=e=>{switch(e._tag){case"Type":return Fi($_(e));case"Forbidden":return Fi("is forbidden");case"Index":{const t=e.errors.map(Op);return U_(t,e.errors)?Fi(`[${e.index}]${t[0].value}`,t[0].forest):Fi(`[${e.index}]`,t)}case"Unexpected":return Fi("is unexpected"+(Jr(e.ast)?`, expected ${Hl(e.ast.value)}`:""));case"Key":{const t=e.errors.map(Op);return U_(t,e.errors)?Fi(`[${md(e.key)}]${t[0].value}`,t[0].forest):Fi(`[${md(e.key)}]`,t)}case"Missing":return Fi("is missing");case"UnionMember":return Fi("union member",e.errors.map(Op))}};class sre{constructor(t){N(this,"errors");N(this,"_tag","ParseError");this.errors=t}toString(){return W_(this.errors)}toJSON(){return{_id:"ParseError",message:this.toString()}}[Ft](){return this.toJSON()}}const V_=e=>new sre(e),mo=(e,t,r)=>({_tag:"Type",expected:e,actual:t,message:Cc(r)}),ore={_tag:"Forbidden"},Sa=(e,t)=>({_tag:"Index",index:e,errors:t}),_a=(e,t)=>({_tag:"Key",key:e,errors:t}),z_={_tag:"Missing"},kj=e=>({_tag:"Unexpected",ast:e}),xj=e=>({_tag:"UnionMember",errors:e}),$n=Vt,yt=e=>{const t=e;return"_tag"in t?t._tag==="ParseError"?Hr(t):Hr(V_([t])):Hr(V_(t))},go=e=>{const t=e;if(t._tag==="Left"||t._tag==="Right")return t},h0=(e,t)=>{const r=e;return r._tag==="Left"?r:r._tag==="Right"?t(r.right):ct(e,t)},are=(e,t)=>{const r=e;return r._tag==="Left"?r:r._tag==="Right"?Vt(t(r.right)):ze(e,t)},f0=(e,t)=>Lr(e,t),K_=(e,t)=>{const r=f0(e,t);return(n,i)=>{const s=r(n,i);if(vr(s))throw new Error(W_(s.left.errors));return s.right}},lre=(e,t)=>{const r=f0(e,t);return(n,i)=>pz(r(n,i))},ure=(e,t)=>{const r=Lr(e,t);return(n,i)=>r(n,{...i,isEffectAllowed:!0})},Ql=e=>K_(e.ast,!0),cre=e=>f0(e.ast,!0),dre=e=>ure(e.ast,!0),hre=Ql,fre=e=>K_(Ar(e.ast),!0),pre=e=>lre(Ar(e.ast),!0),Nj=e=>f0(Ar(e.ast),!0),Sj=e=>{const t=Nj(e);return r=>so(t(r))},mre=e=>K_(e.ast,!1),J_={},gre=$e(Symbol.for("@effect/schema/Parser/decodeMemoMap"),()=>new WeakMap),yre=$e(Symbol.for("@effect/schema/Parser/encodeMemoMap"),()=>new WeakMap),Lr=(e,t)=>{const r=t?gre:yre,n=r.get(e);if(n)return n;const i=bre(e,t);return r.set(e,i),i},bre=(e,t)=>{switch(e._tag){case"Refinement":if(t){const r=Lr(e.from,!0);return(n,i)=>m0(h0(r(n,i),s=>hs(e.filter(s,i??J_,e),{onNone:()=>$n(s),onSome:yt})),i)}else{const r=Lr(Ar(e),!0),n=Lr(_j(e.from),!1);return(i,s)=>m0(h0(r(i,s),o=>n(o,s)),s)}case"Transform":{const r=xre(e.transformation,t),n=t?Lr(e.from,!0):Lr(e.to,!1),i=t?Lr(e.to,!0):Lr(e.from,!1);return(s,o)=>m0(h0(n(s,o),a=>h0(r(a,o??J_,e),l=>i(l,o))),o)}case"Declaration":{const r=e.decode(t,...e.typeParameters);return(n,i)=>m0(r(n,i??J_,e),i)}case"Literal":return _n(e,r=>r===e.literal);case"UniqueSymbol":return _n(e,r=>r===e.symbol);case"UndefinedKeyword":return _n(e,fR);case"VoidKeyword":return _n(e,fR);case"NeverKeyword":return _n(e,OV);case"UnknownKeyword":case"AnyKeyword":return $n;case"StringKeyword":return _n(e,qf);case"NumberKeyword":return _n(e,xc);case"BooleanKeyword":return _n(e,aN);case"BigIntKeyword":return _n(e,lN);case"SymbolKeyword":return _n(e,uN);case"ObjectKeyword":return _n(e,ib);case"Enums":return _n(e,r=>e.enums.some(([n,i])=>i===r));case"TemplateLiteral":{const r=wre(e);return _n(e,n=>qf(n)&&r.test(n))}case"Tuple":{const r=e.elements.map(s=>Lr(s.type,t)),n=io(e.rest,Rr(s=>Lr(s,t)));let i=e.elements.filter(s=>!s.isOptional).length;return Jr(e.rest)&&(i+=e.rest.value.length-1),(s,o)=>{if(!Array.isArray(s))return yt(mo(e,s));const a=(o==null?void 0:o.errors)==="all",l=[];let u=0;const d=s.length;for(let b=d;b<=i-1;b++){const k=Sa(b,[z_]);if(a){l.push([u++,k]);continue}else return yt(k)}if(Kr(e.rest))for(let b=e.elements.length;b<=d-1;b++){const k=Sa(b,[kj(de())]);if(a){l.push([u++,k]);continue}else return yt(hi(Qr(l),k))}const c=[];let f=0,m;for(;f<r.length;f++)if(d<f+1){if(e.elements[f].isOptional)continue}else{const b=r[f],k=b(s[f],o),y=go(k);if(y){if(vr(y)){const p=Sa(f,y.left.errors);if(a){l.push([u++,p]);continue}else return yt(hi(Qr(l),p))}c.push([u++,y.right])}else{const p=u++,w=f;m||(m=[]),m.push(({es:x,output:_})=>ct(Jl(k),E=>{if(vr(E)){const S=Sa(w,E.left.errors);return a?(x.push([p,S]),Un):yt(hi(Qr(x),S))}return _.push([p,E.right]),Un}))}}if(Jr(n)){const[b,...k]=n.value;for(;f<d-k.length;f++){const y=b(s[f],o),p=go(y);if(p)if(vr(p)){const w=Sa(f,p.left.errors);if(a){l.push([u++,w]);continue}else return yt(hi(Qr(l),w))}else c.push([u++,p.right]);else{const w=u++,x=f;m||(m=[]),m.push(({es:_,output:E})=>ct(Jl(y),S=>{if(vr(S)){const R=Sa(x,S.left.errors);return a?(_.push([w,R]),Un):yt(hi(Qr(_),R))}else return E.push([w,S.right]),Un}))}}for(let y=0;y<k.length;y++)if(f+=y,!(d<f+1)){const p=k[y](s[f],o),w=go(p);if(w){if(vr(w)){const x=Sa(f,w.left.errors);if(a){l.push([u++,x]);continue}else return yt(hi(Qr(l),x))}c.push([u++,w.right])}else{const x=u++,_=f;m||(m=[]),m.push(({es:E,output:S})=>ct(Jl(p),R=>{if(vr(R)){const T=Sa(_,R.left.errors);return a?(E.push([x,T]),Un):yt(hi(Qr(E),T))}return S.push([x,R.right]),Un}))}}}const g=({es:b,output:k})=>gb(b)?yt(Qr(b)):$n(Qr(k));if(m&&m.length>0){const b=m;return fd(()=>{const k={es:Array.from(l),output:Array.from(c)};return ct(ci(b,y=>y(k),{concurrency:"unbounded",discard:!0}),()=>g(k))})}return g({output:c,es:l})}}case"TypeLiteral":{if(e.propertySignatures.length===0&&e.indexSignatures.length===0)return _n(e,CV);const r=[],n={};for(const a of e.propertySignatures)r.push(Lr(a.type,t)),n[a.name]=null;const i=e.indexSignatures.map(a=>[Lr(a.parameter,t),Lr(a.type,t)]),s=zl(e.indexSignatures.map(a=>a.parameter).concat(i0(n).map(a=>uN(a)?Qee(a):MP(a)))),o=Lr(s,t);return(a,l)=>{if(!gR(a))return yt(mo(e,a));const u=(l==null?void 0:l.errors)==="all",d=[];let c=0;if((l==null?void 0:l.onExcessProperty)==="error")for(const b of i0(a)){const k=go(o(b,l));if(k&&vr(k)){const y=_a(b,[kj(xe(s))]);if(u){d.push([c++,y]);continue}else return yt(hi(Qr(d),y))}}const f={};let m;for(let b=0;b<r.length;b++){const k=e.propertySignatures[b],y=r[b],p=k.name;if(Object.prototype.hasOwnProperty.call(a,p)){const w=y(a[p],l),x=go(w);if(x){if(vr(x)){const _=_a(p,x.left.errors);if(u){d.push([c++,_]);continue}else return yt(hi(Qr(d),_))}f[p]=x.right}else{const _=c++,E=p;m||(m=[]),m.push(({es:S,output:R})=>ct(Jl(w),T=>{if(vr(T)){const I=_a(E,T.left.errors);return u?(S.push([_,I]),Un):yt(hi(Qr(S),I))}return R[E]=T.right,Un}))}}else if(!k.isOptional){const w=_a(p,[z_]);if(u){d.push([c++,w]);continue}else return yt(w)}}for(let b=0;b<i.length;b++){const k=i[b],y=k[0],p=k[1],w=TP(a,e.indexSignatures[b].parameter);for(const x of w){const _=go(y(x,l));if(_&&so(_)){const E=p(a[x],l),S=go(E);if(S)if(vr(S)){const R=_a(x,S.left.errors);if(u){d.push([c++,R]);continue}else return yt(hi(Qr(d),R))}else Object.prototype.hasOwnProperty.call(n,x)||(f[x]=S.right);else{const R=c++,T=x;m||(m=[]),m.push(({es:I,output:M})=>ct(Jl(E),L=>{if(vr(L)){const V=_a(T,L.left.errors);return u?(I.push([R,V]),Un):yt(hi(Qr(I),V))}else return Object.prototype.hasOwnProperty.call(n,x)||(M[x]=L.right),Un}))}}}}const g=({es:b,output:k})=>gb(b)?yt(Qr(b)):$n(k);if(m&&m.length>0){const b=m;return fd(()=>{const k={es:Array.from(d),output:Object.assign({},f)};return ct(ci(b,y=>y(k),{concurrency:"unbounded",discard:!0}),()=>g(k))})}return g({es:d,output:f})}}case"Union":{const r=vre(e.types,t),n=i0(r.keys),i=n.length,s=new Map;for(let o=0;o<e.types.length;o++)s.set(e.types[o],Lr(e.types[o],t));return(o,a)=>{const l=[];let u=0,d=[];if(i>0)if(gR(o))for(let m=0;m<i;m++){const g=n[m],b=r.keys[g].buckets;if(Object.prototype.hasOwnProperty.call(o,g)){const k=String(o[g]);Object.prototype.hasOwnProperty.call(b,k)?d=d.concat(b[k]):l.push([u++,_a(g,[mo(r.keys[g].ast,o[g])])])}else l.push([u++,_a(g,[z_])])}else l.push([u++,mo(e,o)]);r.otherwise.length>0&&(d=d.concat(r.otherwise));let c;for(let m=0;m<d.length;m++){const g=s.get(d[m])(o,a),b=!c||c.length===0?go(g):void 0;if(b){if(so(b))return $n(b.right);l.push([u++,xj(b.left.errors)])}else{const k=u++;c||(c=[]),c.push(y=>fd(()=>"finalResult"in y?Un:ct(Jl(g),p=>(so(p)?y.finalResult=$n(p.right):y.es.push([k,xj(p.left.errors)]),Un))))}}const f=m=>gb(m)?yt(Qr(m)):yt(mo(O_,o));if(c&&c.length>0){const m=c;return fd(()=>{const g={es:Array.from(l)};return ct(ci(m,b=>b(g),{concurrency:1,discard:!0}),()=>"finalResult"in g?g.finalResult:f(g.es))})}return f(l)}}case"Suspend":{const r=IP(()=>Lr(e.f(),t));return(n,i)=>r()(n,i)}}},_n=(e,t)=>r=>t(r)?$n(r):yt(mo(e,r)),p0=(e,t)=>{switch(e._tag){case"Declaration":return p0(e.type,t);case"TypeLiteral":{const r=[];for(let n=0;n<e.propertySignatures.length;n++){const i=e.propertySignatures[n],s=t?vs(i.type):Ar(i.type);Np(s)&&!i.isOptional&&r.push([i.name,s])}return r}case"Refinement":return p0(e.from,t);case"Transform":return p0(t?e.from:e.to,t)}return[]},vre=(e,t)=>{const r={},n=[];for(let i=0;i<e.length;i++){const s=e[i],o=p0(s,t);if(o.length>0)for(let a=0;a<o.length;a++){const[l,u]=o[a],d=String(u.literal);r[l]=r[l]||{buckets:{},ast:O_};const c=r[l].buckets;if(Object.prototype.hasOwnProperty.call(c,d)){if(a<o.length-1)continue;c[d].push(s),r[l].ast=zl([r[l].ast,u])}else{c[d]=[s],r[l].ast=zl([r[l].ast,u]);break}}else n.push(s)}return{keys:r,otherwise:n}},_j=e=>ste(e)?_j(e.from):e,m0=(e,t)=>go(e)||((t==null?void 0:t.isEffectAllowed)===!0?e:yt(ore)),hi=(e,t)=>(e.push(t),e),wre=e=>{let t=`^${e.head}`;for(const r of e.spans)o0(r.type)?t+=".*":C_(r.type)&&(t+="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?"),t+=r.literal;return t+="$",new RegExp(t)};function Qr(e){return e.sort(([t],[r])=>t>r?1:t<r?-1:0).map(([t,r])=>r)}const kre=(e,t)=>{switch(e._tag){case"FinalPropertySignatureTransformation":return t?e.decode:e.encode}},xre=(e,t)=>{switch(e._tag){case"FinalTransformation":return t?e.decode:e.encode;case"ComposeTransformation":return $n;case"TypeLiteralTransformation":return r=>{let n=Vt(r);for(const i of e.propertySignatureTransformations){const[s,o]=t?[i.from,i.to]:[i.to,i.from],a=kre(i.propertySignatureTransformation,t);n=are(n,l=>{const u=a(Object.prototype.hasOwnProperty.call(l,s)?xe(l[s]):de());return delete l[s],Jr(u)&&(l[o]=u.value),l})}return n}}},g0=(e,t=[])=>{const r=e._tag;switch(r){case"Type":return[{_tag:r,path:t,message:$_(e)}];case"Key":return Lc(e.errors,n=>g0(n,[...t,e.key]));case"Index":return Lc(e.errors,n=>g0(n,[...t,e.index]));case"UnionMember":return Lc(e.errors,n=>g0(n,t));case"Missing":return[{_tag:r,path:t,message:"Missing key or index"}];case"Forbidden":return[{_tag:r,path:t,message:"Forbidden"}];case"Unexpected":return[{_tag:r,path:t,message:"Unexpected"+(Jr(e.ast)?`, expected ${Hl(e.ast.value)}`:"")}]}},Nre=e=>Lc(e,t=>g0(t)),Sre=Symbol.for("@effect/schema/Schema"),H_=Sre,Ej=e=>ib(e)&&H_ in e&&"ast"in e,Oj={From:e=>e,To:e=>e};class _re{constructor(t){N(this,"ast");N(this,Uae,Oj);this.ast=t}pipe(){return ye(this,arguments)}}Uae=H_;const fi=e=>new _re(e),Ere=fi(Hee),yo=fi(tte),Cp=fi(rte),Ore=fi(nte),Cj=(...e)=>fi(zl(e.map(t=>t.ast))),Q_=e=>Cj(Ere,e),Tp=e=>{const t=i0(e),r=[],n=[],i=[],s=[];for(let o=0;o<t.length;o++){const a=t[o],l=e[a];if("propertySignatureAST"in l){const u=l.propertySignatureAST,d=u.from,c=u.annotations;switch(u._tag){case"Declaration":r.push(bs(a,d,u.isOptional,!0,c)),n.push(bs(a,d,u.isOptional,!0)),i.push(bs(a,Ar(d),u.isOptional,!0,c));break;case"OptionalToRequired":n.push(bs(a,d,!0,!0)),i.push(bs(a,u.to,!1,!0,c)),s.push(lte(a,a,ate(u.decode,u.encode)));break}}else r.push(bs(a,l.ast,!1,!0)),n.push(bs(a,l.ast,!1,!0)),i.push(bs(a,Ar(l.ast),!1,!0))}return wr(s)?fi(Kl(ui(n,[]),ui(i,[]),a0(s))):fi(ui(r,[]))},Tj=(e,t,r)=>{if(Sp(e))return Kl(e.from,Tj(e.to,t,r),e.transformation,e.annotations);const n=Z_(r);return n[RP]=[...Cre(e),t],ute(e,n)},pi=(e,t)=>r=>{const n=Tj(r.ast,e,t),i=fi(n),s=fre(i),o=pre(i),a=Nj(i),l=Sj(i);return Object.assign(u=>s(u),{[KR]:KR,[H_]:Oj,ast:n,option:u=>o(u),either:u=>PR(a(u),d=>Nre(d.errors).map(c=>({meta:c.path,message:c.message}))),is:u=>l(u),pipe(){return ye(this,arguments)}})},Cre=e=>e.annotations[RP]||[],Tre=(e,t)=>zl(e.flatMap(r=>t.map(n=>{if(po(r)){if(po(n))return ui(r.propertySignatures.concat(n.propertySignatures),r.indexSignatures.concat(n.indexSignatures));if(Sp(n)&&R_(n.transformation)&&po(n.from)&&po(n.to)){const i=ui(r.propertySignatures.concat(n.from.propertySignatures),r.indexSignatures.concat(n.from.indexSignatures)),s=ui(A_(r.propertySignatures).concat(n.to.propertySignatures),L_(r.indexSignatures).concat(n.to.indexSignatures));return Kl(i,s,a0(n.transformation.propertySignatureTransformations))}}else if(Sp(r)&&R_(r.transformation)&&po(r.from)&&po(r.to)){if(po(n)){const i=ui(r.from.propertySignatures.concat(n.propertySignatures),r.from.indexSignatures.concat(n.indexSignatures)),s=ui(r.to.propertySignatures.concat(A_(n.propertySignatures)),r.to.indexSignatures.concat(L_(n.indexSignatures)));return Kl(i,s,a0(r.transformation.propertySignatureTransformations))}else if(Sp(n)&&R_(n.transformation)&&po(n.from)&&po(n.to)){const i=ui(r.from.propertySignatures.concat(n.from.propertySignatures),r.from.indexSignatures.concat(n.from.indexSignatures)),s=ui(r.to.propertySignatures.concat(n.to.propertySignatures),r.to.indexSignatures.concat(n.to.indexSignatures));return Kl(i,s,a0(r.transformation.propertySignatureTransformations.concat(n.transformation.propertySignatureTransformations)))}}throw new Error("`extend` can only handle type literals or unions of type literals")}))),Ire=C(2,(e,t)=>fi(Tre($P(e.ast)?e.ast.types:[e.ast],$P(t.ast)?t.ast.types:[t.ast])));function Di(e,t){return r=>fi(I_(r.ast,(n,i,s)=>{const o=e(n,i,s);return aN(o)?o?de():xe(V_([mo(s,n)])):o},Z_(t)))}let Ij,Z_,Rj,y0,Aj,G_,Lj,Y_,Pj,b0,jj,X_,Mj,e2,Fj,Dj,Bj,Wj,qj,t2,r2,Uj,$j,n2,Ip,bo,i2;Ij=C(e=>Ej(e[0])&&Ej(e[1]),(e,t,r,n)=>fi(Kl(e.ast,t.ast,ote(r,n)))),Z_=e=>{if(!e)return{};const t={},r=Object.getOwnPropertySymbols(e);for(const i of r)t[i]=e[i];if(e.typeId!==void 0){const i=e.typeId;typeof i=="object"?(t[AP]=i.id,t[i.id]=i.params):t[AP]=i}const n=(i,s)=>{e[i]!==void 0&&(t[s]=e[i])};return n("message",LP),n("identifier",E_),n("title",Na),n("description",xp),n("examples",qee),n("default",Uee),n("documentation",Vee),n("jsonSchema",$ee),n("arbitrary",kte),n("pretty",xte),n("equivalence",Nte),t},Rj=wte,y0=(e,t)=>r=>r.pipe(Di(n=>n.length<=e,{typeId:Rj,description:`a string at most ${e} character(s) long`,jsonSchema:{maxLength:e},...t})),Aj=vte,G_=(e,t)=>r=>r.pipe(Di(n=>n.length>=e,{typeId:Aj,description:`a string at least ${e} character(s) long`,jsonSchema:{minLength:e},...t})),Lj=Symbol.for("@effect/schema/TypeId/Pattern"),Y_=(e,t)=>r=>{const n=e.source;return r.pipe(Di(i=>(e.lastIndex=0,e.test(i)),{typeId:{id:Lj,params:{regex:e}},description:`a string matching the pattern ${n}`,jsonSchema:{pattern:n},arbitrary:()=>i=>i.stringMatching(e),...t}))},Pj=Symbol.for("@effect/schema/TypeId/Includes"),b0=(e,t)=>r=>r.pipe(Di(n=>n.includes(e),{typeId:{id:Pj,params:{includes:e}},description:`a string including ${JSON.stringify(e)}`,jsonSchema:{pattern:`.*${e}.*`},...t})),jj=mte,X_=(e,t)=>r=>r.pipe(Di(n=>n>e,{typeId:jj,description:e===0?"a positive number":`a number greater than ${e}`,jsonSchema:{exclusiveMinimum:e},...t})),Mj=yte,e2=e=>t=>t.pipe(Di(r=>Number.isSafeInteger(r),{typeId:Mj,title:"integer",description:"an integer",jsonSchema:{type:"integer"},...e})),Fj=gte,Dj=(e,t)=>r=>r.pipe(Di(n=>n<e,{typeId:Fj,description:e===0?"a negative number":`a number less than ${e}`,jsonSchema:{exclusiveMaximum:e},...t})),Bj=bte,Wj=(e,t,r)=>n=>n.pipe(Di(i=>i>=e&&i<=t,{typeId:Bj,description:`a number between ${e} and ${t}`,jsonSchema:{maximum:t,minimum:e},...r})),qj=e=>X_(0,e),t2=Ij(yo,Cp,(e,t,r)=>{if(e==="NaN")return $n(NaN);if(e==="Infinity")return $n(1/0);if(e==="-Infinity")return $n(-1/0);if(e.trim()==="")return yt(mo(r,e));const n=Number(e);return Number.isNaN(n)?yt(mo(r,e)):$n(n)},e=>$n(String(e))),r2=Z.createContext(null),Uj=({children:e,value:t})=>W.jsx(r2.Provider,{value:t,children:e}),$j=ur.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),n2=()=>{const e=Z.useContext(r2);if(e==null)throw new Error("could not find Evolu context value; please ensure the component is wrapped in a <EvoluProvider>");return e},bn=ire,Ip=M_,ow=nj,bi=ij,Io=sj,bo=Ve(),i2=e=>bi(bo,bo.of({syncUrl:"https://evolu.world",maxDrift:3e5,reloadUrl:"/",...e}));const Ea=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function v0(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const Rre=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Are(e){if(!v0(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Rre[e[r]];return t}const vo={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Vj(e){if(e>=vo._0&&e<=vo._9)return e-vo._0;if(e>=vo._A&&e<=vo._F)return e-(vo._A-10);if(e>=vo._a&&e<=vo._f)return e-(vo._a-10)}function Lre(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=Vj(e.charCodeAt(s)),a=Vj(e.charCodeAt(s+1));if(o===void 0||a===void 0){const l=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function s2(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function o2(e){if(typeof e=="string")e=s2(e);else if(v0(e))e=e.slice();else throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function zj(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];if(!v0(i))throw new Error("Uint8Array expected");t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}const Pre=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function jre(e,t){if(t!==void 0&&(typeof t!="object"||!Pre(t)))throw new Error("options must be object or undefined");return Object.assign(e,t)}function gd(e,t){if(!v0(e))throw new Error("Uint8Array expected");if(typeof t=="number"&&e.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function Mre(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}const Fre=(e,t)=>(Object.assign(t,e),t);function a2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`wrong positive integer: ${e}`)}function Kj(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function Dre(e){return e!=null&&typeof e=="object"&&(e instanceof Uint8Array||e.constructor.name==="Uint8Array")}function Rp(e,...t){if(!Dre(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Jj(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Bre(e,t){Rp(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Pr=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class Wre{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=o2(t),gd(t,32);const r=Pr(t,0),n=Pr(t,2),i=Pr(t,4),s=Pr(t,6),o=Pr(t,8),a=Pr(t,10),l=Pr(t,12),u=Pr(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let d=0;d<8;d++)this.pad[d]=Pr(t,16+2*d)}process(t,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],u=o[2],d=o[3],c=o[4],f=o[5],m=o[6],g=o[7],b=o[8],k=o[9],y=Pr(t,r+0),p=Pr(t,r+2),w=Pr(t,r+4),x=Pr(t,r+6),_=Pr(t,r+8),E=Pr(t,r+10),S=Pr(t,r+12),R=Pr(t,r+14);let T=s[0]+(y&8191),I=s[1]+((y>>>13|p<<3)&8191),M=s[2]+((p>>>10|w<<6)&8191),L=s[3]+((w>>>7|x<<9)&8191),V=s[4]+((x>>>4|_<<12)&8191),q=s[5]+(_>>>1&8191),ie=s[6]+((_>>>14|E<<2)&8191),ue=s[7]+((E>>>11|S<<5)&8191),G=s[8]+((S>>>8|R<<8)&8191),D=s[9]+(R>>>5|i),j=0,Q=j+T*a+I*(5*k)+M*(5*b)+L*(5*g)+V*(5*m);j=Q>>>13,Q&=8191,Q+=q*(5*f)+ie*(5*c)+ue*(5*d)+G*(5*u)+D*(5*l),j+=Q>>>13,Q&=8191;let ve=j+T*l+I*a+M*(5*k)+L*(5*b)+V*(5*g);j=ve>>>13,ve&=8191,ve+=q*(5*m)+ie*(5*f)+ue*(5*c)+G*(5*d)+D*(5*u),j+=ve>>>13,ve&=8191;let pe=j+T*u+I*l+M*a+L*(5*k)+V*(5*b);j=pe>>>13,pe&=8191,pe+=q*(5*g)+ie*(5*m)+ue*(5*f)+G*(5*c)+D*(5*d),j+=pe>>>13,pe&=8191;let Lt=j+T*d+I*u+M*l+L*a+V*(5*k);j=Lt>>>13,Lt&=8191,Lt+=q*(5*b)+ie*(5*g)+ue*(5*m)+G*(5*f)+D*(5*c),j+=Lt>>>13,Lt&=8191;let Yt=j+T*c+I*d+M*u+L*l+V*a;j=Yt>>>13,Yt&=8191,Yt+=q*(5*k)+ie*(5*b)+ue*(5*g)+G*(5*m)+D*(5*f),j+=Yt>>>13,Yt&=8191;let en=j+T*f+I*c+M*d+L*u+V*l;j=en>>>13,en&=8191,en+=q*a+ie*(5*k)+ue*(5*b)+G*(5*g)+D*(5*m),j+=en>>>13,en&=8191;let je=j+T*m+I*f+M*c+L*d+V*u;j=je>>>13,je&=8191,je+=q*l+ie*a+ue*(5*k)+G*(5*b)+D*(5*g),j+=je>>>13,je&=8191;let Je=j+T*g+I*m+M*f+L*c+V*d;j=Je>>>13,Je&=8191,Je+=q*u+ie*l+ue*a+G*(5*k)+D*(5*b),j+=Je>>>13,Je&=8191;let tn=j+T*b+I*g+M*m+L*f+V*c;j=tn>>>13,tn&=8191,tn+=q*d+ie*u+ue*l+G*a+D*(5*k),j+=tn>>>13,tn&=8191;let Qi=j+T*k+I*b+M*g+L*m+V*f;j=Qi>>>13,Qi&=8191,Qi+=q*c+ie*d+ue*u+G*l+D*a,j+=Qi>>>13,Qi&=8191,j=(j<<2)+j|0,j=j+Q|0,Q=j&8191,j=j>>>13,ve+=j,s[0]=Q,s[1]=ve,s[2]=pe,s[3]=Lt,s[4]=Yt,s[5]=en,s[6]=je,s[7]=Je,s[8]=tn,s[9]=Qi}finalize(){const{h:t,pad:r}=this,n=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,n[0]=t[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=t[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)t[a]=t[a]&s|n[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+r[0];t[0]=o&65535;for(let a=1;a<8;a++)o=(t[a]+r[a]|0)+(o>>>16)|0,t[a]=o&65535}update(t){Jj(this);const{buffer:r,blockLen:n}=this;t=o2(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Jj(this),Bre(t,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)t[s++]=n[o]>>>0,t[s++]=n[o]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}}function qre(e){const t=(n,i)=>e(i).update(o2(n)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const Hj=qre(e=>new Wre(e)),Ure=s2("expand 16-byte k"),$re=s2("expand 32-byte k"),Vre=Ea(Ure),zre=Ea($re);function oe(e,t){return e<<t|e>>>32-t}function l2(e){return e.byteOffset%4===0}const w0=64,Kre=16,Qj=2**32-1,Zj=new Uint32Array;function Jre(e,t,r,n,i,s,o,a){const l=i.length,u=new Uint8Array(w0),d=Ea(u),c=l2(i)&&l2(s),f=c?Ea(i):Zj,m=c?Ea(s):Zj;for(let g=0;g<l;o++){if(e(t,r,n,d,o,a),o>=Qj)throw new Error("arx: counter overflow");const b=Math.min(w0,l-g);if(c&&b===w0){const k=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let y=0,p;y<Kre;y++)p=k+y,m[p]=f[p]^d[y];g+=w0;continue}for(let k=0,y;k<b;k++)y=g+k,s[y]=i[y]^u[k];g+=b}}function Hre(e,t){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=jre({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return a2(i),a2(o),Kj(s),Kj(r),(a,l,u,d,c=0)=>{Rp(a),Rp(l),Rp(u);const f=u.length;if(d||(d=new Uint8Array(f)),Rp(d),a2(c),c<0||c>=Qj)throw new Error("arx: counter overflow");if(d.length<f)throw new Error(`arx: output (${d.length}) is shorter than data (${f})`);const m=[];let g=a.length,b,k;if(g===32)b=a.slice(),m.push(b),k=zre;else if(g===16&&r)b=new Uint8Array(32),b.set(a),b.set(a,16),k=Vre,m.push(b);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);l2(l)||(l=l.slice(),m.push(l));const y=Ea(b);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(k,y,Ea(l.subarray(0,16)),y),l=l.subarray(16)}const p=16-i;if(p!==l.length)throw new Error(`arx: nonce must be ${p} or 16 bytes`);if(p!==12){const x=new Uint8Array(12);x.set(l,s?0:12-l.length),l=x,m.push(l)}const w=Ea(l);for(Jre(e,k,y,w,u,d,c,o);m.length>0;)m.pop().fill(0);return d}}function Qre(e,t,r,n,i,s=20){let o=e[0],a=t[0],l=t[1],u=t[2],d=t[3],c=e[1],f=r[0],m=r[1],g=i,b=0,k=e[2],y=t[4],p=t[5],w=t[6],x=t[7],_=e[3],E=o,S=a,R=l,T=u,I=d,M=c,L=f,V=m,q=g,ie=b,ue=k,G=y,D=p,j=w,Q=x,ve=_;for(let Lt=0;Lt<s;Lt+=2)I^=oe(E+D|0,7),q^=oe(I+E|0,9),D^=oe(q+I|0,13),E^=oe(D+q|0,18),ie^=oe(M+S|0,7),j^=oe(ie+M|0,9),S^=oe(j+ie|0,13),M^=oe(S+j|0,18),Q^=oe(ue+L|0,7),R^=oe(Q+ue|0,9),L^=oe(R+Q|0,13),ue^=oe(L+R|0,18),T^=oe(ve+G|0,7),V^=oe(T+ve|0,9),G^=oe(V+T|0,13),ve^=oe(G+V|0,18),S^=oe(E+T|0,7),R^=oe(S+E|0,9),T^=oe(R+S|0,13),E^=oe(T+R|0,18),L^=oe(M+I|0,7),V^=oe(L+M|0,9),I^=oe(V+L|0,13),M^=oe(I+V|0,18),G^=oe(ue+ie|0,7),q^=oe(G+ue|0,9),ie^=oe(q+G|0,13),ue^=oe(ie+q|0,18),D^=oe(ve+Q|0,7),j^=oe(D+ve|0,9),Q^=oe(j+D|0,13),ve^=oe(Q+j|0,18);let pe=0;n[pe++]=o+E|0,n[pe++]=a+S|0,n[pe++]=l+R|0,n[pe++]=u+T|0,n[pe++]=d+I|0,n[pe++]=c+M|0,n[pe++]=f+L|0,n[pe++]=m+V|0,n[pe++]=g+q|0,n[pe++]=b+ie|0,n[pe++]=k+ue|0,n[pe++]=y+G|0,n[pe++]=p+D|0,n[pe++]=w+j|0,n[pe++]=x+Q|0,n[pe++]=_+ve|0}function Zre(e,t,r,n){let i=e[0],s=t[0],o=t[1],a=t[2],l=t[3],u=e[1],d=r[0],c=r[1],f=r[2],m=r[3],g=e[2],b=t[4],k=t[5],y=t[6],p=t[7],w=e[3];for(let _=0;_<20;_+=2)l^=oe(i+k|0,7),f^=oe(l+i|0,9),k^=oe(f+l|0,13),i^=oe(k+f|0,18),m^=oe(u+s|0,7),y^=oe(m+u|0,9),s^=oe(y+m|0,13),u^=oe(s+y|0,18),p^=oe(g+d|0,7),o^=oe(p+g|0,9),d^=oe(o+p|0,13),g^=oe(d+o|0,18),a^=oe(w+b|0,7),c^=oe(a+w|0,9),b^=oe(c+a|0,13),w^=oe(b+c|0,18),s^=oe(i+a|0,7),o^=oe(s+i|0,9),a^=oe(o+s|0,13),i^=oe(a+o|0,18),d^=oe(u+l|0,7),c^=oe(d+u|0,9),l^=oe(c+d|0,13),u^=oe(l+c|0,18),b^=oe(g+m|0,7),f^=oe(b+g|0,9),m^=oe(f+b|0,13),g^=oe(m+f|0,18),k^=oe(w+p|0,7),y^=oe(k+w|0,9),p^=oe(y+k|0,13),w^=oe(p+y|0,18);let x=0;n[x++]=i,n[x++]=u,n[x++]=g,n[x++]=w,n[x++]=d,n[x++]=c,n[x++]=f,n[x++]=m}const u2=Hre(Qre,{counterRight:!0,extendNonceFn:Zre}),Gre=Fre({blockSize:64,nonceLength:24,tagLength:16},(e,t)=>(gd(e,32),gd(t,24),{encrypt:(r,n)=>{gd(r);const i=r.length+32;n?gd(n,i):n=new Uint8Array(i),n.set(r,32),u2(e,t,n,n);const s=n.subarray(0,32),o=Hj(n.subarray(32),s);return n.set(o,16),n.subarray(0,16).fill(0),n.subarray(16)},decrypt:r=>{gd(r);const n=r.length;if(n<16)throw new Error("encrypted data should be at least 16 bytes");const i=new Uint8Array(n+16);i.set(r,16);const s=u2(e,t,new Uint8Array(32)),o=Hj(i.subarray(32),s);if(!Mre(i.subarray(16,32),o))throw new Error("invalid tag");const a=u2(e,t,i);return a.subarray(0,32).fill(0),s.fill(0),a.subarray(32)}}));function Gj(e,t){const r=Gre(e,t);return{seal:r.encrypt,open:r.decrypt}}aw=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)};function Yre(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}iw=function(e,...t){if(!Yre(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)},WE=function(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");aw(e.outputLen),aw(e.blockLen)};function k0(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Xre(e,t){iw(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const c2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ene(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}let Yj;if(xm=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),E6=(e,t)=>e<<32-t|e>>>t,Yj=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!Yj)throw new Error("Non little-endian hardware is not supported");const tne=async()=>{};N6=async function(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);const s=Date.now()-n;s>=0&&s<t||(await tne(),n+=s)}};function rne(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}Nm=function(e){if(typeof e=="string"&&(e=rne(e)),!ene(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e};class Xj{clone(){return this._cloneInto()}}const nne={}.toString;S6=function(e,t){if(t!==void 0&&nne.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)},qE=function(e){const t=n=>e().update(Nm(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},FE=function(e=32){if(c2&&typeof c2.getRandomValues=="function")return c2.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")};class eM extends Xj{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,WE(t);const n=Nm(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return k0(this),this.iHash.update(t),this}digestInto(t){k0(this),iw(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}Sm=(e,t,r)=>new eM(e,t).update(r).digest(),Sm.create=(e,t)=>new eM(e,t);function ine(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,u=n?0:4;e.setUint32(t+l,o,n),e.setUint32(t+u,a,n)}UE=class extends Xj{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xm(this.buffer)}update(e){k0(this);const{view:t,buffer:r,blockLen:n}=this;e=Nm(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){const a=xm(e);for(;n<=i-s;s+=n)this.process(a,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){k0(this),Xre(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let d=s;d<n;d++)t[d]=0;ine(r,n-8,BigInt(this.length*8),i),this.process(r,0);const o=xm(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}};const x0=BigInt(2**32-1),d2=BigInt(32);function tM(e,t=!1){return t?{h:Number(e&x0),l:Number(e>>d2&x0)}:{h:Number(e>>d2&x0)|0,l:Number(e&x0)|0}}function sne(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=tM(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const one=(e,t)=>BigInt(e>>>0)<<d2|BigInt(t>>>0),ane=(e,t,r)=>e>>>r,lne=(e,t,r)=>e<<32-r|t>>>r,une=(e,t,r)=>e>>>r|t<<32-r,cne=(e,t,r)=>e<<32-r|t>>>r,dne=(e,t,r)=>e<<64-r|t>>>r-32,hne=(e,t,r)=>e>>>r-32|t<<64-r,fne=(e,t)=>t,pne=(e,t)=>e,mne=(e,t,r)=>e<<r|t>>>32-r,gne=(e,t,r)=>t<<r|e>>>32-r,yne=(e,t,r)=>t<<r-32|e>>>64-r,bne=(e,t,r)=>e<<r-32|t>>>64-r;function vne(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:i|0}}const wne=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),kne=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,xne=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Nne=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,Sne=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),_ne=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,Ene={fromBig:tM,split:sne,toBig:one,shrSH:ane,shrSL:lne,rotrSH:une,rotrSL:cne,rotrBH:dne,rotrBL:hne,rotr32H:fne,rotr32L:pne,rotlSH:mne,rotlSL:gne,rotlBH:yne,rotlBL:bne,add:vne,add3L:wne,add3H:kne,add4L:xne,add4H:Nne,add5H:_ne,add5L:Sne},Te=Ene,[One,Cne]=(()=>Te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Oa=new Uint32Array(80),Ca=new Uint32Array(80);class Tne extends UE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:d,Fh:c,Fl:f,Gh:m,Gl:g,Hh:b,Hl:k}=this;return[t,r,n,i,s,o,a,l,u,d,c,f,m,g,b,k]}set(t,r,n,i,s,o,a,l,u,d,c,f,m,g,b,k){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=d|0,this.Fh=c|0,this.Fl=f|0,this.Gh=m|0,this.Gl=g|0,this.Hh=b|0,this.Hl=k|0}process(t,r){for(let w=0;w<16;w++,r+=4)Oa[w]=t.getUint32(r),Ca[w]=t.getUint32(r+=4);for(let w=16;w<80;w++){const x=Oa[w-15]|0,_=Ca[w-15]|0,E=Te.rotrSH(x,_,1)^Te.rotrSH(x,_,8)^Te.shrSH(x,_,7),S=Te.rotrSL(x,_,1)^Te.rotrSL(x,_,8)^Te.shrSL(x,_,7),R=Oa[w-2]|0,T=Ca[w-2]|0,I=Te.rotrSH(R,T,19)^Te.rotrBH(R,T,61)^Te.shrSH(R,T,6),M=Te.rotrSL(R,T,19)^Te.rotrBL(R,T,61)^Te.shrSL(R,T,6),L=Te.add4L(S,M,Ca[w-7],Ca[w-16]),V=Te.add4H(L,E,I,Oa[w-7],Oa[w-16]);Oa[w]=V|0,Ca[w]=L|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:d,Eh:c,El:f,Fh:m,Fl:g,Gh:b,Gl:k,Hh:y,Hl:p}=this;for(let w=0;w<80;w++){const x=Te.rotrSH(c,f,14)^Te.rotrSH(c,f,18)^Te.rotrBH(c,f,41),_=Te.rotrSL(c,f,14)^Te.rotrSL(c,f,18)^Te.rotrBL(c,f,41),E=c&m^~c&b,S=f&g^~f&k,R=Te.add5L(p,_,S,Cne[w],Ca[w]),T=Te.add5H(R,y,x,E,One[w],Oa[w]),I=R|0,M=Te.rotrSH(n,i,28)^Te.rotrBH(n,i,34)^Te.rotrBH(n,i,39),L=Te.rotrSL(n,i,28)^Te.rotrBL(n,i,34)^Te.rotrBL(n,i,39),V=n&s^n&a^s&a,q=i&o^i&l^o&l;y=b|0,p=k|0,b=m|0,k=g|0,m=c|0,g=f|0,{h:c,l:f}=Te.add(u|0,d|0,T|0,I|0),u=a|0,d=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const ie=Te.add3L(I,L,q);n=Te.add3H(ie,T,M,V),i=ie|0}({h:n,l:i}=Te.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Te.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Te.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:d}=Te.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:c,l:f}=Te.add(this.Eh|0,this.El|0,c|0,f|0),{h:m,l:g}=Te.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:b,l:k}=Te.add(this.Gh|0,this.Gl|0,b|0,k|0),{h:y,l:p}=Te.add(this.Hh|0,this.Hl|0,y|0,p|0),this.set(n,i,s,o,a,l,u,d,c,f,m,g,b,k,y,p)}roundClean(){Oa.fill(0),Ca.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let rM;nw=qE(()=>new Tne),rM="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Ine=e=>crypto.getRandomValues(new Uint8Array(e)),Rne=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return(s=t)=>{let o="";for(;;){let a=r(i),l=i;for(;l--;)if(o+=e[a[l]&n]||"",o.length===s)return o}}},Ane=(e,t=21)=>Rne(e,t,Ine),Lne=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),""),Zl,Ta,nM,iM,h2,yd;Zl=Ve(),Ta=Ve(),nM=yo.pipe(Y_(/^[\w-]{16}$/),pi("NodeId")),iM=Ane("0123456789abcdef",16),BE=bi(Ta,Ta.of({nanoid:rn(()=>Lne()),nanoidAsNodeId:rn(()=>iM())})),h2=(e,t)=>rn(()=>{let r=Sm(nw,"Symmetric key seed",e);for(let n=0;n<t.length;n++){const i=new TextEncoder().encode(t[n]),s=new Uint8Array(i.byteLength+1);s[0]=0,s.set(i,1),r=Sm(nw,r.slice(0,32),s)}return r.slice(32,64)}),yd=Ve(),bi(yd,yd.of({seal:(e,t)=>rn(()=>{const r=FE(24),n=Gj(e,r).seal(t);return zj(r,n)}),open:(e,t)=>rn(()=>{const r=t.subarray(0,24),n=t.subarray(24);return Gj(e,r).open(n)})}));let sM,N0,f2,S0,_0,p2,bd,E0,oM,aM,lM,uM,vd,m2,g2,Ap,y2,cM,dM,O0,hM,fM,b2,v2,pM,mM,w2,gM,C0,yM,k2,x2,T0,bM,N2,vM,wM,S2,_2,E2;sM=(e,t=0)=>{let r,n,i,s;const o=e.length&3,a=e.length-o;r=t;const l=3432918353,u=461845907;for(s=0;s<a;)i=e.charCodeAt(s)&255|(e.charCodeAt(++s)&255)<<8|(e.charCodeAt(++s)&255)<<16|(e.charCodeAt(++s)&255)<<24,++s,i=(i&65535)*l+(((i>>>16)*l&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(i&65535)*u+(((i>>>16)*u&65535)<<16)&4294967295,r^=i,r=r<<13|r>>>19,n=(r&65535)*5+(((r>>>16)*5&65535)<<16)&4294967295,r=(n&65535)+27492+(((n>>>16)+58964&65535)<<16);switch(i=0,o){case 3:i^=(e.charCodeAt(s+2)&255)<<16;case 2:i^=(e.charCodeAt(s+1)&255)<<8;case 1:i^=e.charCodeAt(s)&255,i=(i&65535)*l+(((i>>>16)*l&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(i&65535)*u+(((i>>>16)*u&65535)<<16)&4294967295,r^=i}return r^=e.length,r^=r>>>16,r=(r&65535)*2246822507+(((r>>>16)*2246822507&65535)<<16)&4294967295,r^=r>>>13,r=(r&65535)*3266489909+(((r>>>16)*3266489909&65535)<<16)&4294967295,r^=r>>>16,r>>>0},N0={greaterThan:860934419999,lessThan:258280326e4},f2=Cp.pipe(X_(N0.greaterThan),Dj(N0.lessThan),pi("Millis")),S0=Ql(f2)(N0.greaterThan+1),_0=Cp.pipe(Wj(0,65535),pi("Counter")),p2=Ql(_0)(0),bd=e=>[new Date(e.millis).toISOString(),e.counter.toString(16).toUpperCase().padStart(4,"0"),e.node].join("-"),E0=e=>{const t=e.split("-");return{millis:Date.parse(t.slice(0,3).join("-")).valueOf(),counter:parseInt(t[3],16),node:t[4]}},oM=e=>sM(bd(e)),aM=Ql(nM)("0000000000000000"),lM=(e=S0)=>({millis:e,counter:p2,node:aM}),uM=Ta.pipe(ct(({nanoidAsNodeId:e})=>e),ze(e=>({millis:S0,counter:p2,node:e}))),vd=Ve(),m2=bi(vd,vd.of({now:fd(()=>dre(f2)(Date.now())).pipe(pd("ParseError",()=>ws({_tag:"TimestampTimeOutOfRangeError"})))})),g2=e=>Ye(function*(t){const r=yield*t(vd),n=yield*t(bo),i=yield*t(r.now),s=Math.max(i,...e);return s-i>n.maxDrift&&(yield*t(ws({_tag:"TimestampDriftError",now:i,next:s}))),s}),Ap=e=>A(eL(e),cre(_0),PR(()=>({_tag:"TimestampCounterOverflowError"}))),y2=Ql(_0)(0),cM=e=>Ye(function*(t){const r=yield*t(g2([e.millis])),n=r===e.millis?yield*t(Ap(e.counter)):y2;return{...e,millis:r,counter:n}}),dM=({local:e,remote:t})=>Ye(function*(r){e.node===t.node&&(yield*r(ws({_tag:"TimestampDuplicateNodeError",node:e.node})));const n=yield*r(g2([e.millis,t.millis])),i=yield*r(n===e.millis&&n===t.millis?Ap(Math.max(e.counter,t.counter)):n===e.millis?Ap(e.counter):n===t.millis?Ap(t.counter):Vt(y2));return{...e,millis:n,counter:i}}),O0=Object.create(null),hM=e=>Math.floor(e/1e3/60).toString(3).split(""),fM=e=>e.length===0?S0:parseInt(e.join("").padEnd(16,"0"),3)*1e3*60,b2=(e,t)=>(e||0)^t,v2=(e,t,r)=>{if(t.length===0)return e;const n=t[0],i=e[n]||{};return{...e,[n]:{...i,...v2(i,t.slice(1),r),hash:b2(i.hash,r)}}},pM=e=>t=>{const r=hM(e.millis),n=oM(e);return v2({...t,hash:b2(t.hash,n)},r,n)},mM=["0","1","2"],w2=e=>mM.filter(t=>t in e),gM=(e,t)=>{if(e.hash===t.hash)return de();let r=e,n=t,i=[];for(;;){const s=Vf(w2(r).concat(w2(n)),__);let o=null;for(let a=0;a<s.length;a++){const l=s[a],u=r[l],d=n[l];if(!u||!d)break;if(u.hash!==d.hash){o=l;break}}if(!o)return xe(fM(i));i=[...i,o],r=r[o]||O0,n=n[o]||O0}return de()},C0=e=>JSON.stringify(e),yM=e=>JSON.parse(e),Sr=Ve(),k2=e=>e!==null&&typeof e=="object"&&!_c(e),_6=e=>e.map(t=>k2(t)?JSON.stringify(t):t),w6=e=>typeof e!="string"?e:{sql:e,parameters:[]},x6=e=>x2(e),x2=e=>{for(let t=0;t<e.length;++t)e[t]=T0(e[t]);return e},T0=e=>qf(e)?bM(e):Array.isArray(e)?x2(e):typeof e=="object"&&e!==null&&!_c(e)?vM(e):e,bM=e=>{if(N2(e))try{return T0(JSON.parse(e))}catch{}return e},N2=e=>e.match(/^[[{]/)!=null,vM=e=>{for(const t in e)e[t]=T0(e[t]);return e},wM=yo.pipe(Y_(/^[\w-]{21}$/),pi("Id")),S2=e=>wM.pipe(pi(e)),_2=yo.pipe(Di(e=>!isNaN(Date.parse(e))),pi("SqliteDate")),E2=Cp.pipe(e2(),Di(e=>e===0||e===1),pi("SqliteBoolean"));function kM(e){return typeof e=="boolean"?e===!0?1:0:typeof e=="number"?e===1:e instanceof Date?e.toISOString():new Date(e)}const O2=yo.pipe(Di(e=>{if(!N2(e))return!0;try{JSON.parse(e)}catch{return!0}return!1},{message:()=>"a string that is not stringified JSON"}),pi("String"));O2.pipe(y0(1e3),pi("String1000"));const xM=O2.pipe(G_(1),y0(1e3),pi("NonEmptyString1000"));Cp.pipe(e2(),qj(),pi("PositiveInt"));const I0=Ve(),Pne=e=>Ye(function*(t){const r=yield*t(Zl);e==null&&(e=yield*t(r.make));const n=yield*t(r.toSeed(e)),i=yield*t(h2(n,["Evolu","Owner Id"]).pipe(ze(o=>{let a="";for(let l=0;l<21;l++)a+=rM[o[l]&63];return a}))),s=yield*t(h2(n,["Evolu","Encryption Key"]));return{mnemonic:e,id:i,encryptionKey:s}}),jne=`
SELECT
  "id",
  "mnemonic",
  "encryptionKey"
FROM
  "evolu_owner"
`,Mne=`
CREATE TABLE
  "evolu_message" (
    "timestamp" blob PRIMARY KEY,
    "table" blob,
    "row" blob,
    "column" blob,
    "value" blob
  );
`,Fne=`
CREATE INDEX "index_evolu_message" ON "evolu_message" (
  "table", "row", "column", "timestamp"
);
`,Dne=`
CREATE TABLE
  "evolu_owner" (
    "id" blob,
    "mnemonic" blob,
    "encryptionKey" blob,
    "timestamp" blob,
    "merkleTree" blob
  );
`,Bne=`
INSERT INTO
  "evolu_owner" (
    "id",
    "mnemonic",
    "encryptionKey",
    "timestamp",
    "merkleTree"
  )
VALUES
  (?, ?, ?, ?, ?);
`,Wne=`
SELECT
  "timestamp",
  "merkleTree"
FROM
  "evolu_owner"
`,qne=`
SELECT
  "timestamp"
FROM
  "evolu_message"
WHERE
  "table" = ?
  AND "row" = ?
  AND "column" = ?
ORDER BY
  "timestamp" DESC
LIMIT
  1
`,Une=(e,t)=>`
INSERT INTO
  "${e}" ("id", "${t}")
VALUES
  (?, ?)
ON CONFLICT DO UPDATE SET
  "${t}" = ?
`,$ne=e=>`
DELETE FROM "${e}"
WHERE
  "id" = ?;
`,Vne=`
INSERT INTO
  "evolu_message" ("timestamp", "table", "row", "column", "value")
VALUES
  (?, ?, ?, ?, ?)
ON CONFLICT DO NOTHING
`,zne=`
UPDATE "evolu_owner"
SET
  "timestamp" = ?,
  "merkleTree" = ?
`,Kne=`
SELECT
  *
FROM
  "evolu_message"
WHERE
  "timestamp" >= ?
ORDER BY
  "timestamp"
`,R0=e=>rn(()=>{const t=new Set;let r=e;return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getState(){return r},setState:n=>rn(()=>{n!==r&&(r=n,t.forEach(i=>i()))})}}),NM=e=>Tp(e).pipe(Ire(Jne)),Jne=Tp({createdAt:_2,updatedAt:_2,isDeleted:E2}),Hne=Tp,Qne=({sql:e,parameters:t})=>{const r={sql:e,parameters:t.map(n=>_c(n)?Array.from(n):k2(n)?{json:n}:n)};return JSON.stringify(r)},Zne=e=>{const t=JSON.parse(e);return{...t,parameters:t.parameters.map(r=>Array.isArray(r)?new Uint8Array(r):typeof r=="object"&&r!=null?r.json:r)}},Gne=[],A0=()=>Gne,SM=new WeakMap,C2=e=>{let t=SM.get(e);return t==null&&(t={rows:e,row:e[0]},SM.set(e,t)),t},_M=e=>{const t={},r=zP(e.ast);for(let n=0;n<r.length;n++){const i=r[n];t[i.name]=fi(i.type)}return t},Yne=e=>A(_M(e),xz,Rr(([t,r])=>({name:t,columns:Object.keys(_M(r))}))),Xne=e=>ct(Sr,t=>pj(t.exec("BEGIN"),()=>e,(r,n)=>xZ(n)?t.exec("ROLLBACK"):t.exec("END"))),eie=Tp({message:Cj(yo.pipe(b0("no such table")),yo.pipe(b0("no such column")),yo.pipe(b0("has no column")))}),EM=dj(e=>Sj(eie)(e)?xe(ws({_tag:"NoSuchTableOrColumnError"})):de()),OM=e=>Ye(function*(t){const[r,n,i]=yield*t(c0([Pne(e),Sr,uM],{concurrency:"unbounded"}));return yield*t(c0([n.exec(Mne),n.exec(Fne),n.exec(Dne),n.exec({sql:Bne,parameters:[r.id,r.mnemonic,Are(r.encryptionKey),bd(i),C0(O0)]})])),r}),tie=Sr.pipe(ct(e=>e.exec(`SELECT "name" FROM "sqlite_schema" WHERE "type" = 'table'`)),ze(e=>e.rows),ze(Rr(e=>e.name+"")),ze(zz(RV(Wee("__")))),ze(Vf(__))),rie=({name:e,columns:t})=>Ye(function*(r){const n=yield*r(Sr),i=yield*r(n.exec(`PRAGMA table_info (${e})`),ze(s=>s.rows),ze(Rr(s=>s.name)),ze(s=>$z(__)(s)(t)),ze(Rr(s=>`ALTER TABLE "${e}" ADD COLUMN "${s}" blob;`)),ze(Tl("")));i&&(yield*r(n.exec(i)))}),nie=({name:e,columns:t})=>ct(Sr,r=>r.exec(`
      CREATE TABLE ${e} (
        "id" text primary key,
        ${t.filter(n=>n!=="id").map(n=>`"${n}" blob`).join(", ")}
      );
    `)),CM=e=>ct(tie,t=>ci(e,r=>t.includes(r.name)?rie(r):nie(r),{discard:!0})),L0=Ve(),TM=bn(L0,R0(new Map)),iie=Symbol.for("@effect/matcher/Matcher"),sie={[iie]:{_input:Nt,_filters:Nt,_result:Nt},_tag:"ValueMatcher",add(e){return this.value._tag==="Right"?this:e._tag==="When"&&e.guard(this.provided)===!0?T2(this.provided,Vt(e.evaluate(this.provided))):e._tag==="Not"&&e.guard(this.provided)===!1?T2(this.provided,Vt(e.evaluate(this.provided))):this},pipe(){return ye(this,arguments)}};function T2(e,t){const r=Object.create(sie);return r.provided=e,r.value=t,r}const oie=(e,t)=>({_tag:"When",guard:e,evaluate:t}),aie=e=>T2(e,Hr(e)),lie=e=>t=>{const r=oie(n=>n[e]in t,n=>t[n[e]](n));return n=>n.add(r)},uie=e=>t=>{const r=lie(e)(t);return n=>hie(r(n))},cie=uie("_tag"),die=e=>{if(e._tag==="ValueMatcher")return e.value;const t=e.cases.length;if(t===1){const r=e.cases[0];return n=>r._tag==="When"&&r.guard(n)===!0||r._tag==="Not"&&r.guard(n)===!1?Vt(r.evaluate(n)):Hr(n)}return r=>{for(let n=0;n<t;n++){const i=e.cases[n];if(i._tag==="When"&&i.guard(r)===!0||i._tag==="Not"&&i.guard(r)===!1)return Vt(i.evaluate(r))}return Hr(r)}},hie=e=>{const t=die(e);if(bz(t)){if(t._tag==="Right")return t.right;throw new Error("@effect/match: exhaustive absurd")}return r=>{const n=t(r);if(n._tag==="Right")return n.right;throw new Error("@effect/match: exhaustive absurd")}},I2=aie,R2=cie,fie=e=>t=>e.reduce((r,n)=>{switch(n.op){case"replaceAll":return n.value;case"replaceAt":return Lz(r,n.index,n.value)}},t),pie=(e,t)=>{if(e===void 0)return[{op:"replaceAll",value:t}];if(e.length!==t.length)return[{op:"replaceAll",value:t}];const r=e.length,n=[];for(let i=0;i<r;i++){const s=e[i],o=t[i];for(const a in s)if(!A2(s[a],o[a])){n.push({op:"replaceAt",value:o,index:i});break}}return r>0&&n.length===r?[{op:"replaceAll",value:t}]:n},A2=(e,t)=>{if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="object"&&e!==null&&t!==null){const r=_c(e),n=_c(t);if(r&&n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}const i=Array.isArray(e),s=Array.isArray(t);if(i&&s){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!A2(e[o],t[o]))return!1;return!0}if(!r&&!n&&!i&&!s){const o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(const l of o)if(!A2(e[l],t[l]))return!1;return!0}}return!1},mie=R0(null),Lp=e=>{const t=e instanceof Error;return ws({_tag:"UnexpectedError",error:{message:t?e.message:String(e),stack:t?e.stack:void 0}})};function IM(e){let t=typeof e;if(t=="object"){if(Array.isArray(e))return"array";if(e===null)return"null"}return t}function gie(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}let wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),P0=[];for(let e=0;e<wo.length;e++)P0[wo[e].charCodeAt(0)]=e;P0["-".charCodeAt(0)]=wo.indexOf("+"),P0["_".charCodeAt(0)]=wo.indexOf("/");function yie(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let r=new Uint8Array(t),n=0,i=0,s,o=0;for(let a=0;a<e.length;a++){if(s=P0[e.charCodeAt(a)],s===void 0)switch(e[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=s,i=1;break;case 1:r[n++]=o<<2|(s&48)>>4,o=s,i=2;break;case 2:r[n++]=(o&15)<<4|(s&60)>>2,o=s,i=3;break;case 3:r[n++]=(o&3)<<6|s,i=0;break}}if(i==1)throw Error("invalid base64 string.");return r.subarray(0,n)}function bie(e){let t="",r=0,n,i=0;for(let s=0;s<e.length;s++)switch(n=e[s],r){case 0:t+=wo[n>>2],i=(n&3)<<4,r=1;break;case 1:t+=wo[i|n>>4],i=(n&15)<<2,r=2;break;case 2:t+=wo[i|n>>6],t+=wo[n&63],r=0;break}return r&&(t+=wo[i],t+="=",r==1&&(t+="=")),t}var j0;(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(r,n,i,s,o)=>{(t(n)?n[e.symbol]:n[e.symbol]=[]).push({no:i,wireType:s,data:o})},e.onWrite=(r,n,i)=>{for(let{no:s,wireType:o,data:a}of e.list(n))i.tag(s,o).raw(a)},e.list=(r,n)=>{if(t(r)){let i=r[e.symbol];return n?i.filter(s=>s.no==n):i}return[]},e.last=(r,n)=>e.list(r,n).slice(-1)[0];const t=r=>r&&Array.isArray(r[e.symbol])})(j0||(j0={}));var zt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(zt||(zt={}));function vie(){let e=0,t=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<n,!(i&128))return this.assertBounds(),[e,t]}let r=this.buf[this.pos++];if(e|=(r&15)<<28,t=(r&112)>>4,!(r&128))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<n,!(i&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function L2(e,t,r){for(let s=0;s<28;s=s+7){const o=e>>>s,a=!(!(o>>>7)&&t==0),l=(a?o|128:o)&255;if(r.push(l),!a)return}const n=e>>>28&15|(t&7)<<4,i=!!(t>>3);if(r.push((i?n|128:n)&255),!!i){for(let s=3;s<31;s=s+7){const o=t>>>s,a=!!(o>>>7),l=(a?o|128:o)&255;if(r.push(l),!a)return}r.push(t>>>31&1)}}const M0=65536*65536;function RM(e){let t=e[0]=="-";t&&(e=e.slice(1));const r=1e6;let n=0,i=0;function s(o,a){const l=Number(e.slice(o,a));i*=r,n=n*r+l,n>=M0&&(i=i+(n/M0|0),n=n%M0)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[t,n,i]}function P2(e,t){if(t>>>0<=2097151)return""+(M0*t+(e>>>0));let r=e&16777215,n=(e>>>24|t<<8)>>>0&16777215,i=t>>16&65535,s=r+n*6777216+i*6710656,o=n+i*8147497,a=i*2,l=1e7;s>=l&&(o+=Math.floor(s/l),s%=l),o>=l&&(a+=Math.floor(o/l),o%=l);function u(d,c){let f=d?String(d):"";return c?"0000000".slice(f.length)+f:f}return u(a,0)+u(o,a)+u(s,1)}function AM(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let r=0;r<9;r++)t.push(e&127|128),e=e>>7;t.push(1)}}function wie(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let r=5;e&128&&r<10;r++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}let nt;function kie(){const e=new DataView(new ArrayBuffer(8));nt=globalThis.BigInt!==void 0&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}kie();function LM(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}const PM=/^-?[0-9]+$/,F0=4294967296,D0=2147483648;class jM{constructor(t,r){this.lo=t|0,this.hi=r|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let t=this.hi*F0+(this.lo>>>0);if(!Number.isSafeInteger(t))throw new Error("cannot convert to safe number");return t}}class Zr extends jM{static from(t){if(nt)switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=="")throw new Error("string is no integer");t=nt.C(t);case"number":if(t===0)return this.ZERO;t=nt.C(t);case"bigint":if(!t)return this.ZERO;if(t<nt.UMIN)throw new Error("signed value for ulong");if(t>nt.UMAX)throw new Error("ulong too large");return nt.V.setBigUint64(0,t,!0),new Zr(nt.V.getInt32(0,!0),nt.V.getInt32(4,!0))}else switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=t.trim(),!PM.test(t))throw new Error("string is no integer");let[r,n,i]=RM(t);if(r)throw new Error("signed value for ulong");return new Zr(n,i);case"number":if(t==0)return this.ZERO;if(!Number.isSafeInteger(t))throw new Error("number is no integer");if(t<0)throw new Error("signed value for ulong");return new Zr(t,t/F0)}throw new Error("unknown value "+typeof t)}toString(){return nt?this.toBigInt().toString():P2(this.lo,this.hi)}toBigInt(){return LM(nt),nt.V.setInt32(0,this.lo,!0),nt.V.setInt32(4,this.hi,!0),nt.V.getBigUint64(0,!0)}}Zr.ZERO=new Zr(0,0);class Kt extends jM{static from(t){if(nt)switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=="")throw new Error("string is no integer");t=nt.C(t);case"number":if(t===0)return this.ZERO;t=nt.C(t);case"bigint":if(!t)return this.ZERO;if(t<nt.MIN)throw new Error("signed long too small");if(t>nt.MAX)throw new Error("signed long too large");return nt.V.setBigInt64(0,t,!0),new Kt(nt.V.getInt32(0,!0),nt.V.getInt32(4,!0))}else switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=t.trim(),!PM.test(t))throw new Error("string is no integer");let[r,n,i]=RM(t);if(r){if(i>D0||i==D0&&n!=0)throw new Error("signed long too small")}else if(i>=D0)throw new Error("signed long too large");let s=new Kt(n,i);return r?s.negate():s;case"number":if(t==0)return this.ZERO;if(!Number.isSafeInteger(t))throw new Error("number is no integer");return t>0?new Kt(t,t/F0):new Kt(-t,-t/F0).negate()}throw new Error("unknown value "+typeof t)}isNegative(){return(this.hi&D0)!==0}negate(){let t=~this.hi,r=this.lo;return r?r=~r+1:t+=1,new Kt(r,t)}toString(){if(nt)return this.toBigInt().toString();if(this.isNegative()){let t=this.negate();return"-"+P2(t.lo,t.hi)}return P2(this.lo,this.hi)}toBigInt(){return LM(nt),nt.V.setInt32(0,this.lo,!0),nt.V.setInt32(4,this.hi,!0),nt.V.getBigInt64(0,!0)}}Kt.ZERO=new Kt(0,0);const MM={readUnknownField:!0,readerFactory:e=>new FM(e)};function xie(e){return e?Object.assign(Object.assign({},MM),e):MM}class FM{constructor(t,r){this.varint64=vie,this.uint32=wie,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=r??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let t=this.uint32(),r=t>>>3,n=t&7;if(r<=0||n<0||n>5)throw new Error("illegal tag: field no "+r+" wire type "+n);return[r,n]}skip(t){let r=this.pos;switch(t){case zt.Varint:for(;this.buf[this.pos++]&128;);break;case zt.Bit64:this.pos+=4;case zt.Bit32:this.pos+=4;break;case zt.LengthDelimited:let n=this.uint32();this.pos+=n;break;case zt.StartGroup:let i;for(;(i=this.tag()[1])!==zt.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return new Kt(...this.varint64())}uint64(){return new Zr(...this.varint64())}sint64(){let[t,r]=this.varint64(),n=-(t&1);return t=(t>>>1|(r&1)<<31)^n,r=r>>>1^n,new Kt(t,r)}bool(){let[t,r]=this.varint64();return t!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new Zr(this.sfixed32(),this.sfixed32())}sfixed64(){return new Kt(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),r=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(r,r+t)}string(){return this.textDecoder.decode(this.bytes())}}function Ze(e,t){if(!e)throw new Error(t)}const Nie=3402823466385289e23,Sie=-3402823466385289e23,_ie=4294967295,Eie=2147483647,Oie=-2147483648;function Pp(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>Eie||e<Oie)throw new Error("invalid int 32: "+e)}function B0(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>_ie||e<0)throw new Error("invalid uint 32: "+e)}function j2(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>Nie||e<Sie))throw new Error("invalid float 32: "+e)}const DM={writeUnknownFields:!0,writerFactory:()=>new BM};function Cie(e){return e?Object.assign(Object.assign({},DM),e):DM}class BM{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let r=new Uint8Array(t),n=0;for(let i=0;i<this.chunks.length;i++)r.set(this.chunks[i],n),n+=this.chunks[i].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,r){return this.uint32((t<<3|r)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(B0(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Pp(t),AM(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let r=this.textEncoder.encode(t);return this.uint32(r.byteLength),this.raw(r)}float(t){j2(t);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,t,!0),this.raw(r)}double(t){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),this.raw(r)}fixed32(t){B0(t);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t,!0),this.raw(r)}sfixed32(t){Pp(t);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,t,!0),this.raw(r)}sint32(t){return Pp(t),t=(t<<1^t>>31)>>>0,AM(t,this.buf),this}sfixed64(t){let r=new Uint8Array(8),n=new DataView(r.buffer),i=Kt.from(t);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(r)}fixed64(t){let r=new Uint8Array(8),n=new DataView(r.buffer),i=Zr.from(t);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(r)}int64(t){let r=Kt.from(t);return L2(r.lo,r.hi,this.buf),this}sint64(t){let r=Kt.from(t),n=r.hi>>31,i=r.lo<<1^n,s=(r.hi<<1|r.lo>>>31)^n;return L2(i,s,this.buf),this}uint64(t){let r=Zr.from(t);return L2(r.lo,r.hi,this.buf),this}}const WM={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},qM={ignoreUnknownFields:!1};function Tie(e){return e?Object.assign(Object.assign({},qM),e):qM}function Iie(e){return e?Object.assign(Object.assign({},WM),e):WM}const UM=Symbol.for("protobuf-ts/message-type");function $M(e){let t=!1;const r=[];for(let n=0;n<e.length;n++){let i=e.charAt(n);i=="_"?t=!0:/\d/.test(i)?(r.push(i),t=!0):t?(r.push(i.toUpperCase()),t=!1):n==0?r.push(i.toLowerCase()):r.push(i)}return r.join("")}var B;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(B||(B={}));var ks;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"})(ks||(ks={}));var W0;(function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"})(W0||(W0={}));function Rie(e){var t,r,n,i;return e.localName=(t=e.localName)!==null&&t!==void 0?t:$M(e.name),e.jsonName=(r=e.jsonName)!==null&&r!==void 0?r:$M(e.name),e.repeat=(n=e.repeat)!==null&&n!==void 0?n:W0.NO,e.opt=(i=e.opt)!==null&&i!==void 0?i:e.repeat||e.oneof?!1:e.kind=="message",e}function Aie(e){if(typeof e!="object"||e===null||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return e[e.oneofKind]===void 0?!1:Object.keys(e).length==2;case"undefined":return Object.keys(e).length==1;default:return!1}}class Lie{constructor(t){var r;this.fields=(r=t.fields)!==null&&r!==void 0?r:[]}prepare(){if(this.data)return;const t=[],r=[],n=[];for(let i of this.fields)if(i.oneof)n.includes(i.oneof)||(n.push(i.oneof),t.push(i.oneof),r.push(i.oneof));else switch(r.push(i.localName),i.kind){case"scalar":case"enum":(!i.opt||i.repeat)&&t.push(i.localName);break;case"message":i.repeat&&t.push(i.localName);break;case"map":t.push(i.localName);break}this.data={req:t,known:r,oneofs:Object.values(n)}}is(t,r,n=!1){if(r<0)return!0;if(t==null||typeof t!="object")return!1;this.prepare();let i=Object.keys(t),s=this.data;if(i.length<s.req.length||s.req.some(o=>!i.includes(o))||!n&&i.some(o=>!s.known.includes(o)))return!1;if(r<1)return!0;for(const o of s.oneofs){const a=t[o];if(!Aie(a))return!1;if(a.oneofKind===void 0)continue;const l=this.fields.find(u=>u.localName===a.oneofKind);if(!l||!this.field(a[a.oneofKind],l,n,r))return!1}for(const o of this.fields)if(o.oneof===void 0&&!this.field(t[o.localName],o,n,r))return!1;return!0}field(t,r,n,i){let s=r.repeat;switch(r.kind){case"scalar":return t===void 0?r.opt:s?this.scalars(t,r.T,i,r.L):this.scalar(t,r.T,r.L);case"enum":return t===void 0?r.opt:s?this.scalars(t,B.INT32,i):this.scalar(t,B.INT32);case"message":return t===void 0?!0:s?this.messages(t,r.T(),n,i):this.message(t,r.T(),n,i);case"map":if(typeof t!="object"||t===null)return!1;if(i<2)return!0;if(!this.mapKeys(t,r.K,i))return!1;switch(r.V.kind){case"scalar":return this.scalars(Object.values(t),r.V.T,i,r.V.L);case"enum":return this.scalars(Object.values(t),B.INT32,i);case"message":return this.messages(Object.values(t),r.V.T(),n,i)}break}return!0}message(t,r,n,i){return n?r.isAssignable(t,i):r.is(t,i)}messages(t,r,n,i){if(!Array.isArray(t))return!1;if(i<2)return!0;if(n){for(let s=0;s<t.length&&s<i;s++)if(!r.isAssignable(t[s],i-1))return!1}else for(let s=0;s<t.length&&s<i;s++)if(!r.is(t[s],i-1))return!1;return!0}scalar(t,r,n){let i=typeof t;switch(r){case B.UINT64:case B.FIXED64:case B.INT64:case B.SFIXED64:case B.SINT64:switch(n){case ks.BIGINT:return i=="bigint";case ks.NUMBER:return i=="number"&&!isNaN(t);default:return i=="string"}case B.BOOL:return i=="boolean";case B.STRING:return i=="string";case B.BYTES:return t instanceof Uint8Array;case B.DOUBLE:case B.FLOAT:return i=="number"&&!isNaN(t);default:return i=="number"&&Number.isInteger(t)}}scalars(t,r,n,i){if(!Array.isArray(t))return!1;if(n<2)return!0;if(Array.isArray(t)){for(let s=0;s<t.length&&s<n;s++)if(!this.scalar(t[s],r,i))return!1}return!0}mapKeys(t,r,n){let i=Object.keys(t);switch(r){case B.INT32:case B.FIXED32:case B.SFIXED32:case B.SINT32:case B.UINT32:return this.scalars(i.slice(0,n).map(s=>parseInt(s)),r,n);case B.BOOL:return this.scalars(i.slice(0,n).map(s=>s=="true"?!0:s=="false"?!1:s),r,n);default:return this.scalars(i,r,n,ks.STRING)}}}function Bi(e,t){switch(t){case ks.BIGINT:return e.toBigInt();case ks.NUMBER:return e.toNumber();default:return e.toString()}}class Pie{constructor(t){this.info=t}prepare(){var t;if(this.fMap===void 0){this.fMap={};const r=(t=this.info.fields)!==null&&t!==void 0?t:[];for(const n of r)this.fMap[n.name]=n,this.fMap[n.jsonName]=n,this.fMap[n.localName]=n}}assert(t,r,n){if(!t){let i=IM(n);throw(i=="number"||i=="boolean")&&(i=n.toString()),new Error(`Cannot parse JSON ${i} for ${this.info.typeName}#${r}`)}}read(t,r,n){this.prepare();const i=[];for(const[s,o]of Object.entries(t)){const a=this.fMap[s];if(!a){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${s}`);continue}const l=a.localName;let u;if(a.oneof){if(o===null&&(a.kind!=="enum"||a.T()[0]!=="google.protobuf.NullValue"))continue;if(i.includes(a.oneof))throw new Error(`Multiple members of the oneof group "${a.oneof}" of ${this.info.typeName} are present in JSON.`);i.push(a.oneof),u=r[a.oneof]={oneofKind:l}}else u=r;if(a.kind=="map"){if(o===null)continue;this.assert(gie(o),a.name,o);const d=u[l];for(const[c,f]of Object.entries(o)){this.assert(f!==null,a.name+" map value",null);let m;switch(a.V.kind){case"message":m=a.V.T().internalJsonRead(f,n);break;case"enum":if(m=this.enum(a.V.T(),f,a.name,n.ignoreUnknownFields),m===!1)continue;break;case"scalar":m=this.scalar(f,a.V.T,a.V.L,a.name);break}this.assert(m!==void 0,a.name+" map value",f);let g=c;a.K==B.BOOL&&(g=g=="true"?!0:g=="false"?!1:g),g=this.scalar(g,a.K,ks.STRING,a.name).toString(),d[g]=m}}else if(a.repeat){if(o===null)continue;this.assert(Array.isArray(o),a.name,o);const d=u[l];for(const c of o){this.assert(c!==null,a.name,null);let f;switch(a.kind){case"message":f=a.T().internalJsonRead(c,n);break;case"enum":if(f=this.enum(a.T(),c,a.name,n.ignoreUnknownFields),f===!1)continue;break;case"scalar":f=this.scalar(c,a.T,a.L,a.name);break}this.assert(f!==void 0,a.name,o),d.push(f)}}else switch(a.kind){case"message":if(o===null&&a.T().typeName!="google.protobuf.Value"){this.assert(a.oneof===void 0,a.name+" (oneof member)",null);continue}u[l]=a.T().internalJsonRead(o,n,u[l]);break;case"enum":let d=this.enum(a.T(),o,a.name,n.ignoreUnknownFields);if(d===!1)continue;u[l]=d;break;case"scalar":u[l]=this.scalar(o,a.T,a.L,a.name);break}}}enum(t,r,n,i){if(t[0]=="google.protobuf.NullValue"&&Ze(r===null||r==="NULL_VALUE",`Unable to parse field ${this.info.typeName}#${n}, enum ${t[0]} only accepts null.`),r===null)return 0;switch(typeof r){case"number":return Ze(Number.isInteger(r),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${r}.`),r;case"string":let s=r;t[2]&&r.substring(0,t[2].length)===t[2]&&(s=r.substring(t[2].length));let o=t[1][s];return typeof o>"u"&&i?!1:(Ze(typeof o=="number",`Unable to parse field ${this.info.typeName}#${n}, enum ${t[0]} has no value for "${r}".`),o)}Ze(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof r}".`)}scalar(t,r,n,i){let s;try{switch(r){case B.DOUBLE:case B.FLOAT:if(t===null)return 0;if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""){s="empty string";break}if(typeof t=="string"&&t.trim().length!==t.length){s="extra whitespace";break}if(typeof t!="string"&&typeof t!="number")break;let o=Number(t);if(Number.isNaN(o)){s="not a number";break}if(!Number.isFinite(o)){s="too large or small";break}return r==B.FLOAT&&j2(o),o;case B.INT32:case B.FIXED32:case B.SFIXED32:case B.SINT32:case B.UINT32:if(t===null)return 0;let a;if(typeof t=="number"?a=t:t===""?s="empty string":typeof t=="string"&&(t.trim().length!==t.length?s="extra whitespace":a=Number(t)),a===void 0)break;return r==B.UINT32?B0(a):Pp(a),a;case B.INT64:case B.SFIXED64:case B.SINT64:if(t===null)return Bi(Kt.ZERO,n);if(typeof t!="number"&&typeof t!="string")break;return Bi(Kt.from(t),n);case B.FIXED64:case B.UINT64:if(t===null)return Bi(Zr.ZERO,n);if(typeof t!="number"&&typeof t!="string")break;return Bi(Zr.from(t),n);case B.BOOL:if(t===null)return!1;if(typeof t!="boolean")break;return t;case B.STRING:if(t===null)return"";if(typeof t!="string"){s="extra whitespace";break}try{encodeURIComponent(t)}catch(l){l="invalid UTF8";break}return t;case B.BYTES:if(t===null||t==="")return new Uint8Array(0);if(typeof t!="string")break;return yie(t)}}catch(o){s=o.message}this.assert(!1,i+(s?" - "+s:""),t)}}class jie{constructor(t){var r;this.fields=(r=t.fields)!==null&&r!==void 0?r:[]}write(t,r){const n={},i=t;for(const s of this.fields){if(!s.oneof){let u=this.field(s,i[s.localName],r);u!==void 0&&(n[r.useProtoFieldName?s.name:s.jsonName]=u);continue}const o=i[s.oneof];if(o.oneofKind!==s.localName)continue;const a=s.kind=="scalar"||s.kind=="enum"?Object.assign(Object.assign({},r),{emitDefaultValues:!0}):r;let l=this.field(s,o[s.localName],a);Ze(l!==void 0),n[r.useProtoFieldName?s.name:s.jsonName]=l}return n}field(t,r,n){let i;if(t.kind=="map"){Ze(typeof r=="object"&&r!==null);const s={};switch(t.V.kind){case"scalar":for(const[l,u]of Object.entries(r)){const d=this.scalar(t.V.T,u,t.name,!1,!0);Ze(d!==void 0),s[l.toString()]=d}break;case"message":const o=t.V.T();for(const[l,u]of Object.entries(r)){const d=this.message(o,u,t.name,n);Ze(d!==void 0),s[l.toString()]=d}break;case"enum":const a=t.V.T();for(const[l,u]of Object.entries(r)){Ze(u===void 0||typeof u=="number");const d=this.enum(a,u,t.name,!1,!0,n.enumAsInteger);Ze(d!==void 0),s[l.toString()]=d}break}(n.emitDefaultValues||Object.keys(s).length>0)&&(i=s)}else if(t.repeat){Ze(Array.isArray(r));const s=[];switch(t.kind){case"scalar":for(let l=0;l<r.length;l++){const u=this.scalar(t.T,r[l],t.name,t.opt,!0);Ze(u!==void 0),s.push(u)}break;case"enum":const o=t.T();for(let l=0;l<r.length;l++){Ze(r[l]===void 0||typeof r[l]=="number");const u=this.enum(o,r[l],t.name,t.opt,!0,n.enumAsInteger);Ze(u!==void 0),s.push(u)}break;case"message":const a=t.T();for(let l=0;l<r.length;l++){const u=this.message(a,r[l],t.name,n);Ze(u!==void 0),s.push(u)}break}(n.emitDefaultValues||s.length>0||n.emitDefaultValues)&&(i=s)}else switch(t.kind){case"scalar":i=this.scalar(t.T,r,t.name,t.opt,n.emitDefaultValues);break;case"enum":i=this.enum(t.T(),r,t.name,t.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":i=this.message(t.T(),r,t.name,n);break}return i}enum(t,r,n,i,s,o){if(t[0]=="google.protobuf.NullValue")return!s&&!i?void 0:null;if(r===void 0){Ze(i);return}if(!(r===0&&!s&&!i))return Ze(typeof r=="number"),Ze(Number.isInteger(r)),o||!t[1].hasOwnProperty(r)?r:t[2]?t[2]+t[1][r]:t[1][r]}message(t,r,n,i){return r===void 0?i.emitDefaultValues?null:void 0:t.internalJsonWrite(r,i)}scalar(t,r,n,i,s){if(r===void 0){Ze(i);return}const o=s||i;switch(t){case B.INT32:case B.SFIXED32:case B.SINT32:return r===0?o?0:void 0:(Pp(r),r);case B.FIXED32:case B.UINT32:return r===0?o?0:void 0:(B0(r),r);case B.FLOAT:j2(r);case B.DOUBLE:return r===0?o?0:void 0:(Ze(typeof r=="number"),Number.isNaN(r)?"NaN":r===Number.POSITIVE_INFINITY?"Infinity":r===Number.NEGATIVE_INFINITY?"-Infinity":r);case B.STRING:return r===""?o?"":void 0:(Ze(typeof r=="string"),r);case B.BOOL:return r===!1?o?!1:void 0:(Ze(typeof r=="boolean"),r);case B.UINT64:case B.FIXED64:Ze(typeof r=="number"||typeof r=="string"||typeof r=="bigint");let a=Zr.from(r);return a.isZero()&&!o?void 0:a.toString();case B.INT64:case B.SFIXED64:case B.SINT64:Ze(typeof r=="number"||typeof r=="string"||typeof r=="bigint");let l=Kt.from(r);return l.isZero()&&!o?void 0:l.toString();case B.BYTES:return Ze(r instanceof Uint8Array),r.byteLength?bie(r):o?"":void 0}}}function M2(e,t=ks.STRING){switch(e){case B.BOOL:return!1;case B.UINT64:case B.FIXED64:return Bi(Zr.ZERO,t);case B.INT64:case B.SFIXED64:case B.SINT64:return Bi(Kt.ZERO,t);case B.DOUBLE:case B.FLOAT:return 0;case B.BYTES:return new Uint8Array(0);case B.STRING:return"";default:return 0}}class Mie{constructor(t){this.info=t}prepare(){var t;if(!this.fieldNoToField){const r=(t=this.info.fields)!==null&&t!==void 0?t:[];this.fieldNoToField=new Map(r.map(n=>[n.no,n]))}}read(t,r,n,i){this.prepare();const s=i===void 0?t.len:t.pos+i;for(;t.pos<s;){const[o,a]=t.tag(),l=this.fieldNoToField.get(o);if(!l){let f=n.readUnknownField;if(f=="throw")throw new Error(`Unknown field ${o} (wire type ${a}) for ${this.info.typeName}`);let m=t.skip(a);f!==!1&&(f===!0?j0.onRead:f)(this.info.typeName,r,o,a,m);continue}let u=r,d=l.repeat,c=l.localName;switch(l.oneof&&(u=u[l.oneof],u.oneofKind!==c&&(u=r[l.oneof]={oneofKind:c})),l.kind){case"scalar":case"enum":let f=l.kind=="enum"?B.INT32:l.T,m=l.kind=="scalar"?l.L:void 0;if(d){let k=u[c];if(a==zt.LengthDelimited&&f!=B.STRING&&f!=B.BYTES){let y=t.uint32()+t.pos;for(;t.pos<y;)k.push(this.scalar(t,f,m))}else k.push(this.scalar(t,f,m))}else u[c]=this.scalar(t,f,m);break;case"message":if(d){let k=u[c],y=l.T().internalBinaryRead(t,t.uint32(),n);k.push(y)}else u[c]=l.T().internalBinaryRead(t,t.uint32(),n,u[c]);break;case"map":let[g,b]=this.mapEntry(l,t,n);u[c][g]=b;break}}}mapEntry(t,r,n){let i=r.uint32(),s=r.pos+i,o,a;for(;r.pos<s;){let[l,u]=r.tag();switch(l){case 1:t.K==B.BOOL?o=r.bool().toString():o=this.scalar(r,t.K,ks.STRING);break;case 2:switch(t.V.kind){case"scalar":a=this.scalar(r,t.V.T,t.V.L);break;case"enum":a=r.int32();break;case"message":a=t.V.T().internalBinaryRead(r,r.uint32(),n);break}break;default:throw new Error(`Unknown field ${l} (wire type ${u}) in map entry for ${this.info.typeName}#${t.name}`)}}if(o===void 0){let l=M2(t.K);o=t.K==B.BOOL?l.toString():l}if(a===void 0)switch(t.V.kind){case"scalar":a=M2(t.V.T,t.V.L);break;case"enum":a=0;break;case"message":a=t.V.T().create();break}return[o,a]}scalar(t,r,n){switch(r){case B.INT32:return t.int32();case B.STRING:return t.string();case B.BOOL:return t.bool();case B.DOUBLE:return t.double();case B.FLOAT:return t.float();case B.INT64:return Bi(t.int64(),n);case B.UINT64:return Bi(t.uint64(),n);case B.FIXED64:return Bi(t.fixed64(),n);case B.FIXED32:return t.fixed32();case B.BYTES:return t.bytes();case B.UINT32:return t.uint32();case B.SFIXED32:return t.sfixed32();case B.SFIXED64:return Bi(t.sfixed64(),n);case B.SINT32:return t.sint32();case B.SINT64:return Bi(t.sint64(),n)}}}class Fie{constructor(t){this.info=t}prepare(){if(!this.fields){const t=this.info.fields?this.info.fields.concat():[];this.fields=t.sort((r,n)=>r.no-n.no)}}write(t,r,n){this.prepare();for(const s of this.fields){let o,a,l=s.repeat,u=s.localName;if(s.oneof){const d=t[s.oneof];if(d.oneofKind!==u)continue;o=d[u],a=!0}else o=t[u],a=!1;switch(s.kind){case"scalar":case"enum":let d=s.kind=="enum"?B.INT32:s.T;if(l)if(Ze(Array.isArray(o)),l==W0.PACKED)this.packed(r,d,s.no,o);else for(const c of o)this.scalar(r,d,s.no,c,!0);else o===void 0?Ze(s.opt):this.scalar(r,d,s.no,o,a||s.opt);break;case"message":if(l){Ze(Array.isArray(o));for(const c of o)this.message(r,n,s.T(),s.no,c)}else this.message(r,n,s.T(),s.no,o);break;case"map":Ze(typeof o=="object"&&o!==null);for(const[c,f]of Object.entries(o))this.mapEntry(r,n,s,c,f);break}}let i=n.writeUnknownFields;i!==!1&&(i===!0?j0.onWrite:i)(this.info.typeName,t,r)}mapEntry(t,r,n,i,s){t.tag(n.no,zt.LengthDelimited),t.fork();let o=i;switch(n.K){case B.INT32:case B.FIXED32:case B.UINT32:case B.SFIXED32:case B.SINT32:o=Number.parseInt(i);break;case B.BOOL:Ze(i=="true"||i=="false"),o=i=="true";break}switch(this.scalar(t,n.K,1,o,!0),n.V.kind){case"scalar":this.scalar(t,n.V.T,2,s,!0);break;case"enum":this.scalar(t,B.INT32,2,s,!0);break;case"message":this.message(t,r,n.V.T(),2,s);break}t.join()}message(t,r,n,i,s){s!==void 0&&(n.internalBinaryWrite(s,t.tag(i,zt.LengthDelimited).fork(),r),t.join())}scalar(t,r,n,i,s){let[o,a,l]=this.scalarInfo(r,i);(!l||s)&&(t.tag(n,o),t[a](i))}packed(t,r,n,i){if(!i.length)return;Ze(r!==B.BYTES&&r!==B.STRING),t.tag(n,zt.LengthDelimited),t.fork();let[,s]=this.scalarInfo(r);for(let o=0;o<i.length;o++)t[s](i[o]);t.join()}scalarInfo(t,r){let n=zt.Varint,i,s=r===void 0,o=r===0;switch(t){case B.INT32:i="int32";break;case B.STRING:o=s||!r.length,n=zt.LengthDelimited,i="string";break;case B.BOOL:o=r===!1,i="bool";break;case B.UINT32:i="uint32";break;case B.DOUBLE:n=zt.Bit64,i="double";break;case B.FLOAT:n=zt.Bit32,i="float";break;case B.INT64:o=s||Kt.from(r).isZero(),i="int64";break;case B.UINT64:o=s||Zr.from(r).isZero(),i="uint64";break;case B.FIXED64:o=s||Zr.from(r).isZero(),n=zt.Bit64,i="fixed64";break;case B.BYTES:o=s||!r.byteLength,n=zt.LengthDelimited,i="bytes";break;case B.FIXED32:n=zt.Bit32,i="fixed32";break;case B.SFIXED32:n=zt.Bit32,i="sfixed32";break;case B.SFIXED64:o=s||Kt.from(r).isZero(),n=zt.Bit64,i="sfixed64";break;case B.SINT32:i="sint32";break;case B.SINT64:o=s||Kt.from(r).isZero(),i="sint64";break}return[n,i,s||o]}}function Die(e){const t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},UM,{value:e});for(let r of e.fields){let n=r.localName;if(!r.opt)if(r.oneof)t[r.oneof]={oneofKind:void 0};else if(r.repeat)t[n]=[];else switch(r.kind){case"scalar":t[n]=M2(r.T,r.L);break;case"enum":t[n]=0;break;case"map":t[n]={};break}}return t}function F2(e,t,r){let n,i=r,s;for(let o of e.fields){let a=o.localName;if(o.oneof){const l=i[o.oneof];if((l==null?void 0:l.oneofKind)==null)continue;if(n=l[a],s=t[o.oneof],s.oneofKind=l.oneofKind,n==null){delete s[a];continue}}else if(n=i[a],s=t,n==null)continue;switch(o.repeat&&(s[a].length=n.length),o.kind){case"scalar":case"enum":if(o.repeat)for(let u=0;u<n.length;u++)s[a][u]=n[u];else s[a]=n;break;case"message":let l=o.T();if(o.repeat)for(let u=0;u<n.length;u++)s[a][u]=l.create(n[u]);else s[a]===void 0?s[a]=l.create(n):l.mergePartial(s[a],n);break;case"map":switch(o.V.kind){case"scalar":case"enum":Object.assign(s[a],n);break;case"message":let u=o.V.T();for(let d of Object.keys(n))s[a][d]=u.create(n[d]);break}break}}}function Bie(e,t,r){if(t===r)return!0;if(!t||!r)return!1;for(let n of e.fields){let i=n.localName,s=n.oneof?t[n.oneof][i]:t[i],o=n.oneof?r[n.oneof][i]:r[i];switch(n.kind){case"enum":case"scalar":let a=n.kind=="enum"?B.INT32:n.T;if(!(n.repeat?zM(a,s,o):VM(a,s,o)))return!1;break;case"map":if(!(n.V.kind=="message"?KM(n.V.T(),q0(s),q0(o)):zM(n.V.kind=="enum"?B.INT32:n.V.T,q0(s),q0(o))))return!1;break;case"message":let l=n.T();if(!(n.repeat?KM(l,s,o):l.equals(s,o)))return!1;break}}return!0}const q0=Object.values;function VM(e,t,r){if(t===r)return!0;if(e!==B.BYTES)return!1;let n=t,i=r;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s]!=i[s])return!1;return!0}function zM(e,t,r){if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(!VM(e,t[n],r[n]))return!1;return!0}function KM(e,t,r){if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(!e.equals(t[n],r[n]))return!1;return!0}class U0{constructor(t,r,n){this.defaultCheckDepth=16,this.typeName=t,this.fields=r.map(Rie),this.options=n??{},this.messagePrototype=Object.defineProperty({},UM,{value:this}),this.refTypeCheck=new Lie(this),this.refJsonReader=new Pie(this),this.refJsonWriter=new jie(this),this.refBinReader=new Mie(this),this.refBinWriter=new Fie(this)}create(t){let r=Die(this);return t!==void 0&&F2(this,r,t),r}clone(t){let r=this.create();return F2(this,r,t),r}equals(t,r){return Bie(this,t,r)}is(t,r=this.defaultCheckDepth){return this.refTypeCheck.is(t,r,!1)}isAssignable(t,r=this.defaultCheckDepth){return this.refTypeCheck.is(t,r,!0)}mergePartial(t,r){F2(this,t,r)}fromBinary(t,r){let n=xie(r);return this.internalBinaryRead(n.readerFactory(t),t.byteLength,n)}fromJson(t,r){return this.internalJsonRead(t,Tie(r))}fromJsonString(t,r){let n=JSON.parse(t);return this.fromJson(n,r)}toJson(t,r){return this.internalJsonWrite(t,Iie(r))}toJsonString(t,r){var n;let i=this.toJson(t,r);return JSON.stringify(i,null,(n=r==null?void 0:r.prettySpaces)!==null&&n!==void 0?n:0)}toBinary(t,r){let n=Cie(r);return this.internalBinaryWrite(t,n.writerFactory(),n).finish()}internalJsonRead(t,r,n){if(t!==null&&typeof t=="object"&&!Array.isArray(t)){let i=n??this.create();return this.refJsonReader.read(t,i,r),i}throw new Error(`Unable to parse message ${this.typeName} from JSON ${IM(t)}.`)}internalJsonWrite(t,r){return this.refJsonWriter.write(t,r)}internalBinaryWrite(t,r,n){return this.refBinWriter.write(t,r,n),r}internalBinaryRead(t,r,n,i){let s=i??this.create();return this.refBinReader.read(t,s,n,r),s}}const D2=Ve(),JM=Ve(),jp=Ve(),Mp=Ve();bi(Mp,Mp.of((e,t)=>hj({try:()=>fetch(e,{method:"POST",body:t,headers:{"Content-Type":"application/octet-stream","Content-Length":t.length.toString()}}),catch:()=>({_tag:"FetchError"})})));let Fp;Fp=Ve(),km=(()=>{try{return!!(typeof window<"u"&&window.document&&window.document.createElement)}catch{return!1}})();class Wie extends U0{constructor(){super("SyncRequest",[{no:1,name:"messages",kind:"message",repeat:1,T:()=>HM},{no:2,name:"userId",kind:"scalar",T:9},{no:3,name:"nodeId",kind:"scalar",T:9},{no:4,name:"merkleTree",kind:"scalar",T:9}])}}const qie=new Wie;class Uie extends U0{constructor(){super("SyncResponse",[{no:1,name:"messages",kind:"message",repeat:1,T:()=>HM},{no:2,name:"merkleTree",kind:"scalar",T:9}])}}const $ie=new Uie;class Vie extends U0{constructor(){super("EncryptedMessage",[{no:1,name:"timestamp",kind:"scalar",T:9},{no:2,name:"content",kind:"scalar",T:12}])}}const HM=new Vie;class zie extends U0{constructor(){super("MessageContent",[{no:1,name:"table",kind:"scalar",T:9},{no:2,name:"row",kind:"scalar",T:9},{no:3,name:"column",kind:"scalar",T:9},{no:4,name:"stringValue",kind:"scalar",oneof:"value",T:9},{no:5,name:"numberValue",kind:"scalar",oneof:"value",T:9},{no:6,name:"bytesValue",kind:"scalar",oneof:"value",T:12},{no:7,name:"jsonValue",kind:"scalar",oneof:"value",T:9}])}}let B2,Dp,QM,W2,$0,ZM,GM,YM,XM,eF,q2,U2,tF;B2=new zie,sw=Ve(),Dp=Ve(),QM=(e,t)=>e.table===t.table&&e.row===t.row&&e.column===t.column&&JSON.stringify(e.value)===JSON.stringify(t.value),W2=Ve(),$0=new Uint8Array([0,1]),ZM=e=>{switch(typeof e){case"string":return{oneofKind:"stringValue",stringValue:e};case"number":return{oneofKind:"numberValue",numberValue:mre(t2)(e)}}return e==null?{oneofKind:void 0}:_c(e)?{oneofKind:"bytesValue",bytesValue:e}:{oneofKind:"jsonValue",jsonValue:JSON.stringify(e)}},GM=e=>{switch(e.oneofKind){case"numberValue":return hre(t2)(e.numberValue);case"stringValue":return e.stringValue;case"bytesValue":return e.bytesValue;case"jsonValue":return JSON.parse(e.jsonValue);case void 0:return null;default:return hR()}},YM=({value:e,...t})=>zj($0,B2.toBinary({value:ZM(e),...t},q2)),XM=(e,t)=>{if(t.length>e.length)return!1;for(let r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0},eF=e=>{if(!XM(e,$0))return de();const{value:t,...r}=B2.fromBinary(e.slice($0.length),U2);return xe({value:GM(t),...r})},q2={writerFactory:()=>new BM({encode:e=>new TextEncoder().encode(e)})},U2={readerFactory:e=>new FM(e,{decode:t=>new TextDecoder().decode(t)})},tF=e=>Ye(function*(t){const r=yield*t(jp),n=yield*t(W2),i=yield*t(Mp),s=yield*t(yd);if(e.syncLoopCount===0){if(!(yield*t(r.acquire)))return;n({_tag:"SyncStateIsSyncing"})}yield*t(ci(e.messages,({timestamp:o,...a})=>s.seal(e.owner.encryptionKey,YM(a)).pipe(ze(l=>({timestamp:o,content:l})))),ze(o=>qie.toBinary({messages:o,userId:e.owner.id,nodeId:e.timestamp.node,merkleTree:C0(e.merkleTree)},q2)),ct(o=>i(e.syncUrl,o)),pd("FetchError",()=>ws({_tag:"SyncStateIsNotSyncedError",error:{_tag:"NetworkError"}})),ct(o=>{switch(o.status){case 402:return ws({_tag:"SyncStateIsNotSyncedError",error:{_tag:"PaymentRequiredError"}});case 200:return Qa(()=>o.arrayBuffer().then(a=>new Uint8Array(a)).then(a=>$ie.fromBinary(a,U2)));default:return ws({_tag:"SyncStateIsNotSyncedError",error:{_tag:"ServerError",status:o.status}})}}),ct(o=>ci(o.messages,({timestamp:a,content:l})=>s.open(e.owner.encryptionKey,l).pipe(ze(eF),ze(io(u=>({timestamp:a,...u}))))).pipe(ze(a=>({_tag:"SyncWorkerOutputSyncResponse",messages:yb(a,Nt),merkleTree:yM(o.merkleTree),syncLoopCount:e.syncLoopCount})))),gj(()=>r.release),fj,ze(n))}),bn(sw,Ye(function*(e){const t=yield*e(jp),r=s=>rn(()=>{i.onMessage(s)}),n=Xf().pipe(Wn(jp,t),Wn(Mp,yield*e(Mp)),Wn(yd,yield*e(yd))),i={postMessage:s=>{I2(s).pipe(R2({sync:tF,syncCompleted:()=>t.release}),B_(Lp),D_(r),Ha(n),mj(W2,i.onMessage),d0)},onMessage:yi};return i}));let Bp,rF,V0,z0,K0,nF,$2,V2,z2,iF,sF,oF,K2;Ja=Ve(),Bp=Ve(),rF=Ye(function*(e){const t=yield*e(Sr);return yield*e(t.exec(jne),ze(({rows:[r]})=>({id:r.id,mnemonic:r.mnemonic,encryptionKey:Lre(r.encryptionKey)})),EM,pd("NoSuchTableOrColumnError",()=>OM()))}),V0=({queries:e,onCompleteIds:t=[]})=>Ye(function*(r){const n=yield*r(Sr),i=yield*r(L0),s=yield*r(Bp),o=yield*r(zR(e),ci(u=>n.exec(Zne(u)).pipe(ze(d=>[u,d.rows])))),a=i.getState();yield*r(i.setState(new Map([...a,...o])));const l=o.map(([u,d])=>({query:u,patches:pie(a.get(u),d)}));s({_tag:"onQuery",queriesPatches:l,onCompleteIds:t})}),z0=Sr.pipe(ct(e=>e.exec(Wne)),ze(e=>e.rows),ze(([{timestamp:e,merkleTree:t}])=>({timestamp:E0(e),merkleTree:t}))),K0=e=>A(e,Rr(({id:t,isInsert:r,now:n,table:i,values:s})=>A(Object.entries(s),yb(([o,a])=>a===void 0||r&&a==null?de():xe([o,a])),Rr(([o,a])=>[o,typeof a=="boolean"||a instanceof Date?kM(a):a]),MR([r?"createdAt":"updatedAt",n]),Rr(([o,a])=>({table:i,row:t,column:o,value:a})))),t=>t.flat(),Vf(QM)),nF=e=>Ye(function*(t){const r=new Map;e.forEach(n=>{const i=r.get(n.table);if(i==null){r.set(n.table,{name:n.table,columns:[n.column]});return}i.columns.includes(n.column)||r.set(n.table,{name:n.table,columns:i.columns.concat(n.column)})}),yield*t(CM(Array.from(r.values())))}),$2=(e,t)=>Ye(function*(r){const n=(yield*r(Sr)).exec({sql:Une(e.table,e.column),parameters:[e.row,e.value,e.value]});yield*r(n,EM,pd("NoSuchTableOrColumnError",()=>nF(t).pipe(yj(n))))}),V2=({merkleTree:e,messages:t})=>Ye(function*(r){const n=yield*r(Sr);for(const i of t){const s=yield*r(n.exec({sql:qne,parameters:[i.table,i.row,i.column]}),ze(o=>o.rows),ct(Tc),ze(o=>o.timestamp),pd("NoSuchElementException",()=>hd(null)));if((s==null||s<i.timestamp)&&(yield*r($2(i,t))),s==null||s!==i.timestamp){const{changes:o}=yield*r(n.exec({sql:Vne,parameters:[i.timestamp,i.table,i.row,i.column,i.value]}));if(o>0){const a=E0(i.timestamp);e=pM(a)(e)}}}return e}),z2=({timestamp:e,merkleTree:t})=>ct(Sr,r=>r.exec({sql:zne,parameters:[bd(e),C0(t)]})),iF=({mutations:e,queries:t})=>Ye(function*(r){const[n,i]=UR(e,u=>u.table.startsWith("_")),[s,o]=UR(i,u=>K0([u]).some(d=>d.column==="isDeleted"&&d.value===1)).map(K0);yield*r(ci(s,u=>$2(u,s)));const{exec:a}=yield*r(Sr);if(yield*r(ci(o,({table:u,row:d})=>a({sql:$ne(u),parameters:[d]}))),n.length>0){let{timestamp:u,merkleTree:d}=yield*r(z0);const c=yield*r(K0(n),ci(f=>ze(cM(u),m=>(u=m,{...f,timestamp:bd(u)}))));d=yield*r(V2({merkleTree:d,messages:c})),yield*r(z2({timestamp:u,merkleTree:d})),(yield*r(Dp))({_tag:"sync",syncUrl:(yield*r(bo)).syncUrl,messages:c,timestamp:u,merkleTree:d,owner:yield*r(I0),syncLoopCount:0})}const l=yb(e,u=>Cc(u.onCompleteId));(t.length>0||l.length>0)&&(yield*r(V0({queries:t,onCompleteIds:l})))}),sF=({messages:e,...t})=>Ye(function*(r){let{timestamp:n,merkleTree:i}=yield*r(z0);const s=yield*r(Bp);if(e.length>0){for(const f of e)n=yield*r(E0(f.timestamp),m=>dM({local:n,remote:m}));i=yield*r(V2({merkleTree:i,messages:e})),yield*r(z2({timestamp:n,merkleTree:i})),s({_tag:"onReceive"})}const o=gM(t.merkleTree,i),a=yield*r(Dp);if(Kr(o)){a({_tag:"syncCompleted"}),s({_tag:"onSyncState",state:{_tag:"SyncStateIsSynced",time:yield*r(vd.pipe(ct(f=>f.now)))}});return}const l=yield*r(Sr),u=yield*r(bo),d=yield*r(I0),c=yield*r(l.exec({sql:Kne,parameters:[bd(lM(o.value))]}),ze(({rows:f})=>f));if(t.syncLoopCount>100){console.error("Evolu: syncLoopCount > 100");return}a({_tag:"sync",syncUrl:u.syncUrl,messages:c,timestamp:n,merkleTree:i,owner:d,syncLoopCount:t.syncLoopCount+1})}),oF=({queries:e})=>Ye(function*(t){e.length>0&&(yield*t(V0({queries:e}))),(yield*t(Dp))({_tag:"sync",...yield*t(z0),syncUrl:(yield*t(bo)).syncUrl,owner:yield*t(I0),messages:[],syncLoopCount:0})}),K2=e=>Ye(function*(t){const r=yield*t(Sr);yield*t(r.exec(`SELECT "name" FROM "sqlite_master" WHERE "type" = 'table'`),ze(n=>n.rows),ct(ci(({name:n})=>r.exec(`DROP TABLE "${n}"`),{discard:!0}))),e.mnemonic&&(yield*t(OM(e.mnemonic))),(yield*t(Bp))({_tag:"onResetOrRestore"})}),k6=bn(Ja,Ye(function*(e){const t=yield*e(sw),r=c=>rn(()=>{d.onMessage({_tag:"onError",error:c})});t.onMessage=c=>{switch(c._tag){case"UnexpectedError":r(c).pipe(Zi);break;case"SyncWorkerOutputSyncResponse":u(c);break;default:d.onMessage({_tag:"onSyncState",state:c})}};const n=Xf().pipe(Wn(Sr,yield*e(Sr)),Wn(Zl,yield*e(Zl)),Wn(Ta,yield*e(Ta)),Wn(Bp,c=>{d.onMessage(c)})),i=c=>c.pipe(B_(Lp),Xne,D_(r),Ha(n),d0),s=c=>c._tag!=="reset"?Promise.resolve(void 0):K2(c).pipe(i),o=(c,f)=>{let m=!1;const g=ow(i2(c),bi(I0,f),bi(Dp,t.postMessage),TM,m2);return b=>m?Promise.resolve(void 0):I2(b).pipe(R2({init:()=>Lp(new Error("init must be called once")),query:V0,mutate:iF,sync:oF,reset:k=>(m=!0,K2(k)),ensureSchema:({tables:k})=>CM(k),SyncWorkerOutputSyncResponse:sF}),Ha(g),i)};let a=c=>c._tag!=="init"?i(Lp(new Error("init must be called first"))):(a=s,rF.pipe(ze(f=>{d.onMessage({_tag:"onOwner",owner:f}),a=o(c.config,f)}),i)),l=Promise.resolve(void 0);const u=c=>{l=l.then(()=>a(c))},d={postMessage:u,onMessage:yi};return d}));function Gl(e){return typeof e>"u"||e===void 0}function xs(e){return typeof e=="string"}function aF(e){return typeof e=="number"}function J0(e){return typeof e=="boolean"}function J2(e){return e===null}function Kie(e){return e instanceof Date}function Jie(e){return typeof e=="bigint"}function Vn(e){return typeof e=="function"}function Ns(e){return typeof e=="object"&&e!==null}function v(e){return Object.freeze(e)}function Ia(e){return Array.isArray(e)}function wd(e){return e}const Jt=v({is(e){return e.kind==="AlterTableNode"},create(e){return v({kind:"AlterTableNode",table:e})},cloneWithTableProps(e,t){return v({...e,...t})},cloneWithColumnAlteration(e,t){return v({...e,columnAlterations:e.columnAlterations?[...e.columnAlterations,t]:[t]})}}),Ht=v({is(e){return e.kind==="IdentifierNode"},create(e){return v({kind:"IdentifierNode",name:e})}}),Ra=v({is(e){return e.kind==="CreateIndexNode"},create(e){return v({kind:"CreateIndexNode",name:Ht.create(e)})},cloneWith(e,t){return v({...e,...t})},cloneWithColumns(e,t){return v({...e,columns:[...e.columns||[],...t]})}}),lF=v({is(e){return e.kind==="CreateSchemaNode"},create(e,t){return v({kind:"CreateSchemaNode",schema:Ht.create(e),...t})},cloneWith(e,t){return v({...e,...t})}}),Hie=["preserve rows","delete rows","drop"],Wi=v({is(e){return e.kind==="CreateTableNode"},create(e){return v({kind:"CreateTableNode",table:e,columns:v([])})},cloneWithColumn(e,t){return v({...e,columns:v([...e.columns,t])})},cloneWithConstraint(e,t){return v({...e,constraints:e.constraints?v([...e.constraints,t]):v([t])})},cloneWithFrontModifier(e,t){return v({...e,frontModifiers:e.frontModifiers?v([...e.frontModifiers,t]):v([t])})},cloneWithEndModifier(e,t){return v({...e,endModifiers:e.endModifiers?v([...e.endModifiers,t]):v([t])})},cloneWith(e,t){return v({...e,...t})}}),Aa=v({is(e){return e.kind==="SchemableIdentifierNode"},create(e){return v({kind:"SchemableIdentifierNode",identifier:Ht.create(e)})},createWithSchema(e,t){return v({kind:"SchemableIdentifierNode",schema:Ht.create(e),identifier:Ht.create(t)})}}),H0=v({is(e){return e.kind==="DropIndexNode"},create(e,t){return v({kind:"DropIndexNode",name:Aa.create(e),...t})},cloneWith(e,t){return v({...e,...t})}}),H2=v({is(e){return e.kind==="DropSchemaNode"},create(e,t){return v({kind:"DropSchemaNode",schema:Ht.create(e),...t})},cloneWith(e,t){return v({...e,...t})}}),Q2=v({is(e){return e.kind==="DropTableNode"},create(e,t){return v({kind:"DropTableNode",table:e,...t})},cloneWith(e,t){return v({...e,...t})}}),Yl=v({is(e){return e.kind==="AliasNode"},create(e,t){return v({kind:"AliasNode",node:e,alias:t})}}),La=v({is(e){return e.kind==="TableNode"},create(e){return v({kind:"TableNode",table:Aa.create(e)})},createWithSchema(e,t){return v({kind:"TableNode",table:Aa.createWithSchema(e,t)})}});function qi(e){return Ns(e)&&Vn(e.toOperationNode)}function Qie(e){return Ns(e)&&"expressionType"in e&&qi(e)}function Zie(e){return Ns(e)&&"expression"in e&&xs(e.alias)&&qi(e)}const ko=v({is(e){return e.kind==="SelectModifierNode"},create(e){return v({kind:"SelectModifierNode",modifier:e})},createWithExpression(e){return v({kind:"SelectModifierNode",rawModifier:e})}}),Pa=v({is(e){return e.kind==="AndNode"},create(e,t){return v({kind:"AndNode",left:e,right:t})}}),kd=v({is(e){return e.kind==="OrNode"},create(e,t){return v({kind:"OrNode",left:e,right:t})}}),Z2=v({is(e){return e.kind==="OnNode"},create(e){return v({kind:"OnNode",on:e})},cloneWithOperation(e,t,r){return v({...e,on:t==="And"?Pa.create(e.on,r):kd.create(e.on,r)})}}),Wp=v({is(e){return e.kind==="JoinNode"},create(e,t){return v({kind:"JoinNode",joinType:e,table:t,on:void 0})},createWithOn(e,t,r){return v({kind:"JoinNode",joinType:e,table:t,on:Z2.create(r)})},cloneWithOn(e,t){return v({...e,on:e.on?Z2.cloneWithOperation(e.on,"And",t):Z2.create(t)})}}),qp=v({is(e){return e.kind==="BinaryOperationNode"},create(e,t,r){return v({kind:"BinaryOperationNode",leftOperand:e,operator:t,rightOperand:r})}}),Gie=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","&&","?","?&","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp"],Yie=["+","-","*","/","%","^","&","|","#","<<",">>"],uF=["->","->>"],Xie=[...Gie,...Yie,"&&","||"],ese=["exists","not exists"],tse=["not","-",...ese],rse=[...Xie,...uF,...tse,"between","between symmetric"],Xl=v({is(e){return e.kind==="OperatorNode"},create(e){return v({kind:"OperatorNode",operator:e})}});function cF(e){return xs(e)&&uF.includes(e)}const Qt=v({is(e){return e.kind==="ColumnNode"},create(e){return v({kind:"ColumnNode",column:Ht.create(e)})}}),G2=v({is(e){return e.kind==="SelectAllNode"},create(){return v({kind:"SelectAllNode"})}}),Q0=v({is(e){return e.kind==="ReferenceNode"},create(e,t){return v({kind:"ReferenceNode",table:t,column:e})},createSelectAll(e){return v({kind:"ReferenceNode",table:e,column:G2.create()})}});class nse{constructor(t){U(this,Ld,void 0);J(this,Ld,t)}get dynamicReference(){return h(this,Ld)}get refType(){}toOperationNode(){return mF(h(this,Ld))}}Ld=new WeakMap;function dF(e){return Ns(e)&&qi(e)&&xs(e.dynamicReference)}const Y2=v({is(e){return e.kind==="OrderByItemNode"},create(e,t){return v({kind:"OrderByItemNode",orderBy:e,direction:t})}}),xd=v({is(e){return e.kind==="RawNode"},create(e,t){return v({kind:"RawNode",sqlFragments:v(e),parameters:v(t)})},createWithSql(e){return xd.create([e],[])},createWithChild(e){return xd.create(["",""],[e])},createWithChildren(e){return xd.create(new Array(e.length+1).fill(""),e)}});function hF(e){return e==="asc"||e==="desc"}function Z0(e){if(e.length===2)return[X2(e[0],e[1])];if(e.length===1){const[t]=e;return Array.isArray(t)?t.map(r=>X2(r)):[X2(t)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${e.length}`)}function X2(e,t){const r=ise(e);if(Y2.is(r)){if(t)throw new Error("Cannot specify direction twice!");return r}return Y2.create(r,fF(t))}function ise(e){if(Zp(e))return Td(e);if(dF(e))return e.toOperationNode();const[t,r]=e.split(" ");if(r){if(!hF(r))throw new Error(`Invalid order by direction: ${r}`);return Y2.create(ja(t),fF(r))}return ja(e)}function fF(e){if(e)return e==="asc"||e==="desc"?xd.createWithSql(e):e.toOperationNode()}const eE=v({is(e){return e.kind==="JSONReferenceNode"},create(e,t){return v({kind:"JSONReferenceNode",reference:e,traversal:t})},cloneWithTraversal(e,t){return v({...e,traversal:t})}}),pF=v({is(e){return e.kind==="JSONOperatorChainNode"},create(e){return v({kind:"JSONOperatorChainNode",operator:e,values:v([])})},cloneWithValue(e,t){return v({...e,values:v([...e.values,t])})}}),tE=v({is(e){return e.kind==="JSONPathNode"},create(e){return v({kind:"JSONPathNode",inOperator:e,pathLegs:v([])})},cloneWithLeg(e,t){return v({...e,pathLegs:v([...e.pathLegs,t])})}});function mF(e){return xs(e)?ja(e):e.toOperationNode()}function Up(e){return Ia(e)?e.map(t=>Ui(t)):[Ui(e)]}function Ui(e){return Zp(e)?Td(e):mF(e)}function sse(e,t){const r=ja(e);if(cF(t))return eE.create(r,pF.create(Xl.create(t)));const n=t.slice(0,-1);if(cF(n))return eE.create(r,tE.create(Xl.create(n)));throw new Error(`Invalid JSON operator: ${t}`)}function ja(e){const t=".";if(!e.includes(t))return Q0.create(Qt.create(e));const r=e.split(t).map(rE);if(r.length===3)return ase(r);if(r.length===2)return lse(r);throw new Error(`invalid column reference ${e}`)}function ose(e){const t=" as ";if(e.includes(t)){const[r,n]=e.split(t).map(rE);return Yl.create(ja(r),Ht.create(n))}else return ja(e)}function gF(e){return Qt.create(e)}function yF(e){const t=" ";if(e.includes(t)){const[r,n]=e.split(t).map(rE);if(!hF(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return Z0([r,n])[0]}else return gF(e)}function ase(e){const[t,r,n]=e;return Q0.create(Qt.create(n),La.createWithSchema(t,r))}function lse(e){const[t,r]=e;return Q0.create(Qt.create(r),La.create(t))}function rE(e){return e.trim()}const bF=v({is(e){return e.kind==="PrimitiveValueListNode"},create(e){return v({kind:"PrimitiveValueListNode",values:v([...e])})}}),nE=v({is(e){return e.kind==="ValueListNode"},create(e){return v({kind:"ValueListNode",values:v(e)})}}),xo=v({is(e){return e.kind==="ValueNode"},create(e){return v({kind:"ValueNode",value:e})},createImmediate(e){return v({kind:"ValueNode",value:e,immediate:!0})}});function vF(e){return Ia(e)?use(e):mi(e)}function mi(e){return Zp(e)?Td(e):xo.create(e)}function iE(e){return aF(e)||J0(e)||J2(e)}function sE(e){if(!iE(e))throw new Error(`unsafe immediate value ${JSON.stringify(e)}`);return xo.createImmediate(e)}function use(e){return e.some(Zp)?nE.create(e.map(t=>mi(t))):bF.create(e)}const Nd=v({is(e){return e.kind==="ParensNode"},create(e){return v({kind:"ParensNode",node:e})}});function Gr(e){if(e.length===3)return $p(e[0],e[1],e[2]);if(e.length===1)return mi(e[0]);throw new Error(`invalid arguments: ${JSON.stringify(e)}`)}function $p(e,t,r){return cse(t)&&kF(r)?qp.create(Ui(e),aE(t),xo.createImmediate(r)):qp.create(Ui(e),aE(t),vF(r))}function No(e,t,r){return qp.create(Ui(e),aE(t),Ui(r))}function wF(e,t){return oE(Object.entries(e).filter(([,r])=>!Gl(r)).map(([r,n])=>$p(r,kF(n)?"is":"=",n)),t)}function oE(e,t){const r=t==="and"?Pa.create:kd.create;if(e.length===0)return xo.createImmediate(t==="and");let n=xF(e[0]);for(let i=1;i<e.length;++i)n=r(n,xF(e[i]));return e.length>1?Nd.create(n):n}function cse(e){return e==="is"||e==="is not"}function kF(e){return J2(e)||J0(e)}function aE(e){if(xs(e)&&rse.includes(e))return Xl.create(e);if(qi(e))return e.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(e)}`)}function xF(e){return qi(e)?e.toOperationNode():e}const Sd=v({is(e){return e.kind==="OrderByNode"},create(e){return v({kind:"OrderByNode",items:v([...e])})},cloneWithItems(e,t){return v({...e,items:v([...e.items,...t])})}}),NF=v({is(e){return e.kind==="PartitionByNode"},create(e){return v({kind:"PartitionByNode",items:v(e)})},cloneWithItems(e,t){return v({...e,items:v([...e.items,...t])})}}),lE=v({is(e){return e.kind==="OverNode"},create(){return v({kind:"OverNode"})},cloneWithOrderByItems(e,t){return v({...e,orderBy:e.orderBy?Sd.cloneWithItems(e.orderBy,t):Sd.create(t)})},cloneWithPartitionByItems(e,t){return v({...e,partitionBy:e.partitionBy?NF.cloneWithItems(e.partitionBy,t):NF.create(t)})}}),G0=v({is(e){return e.kind==="FromNode"},create(e){return v({kind:"FromNode",froms:v(e)})},cloneWithFroms(e,t){return v({...e,froms:v([...e.froms,...t])})}}),SF=v({is(e){return e.kind==="GroupByNode"},create(e){return v({kind:"GroupByNode",items:v(e)})},cloneWithItems(e,t){return v({...e,items:v([...e.items,...t])})}}),_F=v({is(e){return e.kind==="HavingNode"},create(e){return v({kind:"HavingNode",having:e})},cloneWithOperation(e,t,r){return v({...e,having:t==="And"?Pa.create(e.having,r):kd.create(e.having,r)})}}),Be=v({is(e){return e.kind==="SelectQueryNode"},create(e){return v({kind:"SelectQueryNode",...e&&{with:e}})},createFrom(e,t){return v({kind:"SelectQueryNode",from:G0.create(e),...t&&{with:t}})},cloneWithSelections(e,t){return v({...e,selections:e.selections?v([...e.selections,...t]):v(t)})},cloneWithDistinctOn(e,t){return v({...e,distinctOn:e.distinctOn?v([...e.distinctOn,...t]):v(t)})},cloneWithFrontModifier(e,t){return v({...e,frontModifiers:e.frontModifiers?v([...e.frontModifiers,t]):v([t])})},cloneWithEndModifier(e,t){return v({...e,endModifiers:e.endModifiers?v([...e.endModifiers,t]):v([t])})},cloneWithOrderByItems(e,t){return v({...e,orderBy:e.orderBy?Sd.cloneWithItems(e.orderBy,t):Sd.create(t)})},cloneWithGroupByItems(e,t){return v({...e,groupBy:e.groupBy?SF.cloneWithItems(e.groupBy,t):SF.create(t)})},cloneWithLimit(e,t){return v({...e,limit:t})},cloneWithOffset(e,t){return v({...e,offset:t})},cloneWithHaving(e,t){return v({...e,having:e.having?_F.cloneWithOperation(e.having,"And",t):_F.create(t)})},cloneWithSetOperations(e,t){return v({...e,setOperations:e.setOperations?v([...e.setOperations,...t]):v([...t])})},cloneWithoutSelections(e){return v({...e,selections:[]})},cloneWithoutLimit(e){return v({...e,limit:void 0})},cloneWithoutOffset(e){return v({...e,offset:void 0})},cloneWithoutOrderBy(e){return v({...e,orderBy:void 0})}});function Ke(e,t){Object.defineProperties(e.prototype,{then:{enumerable:!1,value:()=>{throw new Error(t)}}})}const im=class im{constructor(t){U(this,$i,void 0);J(this,$i,v(t))}on(...t){return new im({...h(this,$i),joinNode:Wp.cloneWithOn(h(this,$i).joinNode,Gr(t))})}onRef(t,r,n){return new im({...h(this,$i),joinNode:Wp.cloneWithOn(h(this,$i).joinNode,No(t,r,n))})}onTrue(){return new im({...h(this,$i),joinNode:Wp.cloneWithOn(h(this,$i).joinNode,xd.createWithSql("true"))})}$call(t){return t(this)}toOperationNode(){return h(this,$i).joinNode}};$i=new WeakMap;let Y0=im;Ke(Y0,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const dse=v({is(e){return e.kind==="PartitionByItemNode"},create(e){return v({kind:"PartitionByItemNode",partitionBy:e})}});function hse(e){return Up(e).map(dse.create)}const jv=class jv{constructor(t){U(this,ru,void 0);J(this,ru,v(t))}orderBy(t,r){return new jv({overNode:lE.cloneWithOrderByItems(h(this,ru).overNode,Z0([t,r]))})}partitionBy(t){return new jv({overNode:lE.cloneWithPartitionByItems(h(this,ru).overNode,hse(t))})}$call(t){return t(this)}toOperationNode(){return h(this,ru).overNode}};ru=new WeakMap;let X0=jv;Ke(X0,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Vp=v({is(e){return e.kind==="SelectionNode"},create(e){return v({kind:"SelectionNode",selection:e})},createSelectAll(){return v({kind:"SelectionNode",selection:G2.create()})},createSelectAllFromTable(e){return v({kind:"SelectionNode",selection:Q0.createSelectAll(e)})}});function eu(e){return Vn(e)?eu(e(Cd())):Ia(e)?e.map(t=>EF(t)):[EF(e)]}function EF(e){return xs(e)?Vp.create(ose(e)):dF(e)?Vp.create(e.toOperationNode()):Vp.create(JF(e))}function zp(e){return e?Array.isArray(e)?e.map(OF):[OF(e)]:[Vp.createSelectAll()]}function OF(e){if(xs(e))return Vp.createSelectAllFromTable(Kn(e));throw new Error(`invalid value selectAll expression: ${JSON.stringify(e)}`)}const fse=v({is(e){return e.kind==="ValuesNode"},create(e){return v({kind:"ValuesNode",values:v(e)})}}),pse=v({is(e){return e.kind==="DefaultInsertValueNode"},create(){return v({kind:"DefaultInsertValueNode"})}});function mse(e){const t=Vn(e)?e(Cd()):e,r=Ia(t)?t:v([t]);return gse(r)}function gse(e){const t=yse(e);return[v([...t.keys()].map(Qt.create)),fse.create(e.map(r=>bse(r,t)))]}function yse(e){const t=new Map;for(const r of e){const n=Object.keys(r);for(const i of n)!t.has(i)&&r[i]!==void 0&&t.set(i,t.size)}return t}function bse(e,t){const r=Object.keys(e),n=Array.from({length:t.size});let i=!1;for(const s of r){const o=t.get(s);if(Gl(o))continue;const a=e[s];(Gl(a)||Zp(a))&&(i=!0),n[o]=a}if(r.length<t.size||i){const s=pse.create();return nE.create(n.map(o=>Gl(o)?s:mi(o)))}return bF.create(n)}const Ss=v({is(e){return e.kind==="InsertQueryNode"},create(e,t,r){return v({kind:"InsertQueryNode",into:e,...t&&{with:t},replace:r})},cloneWith(e,t){return v({...e,...t})}}),ev=v({is(e){return e.kind==="UpdateQueryNode"},create(e,t){return v({kind:"UpdateQueryNode",table:e,...t&&{with:t}})},cloneWithFromItems(e,t){return v({...e,from:e.from?G0.cloneWithFroms(e.from,t):G0.create(t)})},cloneWithUpdates(e,t){return v({...e,updates:e.updates?v([...e.updates,...t]):t})}}),CF=v({is(e){return e.kind==="UsingNode"},create(e){return v({kind:"UsingNode",tables:v(e)})},cloneWithTables(e,t){return v({...e,tables:v([...e.tables,...t])})}}),Kp=v({is(e){return e.kind==="DeleteQueryNode"},create(e,t){return v({kind:"DeleteQueryNode",from:G0.create(e),...t&&{with:t}})},cloneWithOrderByItems(e,t){return v({...e,orderBy:e.orderBy?Sd.cloneWithItems(e.orderBy,t):Sd.create(t)})},cloneWithLimit(e,t){return v({...e,limit:t})},cloneWithUsing(e,t){return v({...e,using:e.using!==void 0?CF.cloneWithTables(e.using,t):CF.create(t)})}}),En=v({is(e){return e.kind==="WhereNode"},create(e){return v({kind:"WhereNode",where:e})},cloneWithOperation(e,t,r){return v({...e,where:t==="And"?Pa.create(e.where,r):kd.create(e.where,r)})}}),TF=v({is(e){return e.kind==="ReturningNode"},create(e){return v({kind:"ReturningNode",selections:v(e)})},cloneWithSelections(e,t){return v({...e,selections:e.selections?v([...e.selections,...t]):v(t)})}}),vse=v({is(e){return e.kind==="ExplainNode"},create(e,t){return v({kind:"ExplainNode",format:e,options:t})}}),Pe=v({is(e){return Be.is(e)||Ss.is(e)||ev.is(e)||Kp.is(e)},cloneWithWhere(e,t){return v({...e,where:e.where?En.cloneWithOperation(e.where,"And",t):En.create(t)})},cloneWithJoin(e,t){return v({...e,joins:e.joins?v([...e.joins,t]):v([t])})},cloneWithReturning(e,t){return v({...e,returning:e.returning?TF.cloneWithSelections(e.returning,t):TF.create(t)})},cloneWithoutWhere(e){return v({...e,where:void 0})},cloneWithExplain(e,t,r){return v({...e,explain:vse.create(t,r==null?void 0:r.toOperationNode())})}}),wse=v({is(e){return e.kind==="ColumnUpdateNode"},create(e,t){return v({kind:"ColumnUpdateNode",column:e,value:t})}});function uE(e){const t=Vn(e)?e(Cd()):e;return Object.entries(t).filter(([r,n])=>n!==void 0).map(([r,n])=>wse.create(Qt.create(r),mi(n)))}const kse=v({is(e){return e.kind==="OnDuplicateKeyNode"},create(e){return v({kind:"OnDuplicateKeyNode",updates:e})}});class xse{constructor(t,r){N(this,"insertId");N(this,"numInsertedOrUpdatedRows");this.insertId=t,this.numInsertedOrUpdatedRows=r}}class tv extends Error{constructor(r){super("no result");N(this,"node");this.node=r}}function rv(e){return Object.prototype.hasOwnProperty.call(e,"prototype")}const zn=v({is(e){return e.kind==="OnConflictNode"},create(){return v({kind:"OnConflictNode"})},cloneWith(e,t){return v({...e,...t})},cloneWithIndexWhere(e,t){return v({...e,indexWhere:e.indexWhere?En.cloneWithOperation(e.indexWhere,"And",t):En.create(t)})},cloneWithIndexOrWhere(e,t){return v({...e,indexWhere:e.indexWhere?En.cloneWithOperation(e.indexWhere,"Or",t):En.create(t)})},cloneWithUpdateWhere(e,t){return v({...e,updateWhere:e.updateWhere?En.cloneWithOperation(e.updateWhere,"And",t):En.create(t)})},cloneWithUpdateOrWhere(e,t){return v({...e,updateWhere:e.updateWhere?En.cloneWithOperation(e.updateWhere,"Or",t):En.create(t)})},cloneWithoutIndexWhere(e){return v({...e,indexWhere:void 0})},cloneWithoutUpdateWhere(e){return v({...e,updateWhere:void 0})}}),So=class So{constructor(t){U(this,dt,void 0);J(this,dt,v(t))}column(t){const r=Qt.create(t);return new So({...h(this,dt),onConflictNode:zn.cloneWith(h(this,dt).onConflictNode,{columns:h(this,dt).onConflictNode.columns?v([...h(this,dt).onConflictNode.columns,r]):v([r])})})}columns(t){const r=t.map(Qt.create);return new So({...h(this,dt),onConflictNode:zn.cloneWith(h(this,dt).onConflictNode,{columns:h(this,dt).onConflictNode.columns?v([...h(this,dt).onConflictNode.columns,...r]):v(r)})})}constraint(t){return new So({...h(this,dt),onConflictNode:zn.cloneWith(h(this,dt).onConflictNode,{constraint:Ht.create(t)})})}expression(t){return new So({...h(this,dt),onConflictNode:zn.cloneWith(h(this,dt).onConflictNode,{indexExpression:t.toOperationNode()})})}where(...t){return new So({...h(this,dt),onConflictNode:zn.cloneWithIndexWhere(h(this,dt).onConflictNode,Gr(t))})}whereRef(t,r,n){return new So({...h(this,dt),onConflictNode:zn.cloneWithIndexWhere(h(this,dt).onConflictNode,No(t,r,n))})}clearWhere(){return new So({...h(this,dt),onConflictNode:zn.cloneWithoutIndexWhere(h(this,dt).onConflictNode)})}doNothing(){return new IF({...h(this,dt),onConflictNode:zn.cloneWith(h(this,dt).onConflictNode,{doNothing:!0})})}doUpdateSet(t){return new iv({...h(this,dt),onConflictNode:zn.cloneWith(h(this,dt).onConflictNode,{updates:uE(t)})})}$call(t){return t(this)}};dt=new WeakMap;let nv=So;Ke(nv,"don't await OnConflictBuilder instances.");class IF{constructor(t){U(this,sm,void 0);J(this,sm,v(t))}toOperationNode(){return h(this,sm).onConflictNode}}sm=new WeakMap,Ke(IF,"don't await OnConflictDoNothingBuilder instances.");const om=class om{constructor(t){U(this,Vi,void 0);J(this,Vi,v(t))}where(...t){return new om({...h(this,Vi),onConflictNode:zn.cloneWithUpdateWhere(h(this,Vi).onConflictNode,Gr(t))})}whereRef(t,r,n){return new om({...h(this,Vi),onConflictNode:zn.cloneWithUpdateWhere(h(this,Vi).onConflictNode,No(t,r,n))})}clearWhere(){return new om({...h(this,Vi),onConflictNode:zn.cloneWithoutUpdateWhere(h(this,Vi).onConflictNode)})}$call(t){return t(this)}toOperationNode(){return h(this,Vi).onConflictNode}};Vi=new WeakMap;let iv=om;Ke(iv,"don't await OnConflictUpdateBuilder instances.");const Yr=class Yr{constructor(t){U(this,Ae,void 0);J(this,Ae,v(t))}values(t){const[r,n]=mse(t);return new Yr({...h(this,Ae),queryNode:Ss.cloneWith(h(this,Ae).queryNode,{columns:r,values:n})})}columns(t){return new Yr({...h(this,Ae),queryNode:Ss.cloneWith(h(this,Ae).queryNode,{columns:v(t.map(Qt.create))})})}expression(t){return new Yr({...h(this,Ae),queryNode:Ss.cloneWith(h(this,Ae).queryNode,{values:Td(t)})})}ignore(){return new Yr({...h(this,Ae),queryNode:Ss.cloneWith(h(this,Ae).queryNode,{ignore:!0})})}onConflict(t){return new Yr({...h(this,Ae),queryNode:Ss.cloneWith(h(this,Ae).queryNode,{onConflict:t(new nv({onConflictNode:zn.create()})).toOperationNode()})})}onDuplicateKeyUpdate(t){return new Yr({...h(this,Ae),queryNode:Ss.cloneWith(h(this,Ae).queryNode,{onDuplicateKey:kse.create(uE(t))})})}returning(t){return new Yr({...h(this,Ae),queryNode:Pe.cloneWithReturning(h(this,Ae).queryNode,eu(t))})}returningAll(){return new Yr({...h(this,Ae),queryNode:Pe.cloneWithReturning(h(this,Ae).queryNode,zp())})}$call(t){return t(this)}$if(t,r){return t?r(this):new Yr({...h(this,Ae)})}$castTo(){return new Yr(h(this,Ae))}$narrowType(){return new Yr(h(this,Ae))}$assertType(){return new Yr(h(this,Ae))}withPlugin(t){return new Yr({...h(this,Ae),executor:h(this,Ae).executor.withPlugin(t)})}toOperationNode(){return h(this,Ae).executor.transformQuery(h(this,Ae).queryNode,h(this,Ae).queryId)}compile(){return h(this,Ae).executor.compileQuery(this.toOperationNode(),h(this,Ae).queryId)}async execute(){const t=this.compile(),r=t.query,n=await h(this,Ae).executor.executeQuery(t,h(this,Ae).queryId);return h(this,Ae).executor.adapter.supportsReturning&&r.returning?n.rows:[new xse(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=tv){const r=await this.executeTakeFirst();if(r===void 0)throw rv(t)?new t(this.toOperationNode()):t(this.toOperationNode());return r}async*stream(t=100){const r=this.compile(),n=h(this,Ae).executor.stream(r,t,h(this,Ae).queryId);for await(const i of n)yield*i.rows}async explain(t,r){return await new Yr({...h(this,Ae),queryNode:Pe.cloneWithExplain(h(this,Ae).queryNode,t,r)}).execute()}};Ae=new WeakMap;let Jp=Yr;Ke(Jp,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class Nse{constructor(t){N(this,"numDeletedRows");this.numDeletedRows=t}}const RF=v({is(e){return e.kind==="LimitNode"},create(e){return v({kind:"LimitNode",limit:xo.create(e)})}}),ar=class ar{constructor(t){U(this,we,void 0);J(this,we,v(t))}where(...t){return new ar({...h(this,we),queryNode:Pe.cloneWithWhere(h(this,we).queryNode,Gr(t))})}whereRef(t,r,n){return new ar({...h(this,we),queryNode:Pe.cloneWithWhere(h(this,we).queryNode,No(t,r,n))})}clearWhere(){return new ar({...h(this,we),queryNode:Pe.cloneWithoutWhere(h(this,we).queryNode)})}using(t){return new ar({...h(this,we),queryNode:Kp.cloneWithUsing(h(this,we).queryNode,Gp(t))})}innerJoin(...t){return new ar({...h(this,we),queryNode:Pe.cloneWithJoin(h(this,we).queryNode,On("InnerJoin",t))})}leftJoin(...t){return new ar({...h(this,we),queryNode:Pe.cloneWithJoin(h(this,we).queryNode,On("LeftJoin",t))})}rightJoin(...t){return new ar({...h(this,we),queryNode:Pe.cloneWithJoin(h(this,we).queryNode,On("RightJoin",t))})}fullJoin(...t){return new ar({...h(this,we),queryNode:Pe.cloneWithJoin(h(this,we).queryNode,On("FullJoin",t))})}returning(t){return new ar({...h(this,we),queryNode:Pe.cloneWithReturning(h(this,we).queryNode,eu(t))})}returningAll(t){return new ar({...h(this,we),queryNode:Pe.cloneWithReturning(h(this,we).queryNode,zp(t))})}orderBy(t,r){return new ar({...h(this,we),queryNode:Kp.cloneWithOrderByItems(h(this,we).queryNode,Z0([t,r]))})}limit(t){return new ar({...h(this,we),queryNode:Kp.cloneWithLimit(h(this,we).queryNode,RF.create(t))})}$call(t){return t(this)}$if(t,r){return t?r(this):new ar({...h(this,we)})}$castTo(){return new ar(h(this,we))}$narrowType(){return new ar(h(this,we))}$assertType(){return new ar(h(this,we))}withPlugin(t){return new ar({...h(this,we),executor:h(this,we).executor.withPlugin(t)})}toOperationNode(){return h(this,we).executor.transformQuery(h(this,we).queryNode,h(this,we).queryId)}compile(){return h(this,we).executor.compileQuery(this.toOperationNode(),h(this,we).queryId)}async execute(){const t=this.compile(),r=t.query,n=await h(this,we).executor.executeQuery(t,h(this,we).queryId);return h(this,we).executor.adapter.supportsReturning&&r.returning?n.rows:[new Nse(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=tv){const r=await this.executeTakeFirst();if(r===void 0)throw rv(t)?new t(this.toOperationNode()):t(this.toOperationNode());return r}async*stream(t=100){const r=this.compile(),n=h(this,we).executor.stream(r,t,h(this,we).queryId);for await(const i of n)yield*i.rows}async explain(t,r){return await new ar({...h(this,we),queryNode:Pe.cloneWithExplain(h(this,we).queryNode,t,r)}).execute()}};we=new WeakMap;let sv=ar;Ke(sv,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class Sse{constructor(t,r){N(this,"numUpdatedRows");N(this,"numChangedRows");this.numUpdatedRows=t,this.numChangedRows=r}}const gr=class gr{constructor(t){U(this,Ne,void 0);J(this,Ne,v(t))}where(...t){return new gr({...h(this,Ne),queryNode:Pe.cloneWithWhere(h(this,Ne).queryNode,Gr(t))})}whereRef(t,r,n){return new gr({...h(this,Ne),queryNode:Pe.cloneWithWhere(h(this,Ne).queryNode,No(t,r,n))})}clearWhere(){return new gr({...h(this,Ne),queryNode:Pe.cloneWithoutWhere(h(this,Ne).queryNode)})}from(t){return new gr({...h(this,Ne),queryNode:ev.cloneWithFromItems(h(this,Ne).queryNode,Gp(t))})}innerJoin(...t){return new gr({...h(this,Ne),queryNode:Pe.cloneWithJoin(h(this,Ne).queryNode,On("InnerJoin",t))})}leftJoin(...t){return new gr({...h(this,Ne),queryNode:Pe.cloneWithJoin(h(this,Ne).queryNode,On("LeftJoin",t))})}rightJoin(...t){return new gr({...h(this,Ne),queryNode:Pe.cloneWithJoin(h(this,Ne).queryNode,On("RightJoin",t))})}fullJoin(...t){return new gr({...h(this,Ne),queryNode:Pe.cloneWithJoin(h(this,Ne).queryNode,On("FullJoin",t))})}set(t){return new gr({...h(this,Ne),queryNode:ev.cloneWithUpdates(h(this,Ne).queryNode,uE(t))})}returning(t){return new gr({...h(this,Ne),queryNode:Pe.cloneWithReturning(h(this,Ne).queryNode,eu(t))})}returningAll(){return new gr({...h(this,Ne),queryNode:Pe.cloneWithReturning(h(this,Ne).queryNode,zp())})}$call(t){return t(this)}$if(t,r){return t?r(this):new gr({...h(this,Ne)})}$castTo(){return new gr(h(this,Ne))}$narrowType(){return new gr(h(this,Ne))}$assertType(){return new gr(h(this,Ne))}withPlugin(t){return new gr({...h(this,Ne),executor:h(this,Ne).executor.withPlugin(t)})}toOperationNode(){return h(this,Ne).executor.transformQuery(h(this,Ne).queryNode,h(this,Ne).queryId)}compile(){return h(this,Ne).executor.compileQuery(this.toOperationNode(),h(this,Ne).queryId)}async execute(){const t=this.compile(),r=t.query,n=await h(this,Ne).executor.executeQuery(t,h(this,Ne).queryId);return h(this,Ne).executor.adapter.supportsReturning&&r.returning?n.rows:[new Sse(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=tv){const r=await this.executeTakeFirst();if(r===void 0)throw rv(t)?new t(this.toOperationNode()):t(this.toOperationNode());return r}async*stream(t=100){const r=this.compile(),n=h(this,Ne).executor.stream(r,t,h(this,Ne).queryId);for await(const i of n)yield*i.rows}async explain(t,r){return await new gr({...h(this,Ne),queryNode:Pe.cloneWithExplain(h(this,Ne).queryNode,t,r)}).execute()}};Ne=new WeakMap;let ov=gr;Ke(ov,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const AF=v({is(e){return e.kind==="CommonTableExpressionNameNode"},create(e,t){return v({kind:"CommonTableExpressionNameNode",table:La.create(e),columns:t?v(t.map(Qt.create)):void 0})}}),av=v({is(e){return e.kind==="CommonTableExpressionNode"},create(e,t){return v({kind:"CommonTableExpressionNode",name:e,expression:t})},cloneWith(e,t){return v({...e,...t})}}),Mv=class Mv{constructor(t){U(this,_o,void 0);J(this,_o,v(t))}materialized(){return new Mv({...h(this,_o),node:av.cloneWith(h(this,_o).node,{materialized:!0})})}notMaterialized(){return new Mv({...h(this,_o),node:av.cloneWith(h(this,_o).node,{materialized:!1})})}toOperationNode(){return h(this,_o).node}};_o=new WeakMap;let lv=Mv;Ke(lv,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function LF(e,t){const r=t(Pse()).toOperationNode();return Vn(e)?e(_se(r)).toOperationNode():av.create(PF(e),r)}function _se(e){return t=>new lv({node:av.create(PF(t),e)})}function PF(e){if(e.includes("(")){const t=e.split(/[\(\)]/),r=t[0],n=t[1].split(",").map(i=>i.trim());return AF.create(r,n)}else return AF.create(e)}const uv=v({is(e){return e.kind==="WithNode"},create(e,t){return v({kind:"WithNode",expressions:v([e]),...t})},cloneWithExpression(e,t){return v({...e,expressions:v([...e.expressions,t])})}}),jF=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function Ese(e){let t="";for(let r=0;r<e;++r)t+=Ose();return t}function Ose(){return jF[~~(Math.random()*jF.length)]}function or(){return new Cse}class Cse{constructor(){U(this,Pd,void 0)}get queryId(){return h(this,Pd)===void 0&&J(this,Pd,Ese(8)),h(this,Pd)}}Pd=new WeakMap;class MF{constructor(){N(this,"nodeStack",[]);U(this,Fv,v({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this)}))}transformNode(t){if(!t)return t;this.nodeStack.push(t);const r=this.transformNodeImpl(t);return this.nodeStack.pop(),v(r)}transformNodeImpl(t){return h(this,Fv)[t.kind](t)}transformNodeList(t){return t&&v(t.map(r=>this.transformNode(r)))}transformSelectQuery(t){return{kind:"SelectQueryNode",from:this.transformNode(t.from),selections:this.transformNodeList(t.selections),distinctOn:this.transformNodeList(t.distinctOn),joins:this.transformNodeList(t.joins),groupBy:this.transformNode(t.groupBy),orderBy:this.transformNode(t.orderBy),where:this.transformNode(t.where),frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),limit:this.transformNode(t.limit),offset:this.transformNode(t.offset),with:this.transformNode(t.with),having:this.transformNode(t.having),explain:this.transformNode(t.explain),setOperations:this.transformNodeList(t.setOperations)}}transformSelection(t){return{kind:"SelectionNode",selection:this.transformNode(t.selection)}}transformColumn(t){return{kind:"ColumnNode",column:this.transformNode(t.column)}}transformAlias(t){return{kind:"AliasNode",node:this.transformNode(t.node),alias:this.transformNode(t.alias)}}transformTable(t){return{kind:"TableNode",table:this.transformNode(t.table)}}transformFrom(t){return{kind:"FromNode",froms:this.transformNodeList(t.froms)}}transformReference(t){return{kind:"ReferenceNode",column:this.transformNode(t.column),table:this.transformNode(t.table)}}transformAnd(t){return{kind:"AndNode",left:this.transformNode(t.left),right:this.transformNode(t.right)}}transformOr(t){return{kind:"OrNode",left:this.transformNode(t.left),right:this.transformNode(t.right)}}transformValueList(t){return{kind:"ValueListNode",values:this.transformNodeList(t.values)}}transformParens(t){return{kind:"ParensNode",node:this.transformNode(t.node)}}transformJoin(t){return{kind:"JoinNode",joinType:t.joinType,table:this.transformNode(t.table),on:this.transformNode(t.on)}}transformRaw(t){return{kind:"RawNode",sqlFragments:v([...t.sqlFragments]),parameters:this.transformNodeList(t.parameters)}}transformWhere(t){return{kind:"WhereNode",where:this.transformNode(t.where)}}transformInsertQuery(t){return{kind:"InsertQueryNode",into:this.transformNode(t.into),columns:this.transformNodeList(t.columns),values:this.transformNode(t.values),returning:this.transformNode(t.returning),onConflict:this.transformNode(t.onConflict),onDuplicateKey:this.transformNode(t.onDuplicateKey),with:this.transformNode(t.with),ignore:t.ignore,replace:t.replace,explain:this.transformNode(t.explain)}}transformValues(t){return{kind:"ValuesNode",values:this.transformNodeList(t.values)}}transformDeleteQuery(t){return{kind:"DeleteQueryNode",from:this.transformNode(t.from),using:this.transformNode(t.using),joins:this.transformNodeList(t.joins),where:this.transformNode(t.where),returning:this.transformNode(t.returning),with:this.transformNode(t.with),orderBy:this.transformNode(t.orderBy),limit:this.transformNode(t.limit),explain:this.transformNode(t.explain)}}transformReturning(t){return{kind:"ReturningNode",selections:this.transformNodeList(t.selections)}}transformCreateTable(t){return{kind:"CreateTableNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),constraints:this.transformNodeList(t.constraints),temporary:t.temporary,ifNotExists:t.ifNotExists,onCommit:t.onCommit,frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers)}}transformColumnDefinition(t){return{kind:"ColumnDefinitionNode",column:this.transformNode(t.column),dataType:this.transformNode(t.dataType),references:this.transformNode(t.references),primaryKey:t.primaryKey,autoIncrement:t.autoIncrement,unique:t.unique,notNull:t.notNull,unsigned:t.unsigned,defaultTo:this.transformNode(t.defaultTo),check:this.transformNode(t.check),generated:this.transformNode(t.generated),frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers)}}transformAddColumn(t){return{kind:"AddColumnNode",column:this.transformNode(t.column)}}transformDropTable(t){return{kind:"DropTableNode",table:this.transformNode(t.table),ifExists:t.ifExists,cascade:t.cascade}}transformOrderBy(t){return{kind:"OrderByNode",items:this.transformNodeList(t.items)}}transformOrderByItem(t){return{kind:"OrderByItemNode",orderBy:this.transformNode(t.orderBy),direction:this.transformNode(t.direction)}}transformGroupBy(t){return{kind:"GroupByNode",items:this.transformNodeList(t.items)}}transformGroupByItem(t){return{kind:"GroupByItemNode",groupBy:this.transformNode(t.groupBy)}}transformUpdateQuery(t){return{kind:"UpdateQueryNode",table:this.transformNode(t.table),from:this.transformNode(t.from),joins:this.transformNodeList(t.joins),where:this.transformNode(t.where),updates:this.transformNodeList(t.updates),returning:this.transformNode(t.returning),with:this.transformNode(t.with),explain:this.transformNode(t.explain)}}transformColumnUpdate(t){return{kind:"ColumnUpdateNode",column:this.transformNode(t.column),value:this.transformNode(t.value)}}transformLimit(t){return{kind:"LimitNode",limit:this.transformNode(t.limit)}}transformOffset(t){return{kind:"OffsetNode",offset:this.transformNode(t.offset)}}transformOnConflict(t){return{kind:"OnConflictNode",columns:this.transformNodeList(t.columns),constraint:this.transformNode(t.constraint),indexExpression:this.transformNode(t.indexExpression),indexWhere:this.transformNode(t.indexWhere),updates:this.transformNodeList(t.updates),updateWhere:this.transformNode(t.updateWhere),doNothing:t.doNothing}}transformOnDuplicateKey(t){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(t.updates)}}transformCreateIndex(t){return{kind:"CreateIndexNode",name:this.transformNode(t.name),table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),unique:t.unique,using:this.transformNode(t.using),ifNotExists:t.ifNotExists,where:this.transformNode(t.where)}}transformList(t){return{kind:"ListNode",items:this.transformNodeList(t.items)}}transformDropIndex(t){return{kind:"DropIndexNode",name:this.transformNode(t.name),table:this.transformNode(t.table),ifExists:t.ifExists,cascade:t.cascade}}transformPrimaryKeyConstraint(t){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(t.columns),name:this.transformNode(t.name)}}transformUniqueConstraint(t){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(t.columns),name:this.transformNode(t.name)}}transformForeignKeyConstraint(t){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(t.columns),references:this.transformNode(t.references),name:this.transformNode(t.name),onDelete:t.onDelete,onUpdate:t.onUpdate}}transformSetOperation(t){return{kind:"SetOperationNode",operator:t.operator,expression:this.transformNode(t.expression),all:t.all}}transformReferences(t){return{kind:"ReferencesNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),onDelete:t.onDelete,onUpdate:t.onUpdate}}transformCheckConstraint(t){return{kind:"CheckConstraintNode",expression:this.transformNode(t.expression),name:this.transformNode(t.name)}}transformWith(t){return{kind:"WithNode",expressions:this.transformNodeList(t.expressions),recursive:t.recursive}}transformCommonTableExpression(t){return{kind:"CommonTableExpressionNode",name:this.transformNode(t.name),materialized:t.materialized,expression:this.transformNode(t.expression)}}transformCommonTableExpressionName(t){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns)}}transformHaving(t){return{kind:"HavingNode",having:this.transformNode(t.having)}}transformCreateSchema(t){return{kind:"CreateSchemaNode",schema:this.transformNode(t.schema),ifNotExists:t.ifNotExists}}transformDropSchema(t){return{kind:"DropSchemaNode",schema:this.transformNode(t.schema),ifExists:t.ifExists,cascade:t.cascade}}transformAlterTable(t){return{kind:"AlterTableNode",table:this.transformNode(t.table),renameTo:this.transformNode(t.renameTo),setSchema:this.transformNode(t.setSchema),columnAlterations:this.transformNodeList(t.columnAlterations),addConstraint:this.transformNode(t.addConstraint),dropConstraint:this.transformNode(t.dropConstraint)}}transformDropColumn(t){return{kind:"DropColumnNode",column:this.transformNode(t.column)}}transformRenameColumn(t){return{kind:"RenameColumnNode",column:this.transformNode(t.column),renameTo:this.transformNode(t.renameTo)}}transformAlterColumn(t){return{kind:"AlterColumnNode",column:this.transformNode(t.column),dataType:this.transformNode(t.dataType),dataTypeExpression:this.transformNode(t.dataTypeExpression),setDefault:this.transformNode(t.setDefault),dropDefault:t.dropDefault,setNotNull:t.setNotNull,dropNotNull:t.dropNotNull}}transformModifyColumn(t){return{kind:"ModifyColumnNode",column:this.transformNode(t.column)}}transformAddConstraint(t){return{kind:"AddConstraintNode",constraint:this.transformNode(t.constraint)}}transformDropConstraint(t){return{kind:"DropConstraintNode",constraintName:this.transformNode(t.constraintName),ifExists:t.ifExists,modifier:t.modifier}}transformCreateView(t){return{kind:"CreateViewNode",name:this.transformNode(t.name),temporary:t.temporary,orReplace:t.orReplace,ifNotExists:t.ifNotExists,materialized:t.materialized,columns:this.transformNodeList(t.columns),as:this.transformNode(t.as)}}transformDropView(t){return{kind:"DropViewNode",name:this.transformNode(t.name),ifExists:t.ifExists,materialized:t.materialized,cascade:t.cascade}}transformGenerated(t){return{kind:"GeneratedNode",byDefault:t.byDefault,always:t.always,identity:t.identity,stored:t.stored,expression:this.transformNode(t.expression)}}transformDefaultValue(t){return{kind:"DefaultValueNode",defaultValue:this.transformNode(t.defaultValue)}}transformOn(t){return{kind:"OnNode",on:this.transformNode(t.on)}}transformSelectModifier(t){return{kind:"SelectModifierNode",modifier:t.modifier,rawModifier:this.transformNode(t.rawModifier)}}transformCreateType(t){return{kind:"CreateTypeNode",name:this.transformNode(t.name),enum:this.transformNode(t.enum)}}transformDropType(t){return{kind:"DropTypeNode",name:this.transformNode(t.name),ifExists:t.ifExists}}transformExplain(t){return{kind:"ExplainNode",format:t.format,options:this.transformNode(t.options)}}transformSchemableIdentifier(t){return{kind:"SchemableIdentifierNode",schema:this.transformNode(t.schema),identifier:this.transformNode(t.identifier)}}transformAggregateFunction(t){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(t.aggregated),distinct:t.distinct,filter:this.transformNode(t.filter),func:t.func,over:this.transformNode(t.over)}}transformOver(t){return{kind:"OverNode",orderBy:this.transformNode(t.orderBy),partitionBy:this.transformNode(t.partitionBy)}}transformPartitionBy(t){return{kind:"PartitionByNode",items:this.transformNodeList(t.items)}}transformPartitionByItem(t){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(t.partitionBy)}}transformBinaryOperation(t){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(t.leftOperand),operator:this.transformNode(t.operator),rightOperand:this.transformNode(t.rightOperand)}}transformUnaryOperation(t){return{kind:"UnaryOperationNode",operator:this.transformNode(t.operator),operand:this.transformNode(t.operand)}}transformUsing(t){return{kind:"UsingNode",tables:this.transformNodeList(t.tables)}}transformFunction(t){return{kind:"FunctionNode",func:t.func,arguments:this.transformNodeList(t.arguments)}}transformCase(t){return{kind:"CaseNode",value:this.transformNode(t.value),when:this.transformNodeList(t.when),else:this.transformNode(t.else),isStatement:t.isStatement}}transformWhen(t){return{kind:"WhenNode",condition:this.transformNode(t.condition),result:this.transformNode(t.result)}}transformJSONReference(t){return{kind:"JSONReferenceNode",reference:this.transformNode(t.reference),traversal:this.transformNode(t.traversal)}}transformJSONPath(t){return{kind:"JSONPathNode",inOperator:this.transformNode(t.inOperator),pathLegs:this.transformNodeList(t.pathLegs)}}transformJSONPathLeg(t){return{kind:"JSONPathLegNode",type:t.type,value:t.value}}transformJSONOperatorChain(t){return{kind:"JSONOperatorChainNode",operator:this.transformNode(t.operator),values:this.transformNodeList(t.values)}}transformTuple(t){return{kind:"TupleNode",values:this.transformNodeList(t.values)}}transformDataType(t){return t}transformSelectAll(t){return t}transformIdentifier(t){return t}transformValue(t){return t}transformPrimitiveValueList(t){return t}transformOperator(t){return t}transformDefaultInsertValue(t){return t}}Fv=new WeakMap;const Tse=v({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0});class Ise extends MF{constructor(r){super();U(this,Dv);U(this,Bv);U(this,Wv);U(this,su);U(this,am);U(this,qv);U(this,jd,void 0);U(this,nu,new Set);U(this,iu,new Set);J(this,jd,r)}transformNodeImpl(r){if(!Dt(this,Dv,O6).call(this,r))return super.transformNodeImpl(r);const n=Dt(this,Wv,T6).call(this,r);for(const o of n)h(this,iu).add(o);const i=Dt(this,Bv,C6).call(this,r);for(const o of i)h(this,nu).add(o);const s=super.transformNodeImpl(r);for(const o of i)h(this,nu).delete(o);for(const o of n)h(this,iu).delete(o);return s}transformSchemableIdentifier(r){const n=super.transformSchemableIdentifier(r);return n.schema||!h(this,nu).has(r.identifier.name)?n:{...n,schema:Ht.create(h(this,jd))}}transformReferences(r){const n=super.transformReferences(r);return n.table.table.schema?n:{...n,table:La.createWithSchema(h(this,jd),n.table.table.identifier.name)}}}jd=new WeakMap,nu=new WeakMap,iu=new WeakMap,Dv=new WeakSet,O6=function(r){return r.kind in Tse},Bv=new WeakSet,C6=function(r){const n=new Set;if("name"in r&&r.name&&Aa.is(r.name)&&Dt(this,am,$E).call(this,r.name,n),"from"in r&&r.from)for(const i of r.from.froms)Dt(this,su,_m).call(this,i,n);if("into"in r&&r.into&&Dt(this,su,_m).call(this,r.into,n),"table"in r&&r.table&&Dt(this,su,_m).call(this,r.table,n),"joins"in r&&r.joins)for(const i of r.joins)Dt(this,su,_m).call(this,i.table,n);return n},Wv=new WeakSet,T6=function(r){const n=new Set;return"with"in r&&r.with&&Dt(this,qv,I6).call(this,r.with,n),n},su=new WeakSet,_m=function(r,n){const i=La.is(r)?r:Yl.is(r)&&La.is(r.node)?r.node:null;i&&Dt(this,am,$E).call(this,i.table,n)},am=new WeakSet,$E=function(r,n){const i=r.identifier.name;!h(this,nu).has(i)&&!h(this,iu).has(i)&&n.add(i)},qv=new WeakSet,I6=function(r,n){for(const i of r.expressions){const s=i.name.table.table.identifier.name;h(this,iu).has(s)||n.add(s)}};class Hp{constructor(t){U(this,lm,void 0);J(this,lm,new Ise(t))}transformQuery(t){return h(this,lm).transformNode(t.node)}async transformResult(t){return t.result}}lm=new WeakMap;const ou=class ou{constructor(t){U(this,et,void 0);J(this,et,v(t))}selectFrom(t){return hv({queryId:or(),executor:h(this,et).executor,queryNode:Be.createFrom(Gp(t),h(this,et).withNode)})}selectNoFrom(t){return hv({queryId:or(),executor:h(this,et).executor,queryNode:Be.cloneWithSelections(Be.create(h(this,et).withNode),eu(t))})}insertInto(t){return new Jp({queryId:or(),executor:h(this,et).executor,queryNode:Ss.create(Kn(t),h(this,et).withNode)})}replaceInto(t){return new Jp({queryId:or(),executor:h(this,et).executor,queryNode:Ss.create(Kn(t),h(this,et).withNode,!0)})}deleteFrom(t){return new sv({queryId:or(),executor:h(this,et).executor,queryNode:Kp.create(Gp(t),h(this,et).withNode)})}updateTable(t){return new ov({queryId:or(),executor:h(this,et).executor,queryNode:ev.create(Yp(t),h(this,et).withNode)})}with(t,r){const n=LF(t,r);return new ou({...h(this,et),withNode:h(this,et).withNode?uv.cloneWithExpression(h(this,et).withNode,n):uv.create(n)})}withRecursive(t,r){const n=LF(t,r);return new ou({...h(this,et),withNode:h(this,et).withNode?uv.cloneWithExpression(h(this,et).withNode,n):uv.create(n,{recursive:!0})})}withPlugin(t){return new ou({...h(this,et),executor:h(this,et).executor.withPlugin(t)})}withoutPlugins(){return new ou({...h(this,et),executor:h(this,et).executor.withoutPlugins()})}withSchema(t){return new ou({...h(this,et),executor:h(this,et).executor.withPluginAtFront(new Hp(t))})}};et=new WeakMap;let cv=ou;class FF{constructor(){U(this,um,void 0);U(this,Md,void 0);U(this,Fd,void 0);N(this,"resolve",t=>{h(this,Md)&&h(this,Md).call(this,t)});N(this,"reject",t=>{h(this,Fd)&&h(this,Fd).call(this,t)});J(this,um,new Promise((t,r)=>{J(this,Fd,r),J(this,Md,t)}))}get promise(){return h(this,um)}}um=new WeakMap,Md=new WeakMap,Fd=new WeakMap;const DF=new Set;function Rse(e){DF.has(e)||(DF.add(e),console.log(e))}const Ase=v([]);class BF{constructor(t=Ase){U(this,cm);U(this,au,void 0);J(this,au,t)}get plugins(){return h(this,au)}transformQuery(t,r){for(const n of h(this,au)){const i=n.transformQuery({node:t,queryId:r});if(i.kind===t.kind)t=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${t.kind}`,`but it returned a ${i.kind}`].join(" "))}return t}async executeQuery(t,r){return await this.provideConnection(async n=>{const i=await n.executeQuery(t),s=await Dt(this,cm,VE).call(this,i,r);return Lse(i,s),s})}async*stream(t,r,n){const i=new FF,s=new FF;this.provideConnection(async a=>(i.resolve(a),await s.promise)).catch(a=>i.reject(a));const o=await i.promise;try{for await(const a of o.streamQuery(t,r))yield await Dt(this,cm,VE).call(this,a,n)}finally{s.resolve()}}}au=new WeakMap,cm=new WeakSet,VE=async function(t,r){for(const n of h(this,au))t=await n.transformResult({result:t,queryId:r});return t};function Lse(e,t){const{numAffectedRows:r}=e;r===void 0&&e.numUpdatedOrDeletedRows===void 0||r!==void 0&&t.numAffectedRows!==void 0||Rse("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class _d extends BF{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(t){return new _d([...this.plugins,t])}withPlugins(t){return new _d([...this.plugins,...t])}withPluginAtFront(t){return new _d([t,...this.plugins])}withoutPlugins(){return new _d([])}}const WF=new _d;function Pse(){return new cv({executor:WF})}function jse(e,t){return new Y0({joinNode:Wp.create(e,Yp(t))})}function Mse(){return new X0({overNode:lE.create()})}function On(e,t){if(t.length===3)return Dse(e,t[0],t[1],t[2]);if(t.length===2)return Fse(e,t[0],t[1]);throw new Error("not implemented")}function Fse(e,t,r){return r(jse(e,t)).toOperationNode()}function Dse(e,t,r,n){return Wp.createWithOn(e,Yp(t),No(r,"=",n))}const Bse=v({is(e){return e.kind==="OffsetNode"},create(e){return v({kind:"OffsetNode",offset:xo.create(e)})}}),Wse=v({is(e){return e.kind==="GroupByItemNode"},create(e){return v({kind:"GroupByItemNode",groupBy:e})}});function qse(e){return e=Vn(e)?e(Cd()):e,Up(e).map(Wse.create)}const qF=v({is(e){return e.kind==="SetOperationNode"},create(e,t,r){return v({kind:"SetOperationNode",operator:e,expression:t,all:r})}});function Ed(e,t,r){return Vn(t)&&(t=t(mE())),Ia(t)||(t=[t]),t.map(n=>qF.create(e,Td(n),r))}const CE=class CE{constructor(t){U(this,Ba,void 0);J(this,Ba,t)}get expressionType(){}as(t){return new cE(this,t)}or(...t){return new dE(kd.create(h(this,Ba),Gr(t)))}and(...t){return new hE(Pa.create(h(this,Ba),Gr(t)))}$castTo(){return new CE(h(this,Ba))}toOperationNode(){return h(this,Ba)}};Ba=new WeakMap;let bt=CE;class cE{constructor(t,r){U(this,Dd,void 0);U(this,Wa,void 0);J(this,Dd,t),J(this,Wa,r)}get expression(){return h(this,Dd)}get alias(){return h(this,Wa)}toOperationNode(){return Yl.create(h(this,Dd).toOperationNode(),qi(h(this,Wa))?h(this,Wa).toOperationNode():Ht.create(h(this,Wa)))}}Dd=new WeakMap,Wa=new WeakMap;const Uv=class Uv{constructor(t){U(this,lu,void 0);J(this,lu,t)}get expressionType(){}as(t){return new cE(this,t)}or(...t){return new Uv(kd.create(h(this,lu),Gr(t)))}$castTo(){return new Uv(h(this,lu))}toOperationNode(){return Nd.create(h(this,lu))}};lu=new WeakMap;let dE=Uv;const $v=class $v{constructor(t){U(this,uu,void 0);J(this,uu,t)}get expressionType(){}as(t){return new cE(this,t)}and(...t){return new $v(Pa.create(h(this,uu),Gr(t)))}$castTo(){return new $v(h(this,uu))}toOperationNode(){return Nd.create(h(this,uu))}};uu=new WeakMap;let hE=$v;const ke=class ke{constructor(t){U(this,$,void 0);J(this,$,v(t))}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...t){return new ke({...h(this,$),queryNode:Pe.cloneWithWhere(h(this,$).queryNode,Gr(t))})}whereRef(t,r,n){return new ke({...h(this,$),queryNode:Pe.cloneWithWhere(h(this,$).queryNode,No(t,r,n))})}having(...t){return new ke({...h(this,$),queryNode:Be.cloneWithHaving(h(this,$).queryNode,Gr(t))})}havingRef(t,r,n){return new ke({...h(this,$),queryNode:Be.cloneWithHaving(h(this,$).queryNode,No(t,r,n))})}select(t){return new ke({...h(this,$),queryNode:Be.cloneWithSelections(h(this,$).queryNode,eu(t))})}distinctOn(t){return new ke({...h(this,$),queryNode:Be.cloneWithDistinctOn(h(this,$).queryNode,Up(t))})}modifyFront(t){return new ke({...h(this,$),queryNode:Be.cloneWithFrontModifier(h(this,$).queryNode,ko.createWithExpression(t.toOperationNode()))})}modifyEnd(t){return new ke({...h(this,$),queryNode:Be.cloneWithEndModifier(h(this,$).queryNode,ko.createWithExpression(t.toOperationNode()))})}distinct(){return new ke({...h(this,$),queryNode:Be.cloneWithFrontModifier(h(this,$).queryNode,ko.create("Distinct"))})}forUpdate(){return new ke({...h(this,$),queryNode:Be.cloneWithEndModifier(h(this,$).queryNode,ko.create("ForUpdate"))})}forShare(){return new ke({...h(this,$),queryNode:Be.cloneWithEndModifier(h(this,$).queryNode,ko.create("ForShare"))})}forKeyShare(){return new ke({...h(this,$),queryNode:Be.cloneWithEndModifier(h(this,$).queryNode,ko.create("ForKeyShare"))})}forNoKeyUpdate(){return new ke({...h(this,$),queryNode:Be.cloneWithEndModifier(h(this,$).queryNode,ko.create("ForNoKeyUpdate"))})}skipLocked(){return new ke({...h(this,$),queryNode:Be.cloneWithEndModifier(h(this,$).queryNode,ko.create("SkipLocked"))})}noWait(){return new ke({...h(this,$),queryNode:Be.cloneWithEndModifier(h(this,$).queryNode,ko.create("NoWait"))})}selectAll(t){return new ke({...h(this,$),queryNode:Be.cloneWithSelections(h(this,$).queryNode,zp(t))})}innerJoin(...t){return new ke({...h(this,$),queryNode:Pe.cloneWithJoin(h(this,$).queryNode,On("InnerJoin",t))})}leftJoin(...t){return new ke({...h(this,$),queryNode:Pe.cloneWithJoin(h(this,$).queryNode,On("LeftJoin",t))})}rightJoin(...t){return new ke({...h(this,$),queryNode:Pe.cloneWithJoin(h(this,$).queryNode,On("RightJoin",t))})}fullJoin(...t){return new ke({...h(this,$),queryNode:Pe.cloneWithJoin(h(this,$).queryNode,On("FullJoin",t))})}innerJoinLateral(...t){return new ke({...h(this,$),queryNode:Pe.cloneWithJoin(h(this,$).queryNode,On("LateralInnerJoin",t))})}leftJoinLateral(...t){return new ke({...h(this,$),queryNode:Pe.cloneWithJoin(h(this,$).queryNode,On("LateralLeftJoin",t))})}orderBy(...t){return new ke({...h(this,$),queryNode:Be.cloneWithOrderByItems(h(this,$).queryNode,Z0(t))})}groupBy(t){return new ke({...h(this,$),queryNode:Be.cloneWithGroupByItems(h(this,$).queryNode,qse(t))})}limit(t){return new ke({...h(this,$),queryNode:Be.cloneWithLimit(h(this,$).queryNode,RF.create(t))})}offset(t){return new ke({...h(this,$),queryNode:Be.cloneWithOffset(h(this,$).queryNode,Bse.create(t))})}union(t){return new ke({...h(this,$),queryNode:Be.cloneWithSetOperations(h(this,$).queryNode,Ed("union",t,!1))})}unionAll(t){return new ke({...h(this,$),queryNode:Be.cloneWithSetOperations(h(this,$).queryNode,Ed("union",t,!0))})}intersect(t){return new ke({...h(this,$),queryNode:Be.cloneWithSetOperations(h(this,$).queryNode,Ed("intersect",t,!1))})}intersectAll(t){return new ke({...h(this,$),queryNode:Be.cloneWithSetOperations(h(this,$).queryNode,Ed("intersect",t,!0))})}except(t){return new ke({...h(this,$),queryNode:Be.cloneWithSetOperations(h(this,$).queryNode,Ed("except",t,!1))})}exceptAll(t){return new ke({...h(this,$),queryNode:Be.cloneWithSetOperations(h(this,$).queryNode,Ed("except",t,!0))})}as(t){return new UF(this,t)}clearSelect(){return new ke({...h(this,$),queryNode:Be.cloneWithoutSelections(h(this,$).queryNode)})}clearWhere(){return new ke({...h(this,$),queryNode:Pe.cloneWithoutWhere(h(this,$).queryNode)})}clearLimit(){return new ke({...h(this,$),queryNode:Be.cloneWithoutLimit(h(this,$).queryNode)})}clearOffset(){return new ke({...h(this,$),queryNode:Be.cloneWithoutOffset(h(this,$).queryNode)})}clearOrderBy(){return new ke({...h(this,$),queryNode:Be.cloneWithoutOrderBy(h(this,$).queryNode)})}$call(t){return t(this)}$if(t,r){return t?r(this):new ke({...h(this,$)})}$castTo(){return new ke(h(this,$))}$narrowType(){return new ke(h(this,$))}$assertType(){return new ke(h(this,$))}$asTuple(){return new bt(this.toOperationNode())}withPlugin(t){return new ke({...h(this,$),executor:h(this,$).executor.withPlugin(t)})}toOperationNode(){return h(this,$).executor.transformQuery(h(this,$).queryNode,h(this,$).queryId)}compile(){return h(this,$).executor.compileQuery(this.toOperationNode(),h(this,$).queryId)}async execute(){const t=this.compile();return(await h(this,$).executor.executeQuery(t,h(this,$).queryId)).rows}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=tv){const r=await this.executeTakeFirst();if(r===void 0)throw rv(t)?new t(this.toOperationNode()):t(this.toOperationNode());return r}async*stream(t=100){const r=this.compile(),n=h(this,$).executor.stream(r,t,h(this,$).queryId);for await(const i of n)yield*i.rows}async explain(t,r){return await new ke({...h(this,$),queryNode:Pe.cloneWithExplain(h(this,$).queryNode,t,r)}).execute()}};$=new WeakMap;let dv=ke;Ke(dv,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function hv(e){return new dv(e)}class UF{constructor(t,r){U(this,Bd,void 0);U(this,Wd,void 0);J(this,Bd,t),J(this,Wd,r)}get expression(){return h(this,Bd)}get alias(){return h(this,Wd)}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Yl.create(h(this,Bd).toOperationNode(),Ht.create(h(this,Wd)))}}Bd=new WeakMap,Wd=new WeakMap,Ke(UF,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Od=v({is(e){return e.kind==="AggregateFunctionNode"},create(e,t=[]){return v({kind:"AggregateFunctionNode",func:e,aggregated:t})},cloneWithDistinct(e){return v({...e,distinct:!0})},cloneWithFilter(e,t){return v({...e,filter:e.filter?En.cloneWithOperation(e.filter,"And",t):En.create(t)})},cloneWithOrFilter(e,t){return v({...e,filter:e.filter?En.cloneWithOperation(e.filter,"Or",t):En.create(t)})},cloneWithOver(e,t){return v({...e,over:t})}}),Use=v({is(e){return e.kind==="FunctionNode"},create(e,t){return v({kind:"FunctionNode",func:e,arguments:t})}}),qd=class qd{constructor(t){U(this,Jn,void 0);J(this,Jn,v(t))}get expressionType(){}as(t){return new $se(this,t)}distinct(){return new qd({...h(this,Jn),aggregateFunctionNode:Od.cloneWithDistinct(h(this,Jn).aggregateFunctionNode)})}filterWhere(...t){return new qd({...h(this,Jn),aggregateFunctionNode:Od.cloneWithFilter(h(this,Jn).aggregateFunctionNode,Gr(t))})}filterWhereRef(t,r,n){return new qd({...h(this,Jn),aggregateFunctionNode:Od.cloneWithFilter(h(this,Jn).aggregateFunctionNode,No(t,r,n))})}over(t){const r=Mse();return new qd({...h(this,Jn),aggregateFunctionNode:Od.cloneWithOver(h(this,Jn).aggregateFunctionNode,(t?t(r):r).toOperationNode())})}$call(t){return t(this)}toOperationNode(){return h(this,Jn).aggregateFunctionNode}};Jn=new WeakMap;let Qp=qd;Ke(Qp,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class $se{constructor(t,r){U(this,Ud,void 0);U(this,$d,void 0);J(this,Ud,t),J(this,$d,r)}get expression(){return h(this,Ud)}get alias(){return h(this,$d)}toOperationNode(){return Yl.create(h(this,Ud).toOperationNode(),Ht.create(h(this,$d)))}}Ud=new WeakMap,$d=new WeakMap;function $F(){const e=(r,n)=>new bt(Use.create(r,Up(n))),t=(r,n)=>new Qp({aggregateFunctionNode:Od.create(r,n?Up(n):void 0)});return Object.assign(e,{agg:t,avg(r){return t("avg",[r])},coalesce(r,...n){return e("coalesce",[r,...n])},count(r){return t("count",[r])},countAll(r){return new Qp({aggregateFunctionNode:Od.create("count",zp(r))})},max(r){return t("max",[r])},min(r){return t("min",[r])},sum(r){return t("sum",[r])},any(r){return e("any",[r])}})}const Vse=v({is(e){return e.kind==="UnaryOperationNode"},create(e,t){return v({kind:"UnaryOperationNode",operator:e,operand:t})}});function zse(e,t){return Vse.create(Xl.create(e),Ui(t))}const fE=v({is(e){return e.kind==="WhenNode"},create(e){return v({kind:"WhenNode",condition:e})},cloneWithResult(e,t){return v({...e,result:t})}}),_s=v({is(e){return e.kind==="CaseNode"},create(e){return v({kind:"CaseNode",value:e})},cloneWithWhen(e,t){return v({...e,when:v(e.when?[...e.when,t]:[t])})},cloneWithThen(e,t){return v({...e,when:e.when?v([...e.when.slice(0,-1),fE.cloneWithResult(e.when[e.when.length-1],t)]):void 0})},cloneWith(e,t){return v({...e,...t})}});class VF{constructor(t){U(this,Vd,void 0);J(this,Vd,v(t))}when(...t){return new zF({...h(this,Vd),node:_s.cloneWithWhen(h(this,Vd).node,fE.create(Gr(t)))})}}Vd=new WeakMap;class zF{constructor(t){U(this,zd,void 0);J(this,zd,v(t))}then(t){return new Kse({...h(this,zd),node:_s.cloneWithThen(h(this,zd).node,iE(t)?sE(t):mi(t))})}}zd=new WeakMap;class Kse{constructor(t){U(this,Es,void 0);J(this,Es,v(t))}when(...t){return new zF({...h(this,Es),node:_s.cloneWithWhen(h(this,Es).node,fE.create(Gr(t)))})}else(t){return new Jse({...h(this,Es),node:_s.cloneWith(h(this,Es).node,{else:iE(t)?sE(t):mi(t)})})}end(){return new bt(_s.cloneWith(h(this,Es).node,{isStatement:!1}))}endCase(){return new bt(_s.cloneWith(h(this,Es).node,{isStatement:!0}))}}Es=new WeakMap;class Jse{constructor(t){U(this,Kd,void 0);J(this,Kd,v(t))}end(){return new bt(_s.cloneWith(h(this,Kd).node,{isStatement:!1}))}endCase(){return new bt(_s.cloneWith(h(this,Kd).node,{isStatement:!0}))}}Kd=new WeakMap;const Hse=v({is(e){return e.kind==="JSONPathLegNode"},create(e,t){return v({kind:"JSONPathLegNode",type:e,value:t})}});class pE{constructor(t){U(this,dm);U(this,qa,void 0);J(this,qa,t)}at(t){return Dt(this,dm,zE).call(this,"ArrayLocation",t)}key(t){return Dt(this,dm,zE).call(this,"Member",t)}}qa=new WeakMap,dm=new WeakSet,zE=function(t,r){return new Qse(eE.cloneWithTraversal(h(this,qa),tE.is(h(this,qa).traversal)?tE.cloneWithLeg(h(this,qa).traversal,Hse.create(t,r)):pF.cloneWithValue(h(this,qa).traversal,xo.createImmediate(r))))};class Qse extends pE{constructor(r){super(r);U(this,Jd,void 0);J(this,Jd,r)}get expressionType(){}as(r){return new Zse(this,r)}$castTo(){return new pE(h(this,Jd))}toOperationNode(){return h(this,Jd)}}Jd=new WeakMap;class Zse{constructor(t,r){U(this,Hd,void 0);U(this,Ua,void 0);J(this,Hd,t),J(this,Ua,r)}get expression(){return h(this,Hd)}get alias(){return h(this,Ua)}toOperationNode(){return Yl.create(h(this,Hd).toOperationNode(),qi(h(this,Ua))?h(this,Ua).toOperationNode():Ht.create(h(this,Ua)))}}Hd=new WeakMap,Ua=new WeakMap;const KF=v({is(e){return e.kind==="TupleNode"},create(e){return v({kind:"TupleNode",values:v(e)})}});function mE(e=WF){function t(i,s,o){return new bt($p(i,s,o))}function r(i,s){return new bt(zse(i,s))}const n=Object.assign(t,{fn:void 0,eb:void 0,selectFrom(i){return hv({queryId:or(),executor:e,queryNode:Be.createFrom(Gp(i))})},selectNoFrom(i){return hv({queryId:or(),executor:e,queryNode:Be.cloneWithSelections(Be.create(),eu(i))})},case(i){return new VF({node:_s.create(Gl(i)?void 0:Ui(i))})},ref(i,s){return Gl(s)?new bt(ja(i)):new pE(sse(i,s))},val(i){return new bt(vF(i))},refTuple(...i){return new bt(KF.create(i.map(Ui)))},tuple(...i){return new bt(KF.create(i.map(mi)))},lit(i){return new bt(sE(i))},cmpr(i,s,o){return new bt($p(i,s,o))},bxp(i,s,o){return new bt($p(i,s,o))},unary:r,not(i){return r("not",i)},exists(i){return r("exists",i)},neg(i){return r("-",i)},between(i,s,o){return new bt(qp.create(Ui(i),Xl.create("between"),Pa.create(mi(s),mi(o))))},betweenSymmetric(i,s,o){return new bt(qp.create(Ui(i),Xl.create("between symmetric"),Pa.create(mi(s),mi(o))))},and(i){return Ia(i)?new bt(oE(i,"and")):new bt(wF(i,"and"))},or(i){return Ia(i)?new bt(oE(i,"or")):new bt(wF(i,"or"))},parens(...i){const s=Gr(i);return Nd.is(s)?new bt(s):new bt(Nd.create(s))},withSchema(i){return mE(e.withPluginAtFront(new Hp(i)))}});return n.fn=$F(),n.eb=n,n}function Cd(e){return mE()}function Td(e){if(qi(e))return e.toOperationNode();if(Vn(e))return e(Cd()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(e)}`)}function JF(e){if(qi(e))return e.toOperationNode();if(Vn(e))return e(Cd()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(e)}`)}function Zp(e){return Qie(e)||Zie(e)||Vn(e)}function Gp(e){return Ia(e)?e.map(t=>Yp(t)):[Yp(e)]}function Yp(e){return xs(e)?Gse(e):JF(e)}function Gse(e){const t=" as ";if(e.includes(t)){const[r,n]=e.split(t).map(HF);return Yl.create(Kn(r),Ht.create(n))}else return Kn(e)}function Kn(e){const t=".";if(e.includes(t)){const[r,n]=e.split(t).map(HF);return La.createWithSchema(r,n)}else return La.create(e)}function HF(e){return e.trim()}const QF=v({is(e){return e.kind==="AddColumnNode"},create(e){return v({kind:"AddColumnNode",column:e})}}),Zt=v({is(e){return e.kind==="ColumnDefinitionNode"},create(e,t){return v({kind:"ColumnDefinitionNode",column:Qt.create(e),dataType:t})},cloneWithFrontModifier(e,t){return v({...e,frontModifiers:e.frontModifiers?v([...e.frontModifiers,t]):[t]})},cloneWithEndModifier(e,t){return v({...e,endModifiers:e.endModifiers?v([...e.endModifiers,t]):[t]})},cloneWith(e,t){return v({...e,...t})}}),ZF=v({is(e){return e.kind==="DropColumnNode"},create(e){return v({kind:"DropColumnNode",column:Qt.create(e)})}}),GF=v({is(e){return e.kind==="RenameColumnNode"},create(e,t){return v({kind:"RenameColumnNode",column:Qt.create(e),renameTo:Qt.create(t)})}}),gE=v({is(e){return e.kind==="CheckConstraintNode"},create(e,t){return v({kind:"CheckConstraintNode",expression:e,name:t?Ht.create(t):void 0})}}),Yse=["no action","restrict","cascade","set null","set default"],fv=v({is(e){return e.kind==="ReferencesNode"},create(e,t){return v({kind:"ReferencesNode",table:e,columns:v([...t])})},cloneWithOnDelete(e,t){return v({...e,onDelete:t})},cloneWithOnUpdate(e,t){return v({...e,onUpdate:t})}});function YF(e){return qi(e)?e.toOperationNode():xo.createImmediate(e)}const pv=v({is(e){return e.kind==="GeneratedNode"},create(e){return v({kind:"GeneratedNode",...e})},createWithExpression(e){return v({kind:"GeneratedNode",always:!0,expression:e})},cloneWith(e,t){return v({...e,...t})}}),Xse=v({is(e){return e.kind==="DefaultValueNode"},create(e){return v({kind:"DefaultValueNode",defaultValue:e})}});function mv(e){if(Yse.includes(e))return e;throw new Error(`invalid OnModifyForeignAction ${e}`)}const kr=class kr{constructor(t){U(this,it,void 0);J(this,it,t)}autoIncrement(){return new kr(Zt.cloneWith(h(this,it),{autoIncrement:!0}))}primaryKey(){return new kr(Zt.cloneWith(h(this,it),{primaryKey:!0}))}references(t){const r=ja(t);if(!r.table||G2.is(r.column))throw new Error(`invalid call references('${t}'). The reference must have format table.column or schema.table.column`);return new kr(Zt.cloneWith(h(this,it),{references:fv.create(r.table,[r.column])}))}onDelete(t){if(!h(this,it).references)throw new Error("on delete constraint can only be added for foreign keys");return new kr(Zt.cloneWith(h(this,it),{references:fv.cloneWithOnDelete(h(this,it).references,mv(t))}))}onUpdate(t){if(!h(this,it).references)throw new Error("on update constraint can only be added for foreign keys");return new kr(Zt.cloneWith(h(this,it),{references:fv.cloneWithOnUpdate(h(this,it).references,mv(t))}))}unique(){return new kr(Zt.cloneWith(h(this,it),{unique:!0}))}notNull(){return new kr(Zt.cloneWith(h(this,it),{notNull:!0}))}unsigned(){return new kr(Zt.cloneWith(h(this,it),{unsigned:!0}))}defaultTo(t){return new kr(Zt.cloneWith(h(this,it),{defaultTo:Xse.create(YF(t))}))}check(t){return new kr(Zt.cloneWith(h(this,it),{check:gE.create(t.toOperationNode())}))}generatedAlwaysAs(t){return new kr(Zt.cloneWith(h(this,it),{generated:pv.createWithExpression(t.toOperationNode())}))}generatedAlwaysAsIdentity(){return new kr(Zt.cloneWith(h(this,it),{generated:pv.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new kr(Zt.cloneWith(h(this,it),{generated:pv.create({identity:!0,byDefault:!0})}))}stored(){if(!h(this,it).generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new kr(Zt.cloneWith(h(this,it),{generated:pv.cloneWith(h(this,it).generated,{stored:!0})}))}modifyFront(t){return new kr(Zt.cloneWithFrontModifier(h(this,it),t.toOperationNode()))}modifyEnd(t){return new kr(Zt.cloneWithEndModifier(h(this,it),t.toOperationNode()))}$call(t){return t(this)}toOperationNode(){return h(this,it)}};it=new WeakMap;let Ma=kr;Ke(Ma,"don't await ColumnDefinitionBuilder instances directly.");const XF=v({is(e){return e.kind==="ModifyColumnNode"},create(e){return v({kind:"ModifyColumnNode",column:e})}}),eoe=v({is(e){return e.kind==="DataTypeNode"},create(e){return v({kind:"DataTypeNode",dataType:e})}});function Id(e){return qi(e)?e.toOperationNode():eoe.create(e)}const gv=v({is(e){return e.kind==="ForeignKeyConstraintNode"},create(e,t,r,n){return v({kind:"ForeignKeyConstraintNode",columns:e,references:fv.create(t,r),name:n?Ht.create(n):void 0})},cloneWith(e,t){return v({...e,...t})}}),Vv=class Vv{constructor(t){U(this,cu,void 0);J(this,cu,t)}onDelete(t){return new Vv(gv.cloneWith(h(this,cu),{onDelete:mv(t)}))}onUpdate(t){return new Vv(gv.cloneWith(h(this,cu),{onUpdate:mv(t)}))}$call(t){return t(this)}toOperationNode(){return h(this,cu)}};cu=new WeakMap;let Xp=Vv;Ke(Xp,"don't await ForeignKeyConstraintBuilder instances directly.");const yv=v({is(e){return e.kind==="AddConstraintNode"},create(e){return v({kind:"AddConstraintNode",constraint:e})}}),e6=v({is(e){return e.kind==="UniqueConstraintNode"},create(e,t){return v({kind:"UniqueConstraintNode",columns:v(e.map(Qt.create)),name:t?Ht.create(t):void 0})}}),bv=v({is(e){return e.kind==="DropConstraintNode"},create(e){return v({kind:"DropConstraintNode",constraintName:Ht.create(e)})},cloneWith(e,t){return v({...e,...t})}}),em=v({is(e){return e.kind==="AlterColumnNode"},create(e,t,r){return v({kind:"AlterColumnNode",column:Qt.create(e),[t]:r})}});class yE{constructor(t){U(this,Eo,void 0);J(this,Eo,t)}setDataType(t){return new tm(em.create(h(this,Eo),"dataType",Id(t)))}setDefault(t){return new tm(em.create(h(this,Eo),"setDefault",YF(t)))}dropDefault(){return new tm(em.create(h(this,Eo),"dropDefault",!0))}setNotNull(){return new tm(em.create(h(this,Eo),"setNotNull",!0))}dropNotNull(){return new tm(em.create(h(this,Eo),"dropNotNull",!0))}$call(t){return t(this)}}Eo=new WeakMap;class tm{constructor(t){U(this,hm,void 0);J(this,hm,t)}toOperationNode(){return h(this,hm)}}hm=new WeakMap;class Rd{constructor(t){U(this,zi,void 0);J(this,zi,v(t))}toOperationNode(){return h(this,zi).executor.transformQuery(h(this,zi).node,h(this,zi).queryId)}compile(){return h(this,zi).executor.compileQuery(this.toOperationNode(),h(this,zi).queryId)}async execute(){await h(this,zi).executor.executeQuery(this.compile(),h(this,zi).queryId)}}zi=new WeakMap,Ke(Rd,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");const zv=class zv{constructor(t){U(this,Xr,void 0);J(this,Xr,v(t))}onDelete(t){return new zv({...h(this,Xr),constraintBuilder:h(this,Xr).constraintBuilder.onDelete(t)})}onUpdate(t){return new zv({...h(this,Xr),constraintBuilder:h(this,Xr).constraintBuilder.onUpdate(t)})}$call(t){return t(this)}toOperationNode(){return h(this,Xr).executor.transformQuery(Jt.cloneWithTableProps(h(this,Xr).node,{addConstraint:yv.create(h(this,Xr).constraintBuilder.toOperationNode())}),h(this,Xr).queryId)}compile(){return h(this,Xr).executor.compileQuery(this.toOperationNode(),h(this,Xr).queryId)}async execute(){await h(this,Xr).executor.executeQuery(this.compile(),h(this,Xr).queryId)}};Xr=new WeakMap;let vv=zv;Ke(vv,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");const fm=class fm{constructor(t){U(this,lr,void 0);J(this,lr,v(t))}ifExists(){return new fm({...h(this,lr),node:Jt.cloneWithTableProps(h(this,lr).node,{dropConstraint:bv.cloneWith(h(this,lr).node.dropConstraint,{ifExists:!0})})})}cascade(){return new fm({...h(this,lr),node:Jt.cloneWithTableProps(h(this,lr).node,{dropConstraint:bv.cloneWith(h(this,lr).node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new fm({...h(this,lr),node:Jt.cloneWithTableProps(h(this,lr).node,{dropConstraint:bv.cloneWith(h(this,lr).node.dropConstraint,{modifier:"restrict"})})})}$call(t){return t(this)}toOperationNode(){return h(this,lr).executor.transformQuery(h(this,lr).node,h(this,lr).queryId)}compile(){return h(this,lr).executor.compileQuery(this.toOperationNode(),h(this,lr).queryId)}async execute(){await h(this,lr).executor.executeQuery(this.compile(),h(this,lr).queryId)}};lr=new WeakMap;let wv=fm;Ke(wv,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const t6=v({is(e){return e.kind==="PrimaryKeyConstraintNode"},create(e,t){return v({kind:"PrimaryKeyConstraintNode",columns:v(e.map(Qt.create)),name:t?Ht.create(t):void 0})}});class r6{constructor(t){U(this,st,void 0);J(this,st,v(t))}renameTo(t){return new Rd({...h(this,st),node:Jt.cloneWithTableProps(h(this,st).node,{renameTo:Kn(t)})})}setSchema(t){return new Rd({...h(this,st),node:Jt.cloneWithTableProps(h(this,st).node,{setSchema:Ht.create(t)})})}alterColumn(t,r){const n=r(new yE(t));return new Fa({...h(this,st),node:Jt.cloneWithColumnAlteration(h(this,st).node,n.toOperationNode())})}dropColumn(t){return new Fa({...h(this,st),node:Jt.cloneWithColumnAlteration(h(this,st).node,ZF.create(t))})}renameColumn(t,r){return new Fa({...h(this,st),node:Jt.cloneWithColumnAlteration(h(this,st).node,GF.create(t,r))})}addColumn(t,r,n=wd){const i=n(new Ma(Zt.create(t,Id(r))));return new Fa({...h(this,st),node:Jt.cloneWithColumnAlteration(h(this,st).node,QF.create(i.toOperationNode()))})}modifyColumn(t,r,n=wd){const i=n(new Ma(Zt.create(t,Id(r))));return new Fa({...h(this,st),node:Jt.cloneWithColumnAlteration(h(this,st).node,XF.create(i.toOperationNode()))})}addUniqueConstraint(t,r){return new Rd({...h(this,st),node:Jt.cloneWithTableProps(h(this,st).node,{addConstraint:yv.create(e6.create(r,t))})})}addCheckConstraint(t,r){return new Rd({...h(this,st),node:Jt.cloneWithTableProps(h(this,st).node,{addConstraint:yv.create(gE.create(r.toOperationNode(),t))})})}addForeignKeyConstraint(t,r,n,i){return new vv({...h(this,st),constraintBuilder:new Xp(gv.create(r.map(Qt.create),Kn(n),i.map(Qt.create),t))})}addPrimaryKeyConstraint(t,r){return new Rd({...h(this,st),node:Jt.cloneWithTableProps(h(this,st).node,{addConstraint:yv.create(t6.create(r,t))})})}dropConstraint(t){return new wv({...h(this,st),node:Jt.cloneWithTableProps(h(this,st).node,{dropConstraint:bv.create(t)})})}$call(t){return t(this)}}st=new WeakMap;const du=class du{constructor(t){U(this,Gt,void 0);J(this,Gt,v(t))}alterColumn(t,r){const n=r(new yE(t));return new du({...h(this,Gt),node:Jt.cloneWithColumnAlteration(h(this,Gt).node,n.toOperationNode())})}dropColumn(t){return new du({...h(this,Gt),node:Jt.cloneWithColumnAlteration(h(this,Gt).node,ZF.create(t))})}renameColumn(t,r){return new du({...h(this,Gt),node:Jt.cloneWithColumnAlteration(h(this,Gt).node,GF.create(t,r))})}addColumn(t,r,n=wd){const i=n(new Ma(Zt.create(t,Id(r))));return new du({...h(this,Gt),node:Jt.cloneWithColumnAlteration(h(this,Gt).node,QF.create(i.toOperationNode()))})}modifyColumn(t,r,n=wd){const i=n(new Ma(Zt.create(t,Id(r))));return new du({...h(this,Gt),node:Jt.cloneWithColumnAlteration(h(this,Gt).node,XF.create(i.toOperationNode()))})}toOperationNode(){return h(this,Gt).executor.transformQuery(h(this,Gt).node,h(this,Gt).queryId)}compile(){return h(this,Gt).executor.compileQuery(this.toOperationNode(),h(this,Gt).queryId)}async execute(){await h(this,Gt).executor.executeQuery(this.compile(),h(this,Gt).queryId)}};Gt=new WeakMap;let Fa=du;Ke(r6,"don't await AlterTableBuilder instances"),Ke(yE,"don't await AlterColumnBuilder instances"),Ke(Fa,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class n6 extends MF{transformValue(t){return{...super.transformValue(t),immediate:!0}}}const Os=class Os{constructor(t){U(this,ot,void 0);J(this,ot,v(t))}ifNotExists(){return new Os({...h(this,ot),node:Ra.cloneWith(h(this,ot).node,{ifNotExists:!0})})}unique(){return new Os({...h(this,ot),node:Ra.cloneWith(h(this,ot).node,{unique:!0})})}on(t){return new Os({...h(this,ot),node:Ra.cloneWith(h(this,ot).node,{table:Kn(t)})})}column(t){return new Os({...h(this,ot),node:Ra.cloneWithColumns(h(this,ot).node,[yF(t)])})}columns(t){return new Os({...h(this,ot),node:Ra.cloneWithColumns(h(this,ot).node,t.map(yF))})}expression(t){return new Os({...h(this,ot),node:Ra.cloneWithColumns(h(this,ot).node,[t.toOperationNode()])})}using(t){return new Os({...h(this,ot),node:Ra.cloneWith(h(this,ot).node,{using:xd.createWithSql(t)})})}where(...t){const r=new n6;return new Os({...h(this,ot),node:Pe.cloneWithWhere(h(this,ot).node,r.transformNode(Gr(t)))})}$call(t){return t(this)}toOperationNode(){return h(this,ot).executor.transformQuery(h(this,ot).node,h(this,ot).queryId)}compile(){return h(this,ot).executor.compileQuery(this.toOperationNode(),h(this,ot).queryId)}async execute(){await h(this,ot).executor.executeQuery(this.compile(),h(this,ot).queryId)}};ot=new WeakMap;let kv=Os;Ke(kv,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");const TE=class TE{constructor(t){U(this,Hn,void 0);J(this,Hn,v(t))}ifNotExists(){return new TE({...h(this,Hn),node:lF.cloneWith(h(this,Hn).node,{ifNotExists:!0})})}$call(t){return t(this)}toOperationNode(){return h(this,Hn).executor.transformQuery(h(this,Hn).node,h(this,Hn).queryId)}compile(){return h(this,Hn).executor.compileQuery(this.toOperationNode(),h(this,Hn).queryId)}async execute(){await h(this,Hn).executor.executeQuery(this.compile(),h(this,Hn).queryId)}};Hn=new WeakMap;let xv=TE;Ke(xv,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function toe(e){if(Hie.includes(e))return e;throw new Error(`invalid OnCommitAction ${e}`)}const gi=class gi{constructor(t){U(this,Ge,void 0);J(this,Ge,v(t))}temporary(){return new gi({...h(this,Ge),node:Wi.cloneWith(h(this,Ge).node,{temporary:!0})})}onCommit(t){return new gi({...h(this,Ge),node:Wi.cloneWith(h(this,Ge).node,{onCommit:toe(t)})})}ifNotExists(){return new gi({...h(this,Ge),node:Wi.cloneWith(h(this,Ge).node,{ifNotExists:!0})})}addColumn(t,r,n=wd){const i=n(new Ma(Zt.create(t,Id(r))));return new gi({...h(this,Ge),node:Wi.cloneWithColumn(h(this,Ge).node,i.toOperationNode())})}addPrimaryKeyConstraint(t,r){return new gi({...h(this,Ge),node:Wi.cloneWithConstraint(h(this,Ge).node,t6.create(r,t))})}addUniqueConstraint(t,r){return new gi({...h(this,Ge),node:Wi.cloneWithConstraint(h(this,Ge).node,e6.create(r,t))})}addCheckConstraint(t,r){return new gi({...h(this,Ge),node:Wi.cloneWithConstraint(h(this,Ge).node,gE.create(r.toOperationNode(),t))})}addForeignKeyConstraint(t,r,n,i,s=wd){const o=s(new Xp(gv.create(r.map(Qt.create),Kn(n),i.map(Qt.create),t)));return new gi({...h(this,Ge),node:Wi.cloneWithConstraint(h(this,Ge).node,o.toOperationNode())})}modifyFront(t){return new gi({...h(this,Ge),node:Wi.cloneWithFrontModifier(h(this,Ge).node,t.toOperationNode())})}modifyEnd(t){return new gi({...h(this,Ge),node:Wi.cloneWithEndModifier(h(this,Ge).node,t.toOperationNode())})}$call(t){return t(this)}toOperationNode(){return h(this,Ge).executor.transformQuery(h(this,Ge).node,h(this,Ge).queryId)}compile(){return h(this,Ge).executor.compileQuery(this.toOperationNode(),h(this,Ge).queryId)}async execute(){await h(this,Ge).executor.executeQuery(this.compile(),h(this,Ge).queryId)}};Ge=new WeakMap;let Nv=gi;Ke(Nv,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");const pm=class pm{constructor(t){U(this,jr,void 0);J(this,jr,v(t))}on(t){return new pm({...h(this,jr),node:H0.cloneWith(h(this,jr).node,{table:Kn(t)})})}ifExists(){return new pm({...h(this,jr),node:H0.cloneWith(h(this,jr).node,{ifExists:!0})})}cascade(){return new pm({...h(this,jr),node:H0.cloneWith(h(this,jr).node,{cascade:!0})})}$call(t){return t(this)}toOperationNode(){return h(this,jr).executor.transformQuery(h(this,jr).node,h(this,jr).queryId)}compile(){return h(this,jr).executor.compileQuery(this.toOperationNode(),h(this,jr).queryId)}async execute(){await h(this,jr).executor.executeQuery(this.compile(),h(this,jr).queryId)}};jr=new WeakMap;let Sv=pm;Ke(Sv,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");const Kv=class Kv{constructor(t){U(this,gn,void 0);J(this,gn,v(t))}ifExists(){return new Kv({...h(this,gn),node:H2.cloneWith(h(this,gn).node,{ifExists:!0})})}cascade(){return new Kv({...h(this,gn),node:H2.cloneWith(h(this,gn).node,{cascade:!0})})}$call(t){return t(this)}toOperationNode(){return h(this,gn).executor.transformQuery(h(this,gn).node,h(this,gn).queryId)}compile(){return h(this,gn).executor.compileQuery(this.toOperationNode(),h(this,gn).queryId)}async execute(){await h(this,gn).executor.executeQuery(this.compile(),h(this,gn).queryId)}};gn=new WeakMap;let _v=Kv;Ke(_v,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");const Jv=class Jv{constructor(t){U(this,yn,void 0);J(this,yn,v(t))}ifExists(){return new Jv({...h(this,yn),node:Q2.cloneWith(h(this,yn).node,{ifExists:!0})})}cascade(){return new Jv({...h(this,yn),node:Q2.cloneWith(h(this,yn).node,{cascade:!0})})}$call(t){return t(this)}toOperationNode(){return h(this,yn).executor.transformQuery(h(this,yn).node,h(this,yn).queryId)}compile(){return h(this,yn).executor.compileQuery(this.toOperationNode(),h(this,yn).queryId)}async execute(){await h(this,yn).executor.executeQuery(this.compile(),h(this,yn).queryId)}};yn=new WeakMap;let Ev=Jv;Ke(Ev,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Da=v({is(e){return e.kind==="CreateViewNode"},create(e){return v({kind:"CreateViewNode",name:Aa.create(e)})},cloneWith(e,t){return v({...e,...t})}});class roe{constructor(){U(this,Hv,new n6)}transformQuery(t){return h(this,Hv).transformNode(t.node)}transformResult(t){return Promise.resolve(t.result)}}Hv=new WeakMap;const $a=class $a{constructor(t){U(this,At,void 0);J(this,At,v(t))}temporary(){return new $a({...h(this,At),node:Da.cloneWith(h(this,At).node,{temporary:!0})})}materialized(){return new $a({...h(this,At),node:Da.cloneWith(h(this,At).node,{materialized:!0})})}ifNotExists(){return new $a({...h(this,At),node:Da.cloneWith(h(this,At).node,{ifNotExists:!0})})}orReplace(){return new $a({...h(this,At),node:Da.cloneWith(h(this,At).node,{orReplace:!0})})}columns(t){return new $a({...h(this,At),node:Da.cloneWith(h(this,At).node,{columns:t.map(gF)})})}as(t){const r=t.withPlugin(new roe).toOperationNode();return new $a({...h(this,At),node:Da.cloneWith(h(this,At).node,{as:r})})}$call(t){return t(this)}toOperationNode(){return h(this,At).executor.transformQuery(h(this,At).node,h(this,At).queryId)}compile(){return h(this,At).executor.compileQuery(this.toOperationNode(),h(this,At).queryId)}async execute(){await h(this,At).executor.executeQuery(this.compile(),h(this,At).queryId)}};At=new WeakMap;let Ov=$a;Ke(Ov,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Cv=v({is(e){return e.kind==="DropViewNode"},create(e){return v({kind:"DropViewNode",name:Aa.create(e)})},cloneWith(e,t){return v({...e,...t})}}),mm=class mm{constructor(t){U(this,Mr,void 0);J(this,Mr,v(t))}materialized(){return new mm({...h(this,Mr),node:Cv.cloneWith(h(this,Mr).node,{materialized:!0})})}ifExists(){return new mm({...h(this,Mr),node:Cv.cloneWith(h(this,Mr).node,{ifExists:!0})})}cascade(){return new mm({...h(this,Mr),node:Cv.cloneWith(h(this,Mr).node,{cascade:!0})})}$call(t){return t(this)}toOperationNode(){return h(this,Mr).executor.transformQuery(h(this,Mr).node,h(this,Mr).queryId)}compile(){return h(this,Mr).executor.compileQuery(this.toOperationNode(),h(this,Mr).queryId)}async execute(){await h(this,Mr).executor.executeQuery(this.compile(),h(this,Mr).queryId)}};Mr=new WeakMap;let Tv=mm;Ke(Tv,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const i6=v({is(e){return e.kind==="CreateTypeNode"},create(e){return v({kind:"CreateTypeNode",name:e})},cloneWithEnum(e,t){return v({...e,enum:nE.create(t.map(r=>xo.createImmediate(r)))})}}),IE=class IE{constructor(t){U(this,Qn,void 0);J(this,Qn,v(t))}toOperationNode(){return h(this,Qn).executor.transformQuery(h(this,Qn).node,h(this,Qn).queryId)}asEnum(t){return new IE({...h(this,Qn),node:i6.cloneWithEnum(h(this,Qn).node,t)})}$call(t){return t(this)}compile(){return h(this,Qn).executor.compileQuery(this.toOperationNode(),h(this,Qn).queryId)}async execute(){await h(this,Qn).executor.executeQuery(this.compile(),h(this,Qn).queryId)}};Qn=new WeakMap;let Iv=IE;Ke(Iv,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const s6=v({is(e){return e.kind==="DropTypeNode"},create(e){return v({kind:"DropTypeNode",name:e})},cloneWith(e,t){return v({...e,...t})}}),RE=class RE{constructor(t){U(this,Zn,void 0);J(this,Zn,v(t))}ifExists(){return new RE({...h(this,Zn),node:s6.cloneWith(h(this,Zn).node,{ifExists:!0})})}$call(t){return t(this)}toOperationNode(){return h(this,Zn).executor.transformQuery(h(this,Zn).node,h(this,Zn).queryId)}compile(){return h(this,Zn).executor.compileQuery(this.toOperationNode(),h(this,Zn).queryId)}async execute(){await h(this,Zn).executor.executeQuery(this.compile(),h(this,Zn).queryId)}};Zn=new WeakMap;let Rv=RE;Ke(Rv,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function o6(e){const t=".";if(e.includes(t)){const r=e.split(t).map(noe);if(r.length===2)return Aa.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${e}`)}else return Aa.create(e)}function noe(e){return e.trim()}const gm=class gm{constructor(t){U(this,xr,void 0);J(this,xr,t)}createTable(t){return new Nv({queryId:or(),executor:h(this,xr),node:Wi.create(Kn(t))})}dropTable(t){return new Ev({queryId:or(),executor:h(this,xr),node:Q2.create(Kn(t))})}createIndex(t){return new kv({queryId:or(),executor:h(this,xr),node:Ra.create(t)})}dropIndex(t){return new Sv({queryId:or(),executor:h(this,xr),node:H0.create(t)})}createSchema(t){return new xv({queryId:or(),executor:h(this,xr),node:lF.create(t)})}dropSchema(t){return new _v({queryId:or(),executor:h(this,xr),node:H2.create(t)})}alterTable(t){return new r6({queryId:or(),executor:h(this,xr),node:Jt.create(Kn(t))})}createView(t){return new Ov({queryId:or(),executor:h(this,xr),node:Da.create(t)})}dropView(t){return new Tv({queryId:or(),executor:h(this,xr),node:Cv.create(t)})}createType(t){return new Iv({queryId:or(),executor:h(this,xr),node:i6.create(o6(t))})}dropType(t){return new Rv({queryId:or(),executor:h(this,xr),node:s6.create(o6(t))})}withPlugin(t){return new gm(h(this,xr).withPlugin(t))}withoutPlugins(){return new gm(h(this,xr).withoutPlugins())}withSchema(t){return new gm(h(this,xr).withPluginAtFront(new Hp(t)))}};xr=new WeakMap;let bE=gm;class ioe{ref(t){return new nse(t)}}class soe{constructor(t){U(this,Qd,void 0);J(this,Qd,t)}async provideConnection(t){const r=await h(this,Qd).acquireConnection();try{return await t(r)}finally{await h(this,Qd).releaseConnection(r)}}}Qd=new WeakMap;const hu=class hu extends BF{constructor(r,n,i,s=[]){super(s);U(this,Cs,void 0);U(this,Ts,void 0);U(this,Oo,void 0);J(this,Cs,r),J(this,Ts,n),J(this,Oo,i)}get adapter(){return h(this,Ts)}compileQuery(r){return h(this,Cs).compileQuery(r)}provideConnection(r){return h(this,Oo).provideConnection(r)}withPlugins(r){return new hu(h(this,Cs),h(this,Ts),h(this,Oo),[...this.plugins,...r])}withPlugin(r){return new hu(h(this,Cs),h(this,Ts),h(this,Oo),[...this.plugins,r])}withPluginAtFront(r){return new hu(h(this,Cs),h(this,Ts),h(this,Oo),[r,...this.plugins])}withConnectionProvider(r){return new hu(h(this,Cs),h(this,Ts),r,[...this.plugins])}withoutPlugins(){return new hu(h(this,Cs),h(this,Ts),h(this,Oo),[])}};Cs=new WeakMap,Ts=new WeakMap,Oo=new WeakMap;let vE=hu;function a6(){return typeof performance<"u"&&Vn(performance.now)?performance.now():Date.now()}class ooe{constructor(t,r){U(this,Qv);U(this,Zv);U(this,Gv);U(this,Yv);U(this,bm);U(this,Ki,void 0);U(this,Va,void 0);U(this,Co,void 0);U(this,Zd,void 0);U(this,To,void 0);U(this,ym,new WeakSet);J(this,Zd,!1),J(this,Ki,t),J(this,Va,r)}async init(){if(h(this,To))throw new Error("driver has already been destroyed");h(this,Co)||J(this,Co,h(this,Ki).init().then(()=>{J(this,Zd,!0)}).catch(t=>(J(this,Co,void 0),Promise.reject(t)))),await h(this,Co)}async acquireConnection(){if(h(this,To))throw new Error("driver has already been destroyed");h(this,Zd)||await this.init();const t=await h(this,Ki).acquireConnection();return h(this,ym).has(t)||(Dt(this,Qv,R6).call(this)&&Dt(this,Zv,A6).call(this,t),h(this,ym).add(t)),t}async releaseConnection(t){await h(this,Ki).releaseConnection(t)}beginTransaction(t,r){return h(this,Ki).beginTransaction(t,r)}commitTransaction(t){return h(this,Ki).commitTransaction(t)}rollbackTransaction(t){return h(this,Ki).rollbackTransaction(t)}async destroy(){h(this,Co)&&(await h(this,Co),h(this,To)||J(this,To,h(this,Ki).destroy().catch(t=>(J(this,To,void 0),Promise.reject(t)))),await h(this,To))}}Ki=new WeakMap,Va=new WeakMap,Co=new WeakMap,Zd=new WeakMap,To=new WeakMap,ym=new WeakMap,Qv=new WeakSet,R6=function(){return h(this,Va).isLevelEnabled("query")||h(this,Va).isLevelEnabled("error")},Zv=new WeakSet,A6=function(t){const r=t.executeQuery;t.executeQuery=async n=>{const i=a6();try{return await r.call(t,n)}catch(s){throw await Dt(this,Gv,L6).call(this,s,n,i),s}finally{await Dt(this,Yv,P6).call(this,n,i)}}},Gv=new WeakSet,L6=async function(t,r,n){await h(this,Va).error(()=>({level:"error",error:t,query:r,queryDurationMillis:Dt(this,bm,KE).call(this,n)}))},Yv=new WeakSet,P6=async function(t,r){await h(this,Va).query(()=>({level:"query",query:t,queryDurationMillis:Dt(this,bm,KE).call(this,r)}))},bm=new WeakSet,KE=function(t){return a6()-t};class l6{constructor(t){U(this,Xv);U(this,vm,void 0);U(this,za,void 0);J(this,vm,t)}async provideConnection(t){for(;h(this,za);)await h(this,za);const r=Dt(this,Xv,j6).call(this,t);return J(this,za,r.then(()=>{J(this,za,void 0)}).catch(()=>{J(this,za,void 0)})),r}}vm=new WeakMap,za=new WeakMap,Xv=new WeakSet,j6=async function(t){return await t(h(this,vm))};const aoe=["read uncommitted","read committed","repeatable read","serializable"];v(["query","error"]);class loe{constructor(t){U(this,Ka,void 0);U(this,fu,void 0);Vn(t)?(J(this,fu,t),J(this,Ka,v({query:!0,error:!0}))):(J(this,fu,uoe),J(this,Ka,v({query:t.includes("query"),error:t.includes("error")})))}isLevelEnabled(t){return h(this,Ka)[t]}async query(t){h(this,Ka).query&&await h(this,fu).call(this,t())}async error(t){h(this,Ka).error&&await h(this,fu).call(this,t())}}Ka=new WeakMap,fu=new WeakMap;function uoe(e){e.level==="query"?(console.log(`kysely:query: ${e.query.sql}`),console.log(`kysely:query: duration: ${e.queryDurationMillis.toFixed(1)}ms`)):e.level==="error"&&(e.error instanceof Error?console.error(`kysely:error: ${e.error.stack??e.error.message}`):console.error(`kysely:error: ${e}`))}function coe(e){return Ns(e)&&Vn(e.compile)}const Gd=class Gd extends cv{constructor(r){let n,i;if(doe(r))n={executor:r.executor},i={...r};else{const s=r.dialect,o=s.createDriver(),a=s.createQueryCompiler(),l=s.createAdapter(),u=new loe(r.log??[]),d=new ooe(o,u),c=new soe(d),f=new vE(a,l,c,r.plugins??[]);n={executor:f},i={config:r,executor:f,dialect:s,driver:d}}super(n);U(this,Fr,void 0);J(this,Fr,v(i))}get schema(){return new bE(h(this,Fr).executor)}get dynamic(){return new ioe}get introspection(){return h(this,Fr).dialect.createIntrospector(this.withoutPlugins())}case(r){return new VF({node:_s.create(Gl(r)?void 0:Td(r))})}get fn(){return $F()}transaction(){return new Av({...h(this,Fr)})}connection(){return new u6({...h(this,Fr)})}withPlugin(r){return new Gd({...h(this,Fr),executor:h(this,Fr).executor.withPlugin(r)})}withoutPlugins(){return new Gd({...h(this,Fr),executor:h(this,Fr).executor.withoutPlugins()})}withSchema(r){return new Gd({...h(this,Fr),executor:h(this,Fr).executor.withPluginAtFront(new Hp(r))})}withTables(){return new Gd({...h(this,Fr)})}async destroy(){await h(this,Fr).driver.destroy()}get isTransaction(){return!1}getExecutor(){return h(this,Fr).executor}executeQuery(r,n=or()){const i=coe(r)?r.compile():r;return this.getExecutor().executeQuery(i,n)}};Fr=new WeakMap;let rm=Gd;const Yd=class Yd extends rm{constructor(r){super(r);U(this,Ji,void 0);J(this,Ji,r)}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(r){return new Yd({...h(this,Ji),executor:h(this,Ji).executor.withPlugin(r)})}withoutPlugins(){return new Yd({...h(this,Ji),executor:h(this,Ji).executor.withoutPlugins()})}withSchema(r){return new Yd({...h(this,Ji),executor:h(this,Ji).executor.withPluginAtFront(new Hp(r))})}withTables(){return new Yd({...h(this,Ji)})}};Ji=new WeakMap;let wE=Yd;function doe(e){return Ns(e)&&Ns(e.config)&&Ns(e.driver)&&Ns(e.executor)&&Ns(e.dialect)}class u6{constructor(t){U(this,pu,void 0);J(this,pu,v(t))}async execute(t){return h(this,pu).executor.provideConnection(async r=>{const n=h(this,pu).executor.withConnectionProvider(new l6(r)),i=new rm({...h(this,pu),executor:n});return await t(i)})}}pu=new WeakMap,Ke(u6,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");const AE=class AE{constructor(t){U(this,Hi,void 0);J(this,Hi,v(t))}setIsolationLevel(t){return new AE({...h(this,Hi),isolationLevel:t})}async execute(t){const{isolationLevel:r,...n}=h(this,Hi),i={isolationLevel:r};return hoe(i),h(this,Hi).executor.provideConnection(async s=>{const o=h(this,Hi).executor.withConnectionProvider(new l6(s)),a=new wE({...n,executor:o});try{await h(this,Hi).driver.beginTransaction(s,i);const l=await t(a);return await h(this,Hi).driver.commitTransaction(s),l}catch(l){throw await h(this,Hi).driver.rollbackTransaction(s),l}})}};Hi=new WeakMap;let Av=AE;Ke(Av,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function hoe(e){if(e.isolationLevel&&!aoe.includes(e.isolationLevel))throw new Error(`invalid transaction isolation level ${e.isolationLevel}`)}class foe{constructor(){N(this,"nodeStack",[]);U(this,ew,v({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this)}));N(this,"visitNode",t=>{this.nodeStack.push(t),h(this,ew)[t.kind](t),this.nodeStack.pop()})}get parentNode(){return this.nodeStack[this.nodeStack.length-2]}}ew=new WeakMap;class poe extends foe{constructor(){super(...arguments);U(this,Xd,"");U(this,mu,[])}get numParameters(){return h(this,mu).length}compileQuery(r){return J(this,Xd,""),J(this,mu,[]),this.visitNode(r),v({query:r,sql:this.getSql(),parameters:[...h(this,mu)]})}getSql(){return h(this,Xd)}visitSelectQuery(r){var i,s;const n=this.parentNode!==void 0&&!Nd.is(this.parentNode)&&!Ss.is(this.parentNode)&&!Da.is(this.parentNode)&&!qF.is(this.parentNode);this.parentNode===void 0&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("select"),r.distinctOn&&(this.append(" "),this.compileDistinctOn(r.distinctOn)),(i=r.frontModifiers)!=null&&i.length&&(this.append(" "),this.compileList(r.frontModifiers," ")),r.selections&&(this.append(" "),this.compileList(r.selections)),r.from&&(this.append(" "),this.visitNode(r.from)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.groupBy&&(this.append(" "),this.visitNode(r.groupBy)),r.having&&(this.append(" "),this.visitNode(r.having)),r.setOperations&&(this.append(" "),this.compileList(r.setOperations," ")),r.orderBy&&(this.append(" "),this.visitNode(r.orderBy)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.offset&&(this.append(" "),this.visitNode(r.offset)),(s=r.endModifiers)!=null&&s.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...r.endModifiers])," ")),n&&this.append(")")}visitFrom(r){this.append("from "),this.compileList(r.froms)}visitSelection(r){this.visitNode(r.selection)}visitColumn(r){this.visitNode(r.column)}compileDistinctOn(r){this.append("distinct on ("),this.compileList(r),this.append(")")}compileList(r,n=", "){const i=r.length-1;for(let s=0;s<=i;s++)this.visitNode(r[s]),s<i&&this.append(n)}visitWhere(r){this.append("where "),this.visitNode(r.where)}visitHaving(r){this.append("having "),this.visitNode(r.having)}visitInsertQuery(r){const n=this.nodeStack.find(Pe.is)!==r;!n&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append(r.replace?"replace":"insert"),r.ignore&&this.append(" ignore"),this.append(" into "),this.visitNode(r.into),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.values&&(this.append(" "),this.visitNode(r.values)),r.onConflict&&(this.append(" "),this.visitNode(r.onConflict)),r.onDuplicateKey&&(this.append(" "),this.visitNode(r.onDuplicateKey)),r.returning&&(this.append(" "),this.visitNode(r.returning)),n&&this.append(")")}visitValues(r){this.append("values "),this.compileList(r.values)}visitDeleteQuery(r){const n=this.nodeStack.find(Pe.is)!==r;!n&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("delete "),this.visitNode(r.from),r.using&&(this.append(" "),this.visitNode(r.using)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.orderBy&&(this.append(" "),this.visitNode(r.orderBy)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.returning&&(this.append(" "),this.visitNode(r.returning)),n&&this.append(")")}visitReturning(r){this.append("returning "),this.compileList(r.selections)}visitAlias(r){this.visitNode(r.node),this.append(" as "),this.visitNode(r.alias)}visitReference(r){r.table&&(this.visitNode(r.table),this.append(".")),this.visitNode(r.column)}visitSelectAll(r){this.append("*")}visitIdentifier(r){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(r),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(r){if(!xs(r.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(r.name))}visitAnd(r){this.visitNode(r.left),this.append(" and "),this.visitNode(r.right)}visitOr(r){this.visitNode(r.left),this.append(" or "),this.visitNode(r.right)}visitValue(r){r.immediate?this.appendImmediateValue(r.value):this.appendValue(r.value)}visitValueList(r){this.append("("),this.compileList(r.values),this.append(")")}visitTuple(r){this.append("("),this.compileList(r.values),this.append(")")}visitPrimitiveValueList(r){this.append("(");const{values:n}=r;for(let i=0;i<n.length;++i)this.appendValue(n[i]),i!==n.length-1&&this.append(", ");this.append(")")}visitParens(r){this.append("("),this.visitNode(r.node),this.append(")")}visitJoin(r){this.append(goe[r.joinType]),this.append(" "),this.visitNode(r.table),r.on&&(this.append(" "),this.visitNode(r.on))}visitOn(r){this.append("on "),this.visitNode(r.on)}visitRaw(r){const{sqlFragments:n,parameters:i}=r;for(let s=0;s<n.length;++s)this.append(n[s]),i.length>s&&this.visitNode(i[s])}visitOperator(r){this.append(r.operator)}visitTable(r){this.visitNode(r.table)}visitSchemableIdentifier(r){r.schema&&(this.visitNode(r.schema),this.append(".")),this.visitNode(r.identifier)}visitCreateTable(r){this.append("create "),r.frontModifiers&&r.frontModifiers.length>0&&(this.compileList(r.frontModifiers," "),this.append(" ")),r.temporary&&this.append("temporary "),this.append("table "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.table),this.append(" ("),this.compileList([...r.columns,...r.constraints??[]]),this.append(")"),r.onCommit&&(this.append(" on commit "),this.append(r.onCommit)),r.endModifiers&&r.endModifiers.length>0&&(this.append(" "),this.compileList(r.endModifiers," "))}visitColumnDefinition(r){this.visitNode(r.column),this.append(" "),this.visitNode(r.dataType),r.unsigned&&this.append(" unsigned"),r.frontModifiers&&r.frontModifiers.length>0&&(this.append(" "),this.compileList(r.frontModifiers," ")),r.generated&&(this.append(" "),this.visitNode(r.generated)),r.defaultTo&&(this.append(" "),this.visitNode(r.defaultTo)),r.notNull&&this.append(" not null"),r.unique&&this.append(" unique"),r.primaryKey&&this.append(" primary key"),r.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),r.references&&(this.append(" "),this.visitNode(r.references)),r.check&&(this.append(" "),this.visitNode(r.check)),r.endModifiers&&r.endModifiers.length>0&&(this.append(" "),this.compileList(r.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(r){this.append("references "),this.visitNode(r.table),this.append(" ("),this.compileList(r.columns),this.append(")"),r.onDelete&&(this.append(" on delete "),this.append(r.onDelete)),r.onUpdate&&(this.append(" on update "),this.append(r.onUpdate))}visitDropTable(r){this.append("drop table "),r.ifExists&&this.append("if exists "),this.visitNode(r.table),r.cascade&&this.append(" cascade")}visitDataType(r){this.append(r.dataType)}visitOrderBy(r){this.append("order by "),this.compileList(r.items)}visitOrderByItem(r){this.visitNode(r.orderBy),r.direction&&(this.append(" "),this.visitNode(r.direction))}visitGroupBy(r){this.append("group by "),this.compileList(r.items)}visitGroupByItem(r){this.visitNode(r.groupBy)}visitUpdateQuery(r){const n=this.nodeStack.find(Pe.is)!==r;!n&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("update "),this.visitNode(r.table),this.append(" set "),r.updates&&this.compileList(r.updates),r.from&&(this.append(" "),this.visitNode(r.from)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.returning&&(this.append(" "),this.visitNode(r.returning)),n&&this.append(")")}visitColumnUpdate(r){this.visitNode(r.column),this.append(" = "),this.visitNode(r.value)}visitLimit(r){this.append("limit "),this.visitNode(r.limit)}visitOffset(r){this.append("offset "),this.visitNode(r.offset)}visitOnConflict(r){this.append("on conflict"),r.columns?(this.append(" ("),this.compileList(r.columns),this.append(")")):r.constraint?(this.append(" on constraint "),this.visitNode(r.constraint)):r.indexExpression&&(this.append(" ("),this.visitNode(r.indexExpression),this.append(")")),r.indexWhere&&(this.append(" "),this.visitNode(r.indexWhere)),r.doNothing===!0?this.append(" do nothing"):r.updates&&(this.append(" do update set "),this.compileList(r.updates),r.updateWhere&&(this.append(" "),this.visitNode(r.updateWhere)))}visitOnDuplicateKey(r){this.append("on duplicate key update "),this.compileList(r.updates)}visitCreateIndex(r){this.append("create "),r.unique&&this.append("unique "),this.append("index "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.name),r.table&&(this.append(" on "),this.visitNode(r.table)),r.using&&(this.append(" using "),this.visitNode(r.using)),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.where&&(this.append(" "),this.visitNode(r.where))}visitDropIndex(r){this.append("drop index "),r.ifExists&&this.append("if exists "),this.visitNode(r.name),r.table&&(this.append(" on "),this.visitNode(r.table)),r.cascade&&this.append(" cascade")}visitCreateSchema(r){this.append("create schema "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.schema)}visitDropSchema(r){this.append("drop schema "),r.ifExists&&this.append("if exists "),this.visitNode(r.schema),r.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("primary key ("),this.compileList(r.columns),this.append(")")}visitUniqueConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("unique ("),this.compileList(r.columns),this.append(")")}visitCheckConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("check ("),this.visitNode(r.expression),this.append(")")}visitForeignKeyConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("foreign key ("),this.compileList(r.columns),this.append(") "),this.visitNode(r.references),r.onDelete&&(this.append(" on delete "),this.append(r.onDelete)),r.onUpdate&&(this.append(" on update "),this.append(r.onUpdate))}visitList(r){this.compileList(r.items)}visitWith(r){this.append("with "),r.recursive&&this.append("recursive "),this.compileList(r.expressions)}visitCommonTableExpression(r){this.visitNode(r.name),this.append(" as "),J0(r.materialized)&&(r.materialized||this.append("not "),this.append("materialized ")),this.visitNode(r.expression)}visitCommonTableExpressionName(r){this.visitNode(r.table),r.columns&&(this.append("("),this.compileList(r.columns),this.append(")"))}visitAlterTable(r){this.append("alter table "),this.visitNode(r.table),this.append(" "),r.renameTo&&(this.append("rename to "),this.visitNode(r.renameTo)),r.setSchema&&(this.append("set schema "),this.visitNode(r.setSchema)),r.addConstraint&&this.visitNode(r.addConstraint),r.dropConstraint&&this.visitNode(r.dropConstraint),r.columnAlterations&&this.compileList(r.columnAlterations)}visitAddColumn(r){this.append("add column "),this.visitNode(r.column)}visitRenameColumn(r){this.append("rename column "),this.visitNode(r.column),this.append(" to "),this.visitNode(r.renameTo)}visitDropColumn(r){this.append("drop column "),this.visitNode(r.column)}visitAlterColumn(r){this.append("alter column "),this.visitNode(r.column),this.append(" "),r.dataType&&(this.append("type "),this.visitNode(r.dataType),r.dataTypeExpression&&(this.append("using "),this.visitNode(r.dataTypeExpression))),r.setDefault&&(this.append("set default "),this.visitNode(r.setDefault)),r.dropDefault&&this.append("drop default"),r.setNotNull&&this.append("set not null"),r.dropNotNull&&this.append("drop not null")}visitModifyColumn(r){this.append("modify column "),this.visitNode(r.column)}visitAddConstraint(r){this.append("add "),this.visitNode(r.constraint)}visitDropConstraint(r){this.append("drop constraint "),r.ifExists&&this.append("if exists "),this.visitNode(r.constraintName),r.modifier==="cascade"?this.append(" cascade"):r.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(r){this.append(r.operator),this.append(" "),r.all&&this.append("all "),this.visitNode(r.expression)}visitCreateView(r){this.append("create "),r.orReplace&&this.append("or replace "),r.materialized&&this.append("materialized "),r.temporary&&this.append("temporary "),this.append("view "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.name),this.append(" "),r.columns&&(this.append("("),this.compileList(r.columns),this.append(") ")),r.as&&(this.append("as "),this.visitNode(r.as))}visitDropView(r){this.append("drop "),r.materialized&&this.append("materialized "),this.append("view "),r.ifExists&&this.append("if exists "),this.visitNode(r.name),r.cascade&&this.append(" cascade")}visitGenerated(r){this.append("generated "),r.always&&this.append("always "),r.byDefault&&this.append("by default "),this.append("as "),r.identity&&this.append("identity"),r.expression&&(this.append("("),this.visitNode(r.expression),this.append(")")),r.stored&&this.append(" stored")}visitDefaultValue(r){this.append("default "),this.visitNode(r.defaultValue)}visitSelectModifier(r){r.rawModifier?this.visitNode(r.rawModifier):this.append(moe[r.modifier])}visitCreateType(r){this.append("create type "),this.visitNode(r.name),r.enum&&(this.append(" as enum "),this.visitNode(r.enum))}visitDropType(r){this.append("drop type "),r.ifExists&&this.append("if exists "),this.visitNode(r.name)}visitExplain(r){this.append("explain"),(r.options||r.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),r.options&&(this.visitNode(r.options),r.format&&this.append(this.getExplainOptionsDelimiter())),r.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(r.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(r){this.append("default")}visitAggregateFunction(r){this.append(r.func),this.append("("),r.distinct&&this.append("distinct "),this.compileList(r.aggregated),this.append(")"),r.filter&&(this.append(" filter("),this.visitNode(r.filter),this.append(")")),r.over&&(this.append(" "),this.visitNode(r.over))}visitOver(r){this.append("over("),r.partitionBy&&(this.visitNode(r.partitionBy),r.orderBy&&this.append(" ")),r.orderBy&&this.visitNode(r.orderBy),this.append(")")}visitPartitionBy(r){this.append("partition by "),this.compileList(r.items)}visitPartitionByItem(r){this.visitNode(r.partitionBy)}visitBinaryOperation(r){this.visitNode(r.leftOperand),this.append(" "),this.visitNode(r.operator),this.append(" "),this.visitNode(r.rightOperand)}visitUnaryOperation(r){this.visitNode(r.operator),this.isMinusOperator(r.operator)||this.append(" "),this.visitNode(r.operand)}isMinusOperator(r){return Xl.is(r)&&r.operator==="-"}visitUsing(r){this.append("using "),this.compileList(r.tables)}visitFunction(r){this.append(r.func),this.append("("),this.compileList(r.arguments),this.append(")")}visitCase(r){this.append("case"),r.value&&(this.append(" "),this.visitNode(r.value)),r.when&&(this.append(" "),this.compileList(r.when," ")),r.else&&(this.append(" else "),this.visitNode(r.else)),this.append(" end"),r.isStatement&&this.append(" case")}visitWhen(r){this.append("when "),this.visitNode(r.condition),r.result&&(this.append(" then "),this.visitNode(r.result))}visitJSONReference(r){this.visitNode(r.reference),this.visitNode(r.traversal)}visitJSONPath(r){r.inOperator&&this.visitNode(r.inOperator),this.append("'$");for(const n of r.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(r){const n=r.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(r.value)),n&&this.append("]")}visitJSONOperatorChain(r){for(let n=0,i=r.values.length;n<i;n++)n===i-1?this.visitNode(r.operator):this.append("->"),this.visitNode(r.values[n])}append(r){J(this,Xd,h(this,Xd)+r)}appendValue(r){this.addParameter(r),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(r){const n=this.getLeftIdentifierWrapper(),i=this.getRightIdentifierWrapper();let s="";for(const o of r)s+=o,o===n?s+=n:o===i&&(s+=i);return s}addParameter(r){h(this,mu).push(r)}appendImmediateValue(r){if(xs(r))this.append(`'${r}'`);else if(aF(r)||J0(r))this.append(r.toString());else if(J2(r))this.append("null");else if(Kie(r))this.appendImmediateValue(r.toISOString());else if(Jie(r))this.appendImmediateValue(r.toString());else throw new Error(`invalid immediate value ${r}`)}sortSelectModifiers(r){return r.sort((n,i)=>n.modifier&&i.modifier?c6[n.modifier]-c6[i.modifier]:1),v(r)}}Xd=new WeakMap,mu=new WeakMap;const moe=v({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),c6=v({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),goe=v({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral"});class yoe{async init(){}async acquireConnection(){return new boe}async beginTransaction(){}async commitTransaction(){}async rollbackTransaction(){}async releaseConnection(){}async destroy(){}}class boe{async executeQuery(){return{rows:[]}}async*streamQuery(){}}const voe=/"/g;class woe extends poe{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(t){return t.replace(voe,'""')}visitDefaultInsertValue(t){this.append("null")}}class koe{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(t,r){}async releaseMigrationLock(t,r){}}const xoe="modulepreload",Noe=function(e,t){return new URL(e,t).href},d6={},Lv=function(e,t,r){if(!t||t.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Noe(i,r),i in d6)return;d6[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(r)for(let l=n.length-1;l>=0;l--){const u=n[l];if(u.href===i&&(!s||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":xoe,s||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),s)return new Promise((l,u)=>{a.addEventListener("load",l),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},Pv=Ve(),Soe=bn(Pv,Ye(function*(e){const t=yield*e(Ta),r=new Map;return Pv.of({add:n=>t.nanoid.pipe(ze(i=>{const s=i;return r.set(s,n),s})),complete:n=>rn(()=>{yb(n,i=>{const s=r.get(i);return r.delete(i),Cc(s)}).forEach(i=>i())})})})),kE=Ve(),_oe=new rm({dialect:{createAdapter:()=>new koe,createDriver:()=>new yoe,createIntrospector(){throw"Not implemeneted"},createQueryCompiler:()=>new woe}}),Eoe=()=>e=>A(e(_oe).compile(),({sql:t,parameters:r})=>({sql:t,parameters:r}),t=>Qne(t)),Ad=Ve(),Ooe=bn(Ad,Ye(function*(e){const t=yield*e(nm),r=new Map;return Ad.of({get(n){let i=!1,s=r.get(n);if(!s){i=!0;let o=yi;s={promise:new Promise(a=>{o=a}),resolve:o,releaseOnResolve:!1},r.set(n,s)}return{promise:s.promise,isNew:i}},resolve(n,i){const s=r.get(n);if(!s)return;const o=C2(i);s.promise.status!=="fulfilled"?s.resolve(o):s.promise=Promise.resolve(o),Coe(s.promise)(o),s.releaseOnResolve&&r.delete(n)},release(){const n=t.getSubscribedQueries();r.forEach((i,s)=>{n.includes(s)||(i.promise.status==="fulfilled"?r.delete(s):i.releaseOnResolve=!0)})}})})),Coe=e=>t=>{Object.assign(e,{status:"fulfilled",value:t})},xE=Ve(),Toe=bn(xE,Ye(function*(e){const t=yield*e(Ad),r=yield*e(Ja);let n=[];return xE.of(i=>{const{promise:s,isNew:o}=t.get(i);return o&&(n=[...n,i]),n.length===1&&queueMicrotask(()=>{wr(n)&&r.postMessage({_tag:"query",queries:n}),n=[]}),s})})),NE=Ve(),Ioe=bn(NE,Ye(function*(e){const t=yield*e(L0),r=yield*e(Ad),n=yield*e(JM),i=yield*e(Pv);return NE.of(({queriesPatches:s,onCompleteIds:o})=>Ye(function*(a){const l=t.getState(),u=A(s,Rr(({query:d,patches:c})=>[d,fie(c)(l.get(d)||A0())]),d=>new Map([...l,...d]));if(s.forEach(({query:d})=>{r.resolve(d,u.get(d)||A0())}),o.length===0){yield*a(t.setState(u));return}n(()=>t.setState(u).pipe(Zi)),yield*a(i.complete(o))}))})),nm=Ve(),Roe=bn(nm,Ye(function*(e){const t=yield*e(L0),r=new Map;return nm.of({subscribeQuery:n=>i=>{r.set(n,eL(r.get(n)??0));const s=t.subscribe(i);return()=>{const o=r.get(n);o!=null&&o>1?r.set(n,NZ(o)):r.delete(n),s()}},getQuery:n=>C2(t.getState().get(n)||A0()),getSubscribedQueries:()=>St(r.keys())})})),SE=Ve(),Aoe=bn(SE,Ye(function*(e){const t=yield*e(Ta),r=yield*e(Pv),n=yield*e(vd),i=yield*e(nm),s=yield*e(Ad),o=yield*e(Ja);let a=[];return SE.of((l,{id:u,...d},c)=>{const f=u==null;f&&(u=Zi(t.nanoid));const m=c?r.add(c).pipe(Zi):null;return a=[...a,{table:l.toString(),id:u,values:d,isInsert:f,now:kM(new Date(Zi(n.now))),onCompleteId:m}],a.length===1&&queueMicrotask(()=>{wr(a)&&o.postMessage({_tag:"mutate",mutations:a,queries:i.getSubscribedQueries()}),s.release(),a=[]}),{id:u}})})),Loe=bn(kE,Ye(function*(e){const t=yield*e(Ja),r=yield*e(mie),n=yield*e(xE),i=yield*e(NE),{subscribeQuery:s,getQuery:o,getSubscribedQueries:a}=yield*e(nm),l=yield*e(R0({_tag:"SyncStateInitial"})),u=yield*e(SE),d=yield*e(R0(null)),c=yield*e(Ad),f=yield*e(Fp);t.onMessage=g=>I2(g).pipe(R2({onError:({error:b})=>r.setState(b),onQuery:i,onOwner:({owner:b})=>d.setState(b),onSyncState:({state:b})=>l.setState(b),onReceive:()=>rn(()=>{c.release();const b=a();wr(b)&&t.postMessage({_tag:"query",queries:b})}),onResetOrRestore:()=>f.reset}),Zi),t.postMessage({_tag:"init",config:yield*e(bo)});const m=()=>{t.postMessage({_tag:"sync",queries:a()})};return f.init({onRequestSync:m}),m(),kE.of({subscribeError:r.subscribe,getError:r.getState,createQuery:Eoe(),loadQuery:n,loadQueries:g=>g.map(n),subscribeQuery:s,getQuery:o,subscribeOwner:d.subscribe,getOwner:d.getState,subscribeSyncState:l.subscribe,getSyncState:l.getState,create:u,update:u,resetOwner:()=>t.postMessage({_tag:"reset"}),restoreOwner:g=>t.postMessage({_tag:"reset",mnemonic:g}),ensureSchema:g=>t.postMessage({_tag:"ensureSchema",tables:Yne(g)}),sync:m})})).pipe(Io(ow(Toe,Ioe,Aoe)),Io(Ooe),Io(Roe),Io(Ip(TM,Soe))),Poe=Loe.pipe(Io(Ip(m2,BE))),joe=e=>(t,r)=>{const n=$e("@evolu/common",()=>kE.pipe(Ha(e),Ha(i2(r)),Zi));return n.ensureSchema(t),n},Moe=(e,t={})=>{const r=n2(),{once:n}=Z.useRef(t).current;return n?(Z.useEffect(()=>r.subscribeQuery(e)(yi),[r,e]),r.getQuery(e)):Z.useSyncExternalStore(Z.useMemo(()=>r.subscribeQuery(e),[r,e]),Z.useMemo(()=>()=>r.getQuery(e),[r,e]),()=>C2(A0()))},Foe=(e,t={})=>{const r=n2();return km&&$j((t==null?void 0:t.promise)||r.loadQuery(e)),Moe(e,t)},Doe=bn(Ja,Ye(function*(e){const t=yield*e(D2);if(t==="web-with-opfs"){const r=new Worker(new URL(""+new URL("assets/DbWorker.worker-cfef6bfa.js",import.meta.url).href,self.location),{type:"module"});r.onmessage=i=>{n.onMessage(i.data)};const n={postMessage:i=>{r.postMessage(i)},onMessage:yi};return n}if(t==="web-without-opfs"){const r=Qa(()=>Lv(()=>import("./DbWorker54bf6e82.js").then(async i=>(await i.__tla,i)),[],import.meta.url)).pipe(ze(({dbWorker:i})=>(i.onMessage=n.onMessage,i.postMessage)),d0),n={postMessage:i=>{r.then(s=>{s(i)},s=>{n.onMessage({_tag:"onError",error:{_tag:"UnexpectedError",error:Lp(s).pipe(Zi)}})})},onMessage:yi};return n}return Ja.of({postMessage:yi,onMessage:yi})})),Boe=()=>navigator.userAgentData!=null&&navigator.userAgentData.brands.find(({brand:e,version:t})=>e.includes("Chrom")&&Number(t)>=109)!=null,Woe=()=>{const e=navigator.userAgent.toLowerCase();if(e.indexOf("firefox")===-1)return!1;const t=e.match(/firefox\/([0-9]+\.*[0-9]*)/);return t==null?!1:Number(t[1])>=111},qoe=()=>{const e=navigator.userAgent.toLowerCase();if(e.indexOf("safari")===-1)return!1;const t=e.match(/version\/([0-9]+)/);return t==null?!1:Number(t[1])>=17},Uoe=bi(D2,km?Boe()||Woe()||qoe()?"web-with-opfs":"web-without-opfs":"server"),$oe=bi(JM,mI.flushSync);bn(jp,rn(()=>{const e="evolu:sync";let t=null;return jp.of({acquire:Ye(function*(r){return t?!1:(t=yi,yield*r(cj(n=>{navigator.locks.request(e,{ifAvailable:!0},i=>{if(i==null){t=null,n(hd(!1));return}return n(hd(!0)),new Promise(s=>{t=s})})})))}),release:rn(()=>{t&&t(),t=null})})}));let h6,_E,f6;h6=bn(Fp,Ye(function*(e){if((yield*e(D2))==="server")return Fp.of({init:yi,reset:hd(void 0)});const{reloadUrl:t}=yield*e(bo),r="evolu:reloadAllTabs",n=()=>{location.assign(t)};return window.addEventListener("storage",i=>{i.key===r&&n()}),Fp.of({init:({onRequestSync:i})=>{window.addEventListener("online",i),document.addEventListener("visibilitychange",()=>{document.visibilityState!=="hidden"&&i()}),window.addEventListener("focus",i)},reset:rn(()=>{localStorage.setItem(r,Date.now().toString()),n()})})})),_E=c0([Qa(()=>Lv(()=>import("./index36265be9.js").then(async e=>(await e.__tla,e)),[],import.meta.url)),Qa(()=>Lv(()=>import("./englishd2ef6840.js"),[],import.meta.url))],{concurrency:"unbounded"}),DE=bi(Zl,Zl.of({make:_E.pipe(ze(([{generateMnemonic:e},{wordlist:t}])=>e(t,128))),toSeed:e=>Qa(()=>Lv(()=>import("./index36265be9.js").then(async t=>(await t.__tla,t)),[],import.meta.url)).pipe(ct(t=>Qa(()=>t.mnemonicToSeed(e)))),parse:e=>_E.pipe(ct(([{validateMnemonic:t},{wordlist:r}])=>t(e,r)?hd(e):ws({_tag:"InvalidMnemonicError"})))})),f6=joe(Poe.pipe(Io(Ip(Doe,h6)),Io(Ip(Uoe,$oe)))),Zl.pipe(Ha(DE),Zi).parse;const Voe=S2("Todo"),p6=S2("TodoCategory"),m6=O2.pipe(G_(1),y0(50),pi("NonEmptyString50")),zoe=NM({id:Voe,title:xM,isCompleted:Q_(E2),categoryId:Q_(p6)}),Koe=Tp({foo:yo,bar:Ore}),Joe=NM({id:p6,name:m6,json:Q_(Koe)}),Hoe=Hne({todo:zoe,todoCategory:Joe}),tu=f6(Hoe),Qoe=()=>Promise.all(tu.loadQueries([tu.createQuery(e=>e.selectFrom("todo").selectAll()),tu.createQuery(e=>e.selectFrom("todoCategory").selectAll())])).then(([e,t])=>{if(e.row||t.row)return;const{id:r}=tu.create("todoCategory",{name:Ql(m6)("Not Urgent")});tu.create("todo",{title:Ql(xM)("Try React Suspense"),categoryId:r})});(e=>{if(!km)return!1;const t='evolu:isRestoringOwner"';return e!=null&&localStorage.setItem(t,e.toString()),localStorage.getItem(t)==="true"})()||await Qoe();const Zoe=tu.createQuery(e=>e.selectFrom("todo").select(["id","title","isCompleted","categoryId"]));function Goe(){return W.jsx(Uj,{value:tu,children:W.jsx(Yoe,{})})}function Yoe(){var t;const e=Foe(Zoe);return console.log(e),W.jsx("div",{children:(t=e.row)==null?void 0:t.title})}function Xoe(){return W.jsxs(W.Fragment,{children:[W.jsx(Goe,{}),W.jsx(BB,{router:cR})]})}fw.createRoot(document.getElementById("root")).render(W.jsx(ur.StrictMode,{children:W.jsx(Xoe,{})}))})();export{FE as A,DE as B,nw as C,Ja as D,iw as E,BE as N,Sr as S,Qae as __tla,bn as a,sw as b,km as c,rn as d,w6 as e,yi as f,Ye as g,Ha as h,Io as i,k6 as j,ow as k,xm as l,x6 as m,N6 as n,WE as o,Qa as p,S6 as q,Zi as r,bi as s,aw as t,Nm as u,_6 as v,Sm as w,qE as x,UE as y,E6 as z};
